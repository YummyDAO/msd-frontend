(this["webpackJsonp@liquity/dev-frontend"]=this["webpackJsonp@liquity/dev-frontend"]||[]).push([[0],{124:function(e,t,n){"use strict";var a,i=n(3),r=n(67),s=n(83),o=n(149),u=n(44),c=n(68),d=n(69),l=n(210),p=n(171),b=n(211),y=n(89),f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t._connect=t._connectByChainId=t._connectToDeployment=t.UnsupportedNetworkError=t._usingStore=t._requireFrontendAddress=t._requireAddress=t._getProvider=t._requireSigner=t._getBlockTimestamp=t._getContracts=void 0;var m=n(103),h=n(7),v=f(n(397)),T=f(n(398)),j=f(n(399)),x=f(n(400)),g=f(n(401)),O=f(n(402)),w=f(n(403)),_=n(172),S=n(260),k=n(424),D=v.default,E=y((b(a={},O.default.chainId,O.default),b(a,g.default.chainId,g.default),b(a,x.default.chainId,x.default),b(a,T.default.chainId,T.default),b(a,j.default.chainId,j.default),b(a,w.default.chainId,w.default),a),null!==D?b({},D.chainId,D):{}),M=function(e,t,n,a,i,r){var s=i.deploymentDate,o=i.totalStabilityPoolLQTYReward,u=i.liquidityMiningLQTYRewardRate,c=p(i,["deploymentDate","totalStabilityPoolLQTYReward","liquidityMiningLQTYRewardRate"]);if(r&&void 0!==r.useStore&&!I.includes(r.useStore))throw new Error("Invalid useStore value ".concat(r.useStore));return y(y({provider:e,signer:t,_contracts:n,_multicall:a,deploymentDate:new Date(s),totalStabilityPoolLQTYReward:h.Decimal.from(o),liquidityMiningLQTYRewardRate:h.Decimal.from(u)},c),r)};t._getContracts=function(e){return e._contracts};var A=function(e){return e._multicall},C=function(e){return e.timestamp};t._getBlockTimestamp=function(e){var n,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest";return null!==(a=null===(n=A(e))||void 0===n?void 0:n.getCurrentBlockTimestamp({blockTag:i}).then(_.numberify))&&void 0!==a?a:t._getProvider(e).getBlock(i).then(C)};t._requireSigner=function(e){var t;return null!==(t=e.signer)&&void 0!==t?t:_.panic(new Error("Must be connected through a Signer"))};t._getProvider=function(e){return e.provider};t._requireAddress=function(e,t){var n,a;return null!==(a=null!==(n=null===t||void 0===t?void 0:t.from)&&void 0!==n?n:e.userAddress)&&void 0!==a?a:_.panic(new Error("A user address is required"))};t._requireFrontendAddress=function(e){var t;return null!==(t=e.frontendTag)&&void 0!==t?t:_.panic(new Error("A frontend address is required"))};t._usingStore=function(e){return void 0!==e.useStore};var L=function(e){c(n,e);var t=d(n);function n(e){var a;return u(this,n),(a=t.call(this,"Unsupported network (chainId = ".concat(e,")"))).name="UnsupportedNetworkError",a.chainId=e,a}return n}(l(Error));t.UnsupportedNetworkError=L;var R=function(e){var t;return[m.Signer.isSigner(e)?null!==(t=e.provider)&&void 0!==t?t:_.panic(new Error("Signer must have a Provider")):e,m.Signer.isSigner(e)?e:void 0]};t._connectToDeployment=function(e,t,n){return M.apply(void 0,o(R(t)).concat([S._connectToContracts(t,e),void 0,e,n]))};var I=["blockPolled"];function P(e,t,n,a){var i,r=null!==(i=E[n])&&void 0!==i?i:_.panic(new L(n));return M(e,t,S._connectToContracts(null!==t&&void 0!==t?t:e,r),k._connectToMulticall(null!==t&&void 0!==t?t:e,n),r,a)}t._connectByChainId=P;var B=function(){var e=s(i.mark((function e(t,n){var a,s,o,u;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=R(t),s=r(a,2),o=s[0],!(u=s[1])){e.next=12;break}if(void 0===(null===n||void 0===n?void 0:n.userAddress)){e.next=4;break}throw new Error("Can't override userAddress when connecting through Signer");case 4:return e.t0=y,e.t1=y({},n),e.t2={},e.next=9,u.getAddress();case 9:e.t3=e.sent,e.t4={userAddress:e.t3},n=(0,e.t0)(e.t1,e.t2,e.t4);case 12:return e.t5=P,e.t6=o,e.t7=u,e.next=17,o.getNetwork();case 17:return e.t8=e.sent.chainId,e.t9=n,e.abrupt("return",(0,e.t5)(e.t6,e.t7,e.t8,e.t9));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t._connect=B},125:function(e,t,n){"use strict";var a=n(67),i=n(44),r=n(46),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Percent=t.Difference=t.Decimal=void 0;var o=s(n(150)),u=n(51),c=function(e){return p.pow(e)},d=18,l=u.BigNumber.from(1),p=u.BigNumber.from(10),b=c(d),y=/^[0-9]*(\.[0-9]*)?(e[-+]?[0-9]+)?$/,f=/0*$/,m=["","K","M","B","T"],h=function(e,t){return e.mul(t).add(v.HALF.hex).div(b)},v=function(){function e(t){if(i(this,e),t.isNegative())throw new Error("negatives not supported by Decimal");this._bigNumber=t}return r(e,[{key:"hex",get:function(){return this._bigNumber.toHexString()}},{key:"bigNumber",get:function(){return this._bigNumber.toString()}},{key:"_toStringWithAutomaticPrecision",value:function(){var e=this._bigNumber.div(b),t=this._bigNumber.mod(b);if(t.isZero())return e.toString();var n=t.toString().padStart(d,"0").replace(f,"");return e.toString()+"."+n}},{key:"_roundUp",value:function(e){var t=c(17-e).mul(5);return this._bigNumber.add(t)}},{key:"_toStringWithPrecision",value:function(e){if(e<0)throw new Error("precision must not be negative");var t=e<d?this._roundUp(e):this._bigNumber,n=t.div(b),a=t.mod(b);if(0===e)return n.toString();var i=a.toString().padStart(d,"0").substr(0,e);return n.toString()+"."+i}},{key:"toString",value:function(e){return this.infinite?"\u221e":void 0!==e?this._toStringWithPrecision(e):this._toStringWithAutomaticPrecision()}},{key:"prettify",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=this.toString(e).split("."),n=a(t,2),i=n[0],r=n[1],s=i.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");return void 0!==r?s+"."+r:s}},{key:"shorten",value:function(){var t=this.toString(0).length,n=Math.min(Math.floor((t-1)/3),m.length-1),a=Math.max(3*(n+1)-t,0);return this.div(new e(c(d+3*n))).prettify(a)+m[n]}},{key:"add",value:function(t){return new e(this._bigNumber.add(e.from(t)._bigNumber))}},{key:"sub",value:function(t){return new e(this._bigNumber.sub(e.from(t)._bigNumber))}},{key:"mul",value:function(t){return new e(this._bigNumber.mul(e.from(t)._bigNumber).div(b))}},{key:"div",value:function(t){return(t=e.from(t)).isZero?e.INFINITY:new e(this._bigNumber.mul(b).div(t._bigNumber))}},{key:"_divCeil",value:function(t){return(t=e.from(t)).isZero?e.INFINITY:new e(this._bigNumber.mul(b).add(t._bigNumber.sub(l)).div(t._bigNumber))}},{key:"mulDiv",value:function(t,n){return t=e.from(t),(n=e.from(n)).isZero?e.INFINITY:new e(this._bigNumber.mul(t._bigNumber).div(n._bigNumber))}},{key:"pow",value:function(t){if(o.default(Number.isInteger(t)),o.default(0<=t&&t<=4294967295),0===t)return e.ONE;if(1===t)return this;for(var n=this._bigNumber,a=b;t>1;t>>>=1)1&t&&(a=h(n,a)),n=h(n,n);return new e(h(n,a))}},{key:"isZero",get:function(){return this._bigNumber.isZero()}},{key:"zero",get:function(){if(this.isZero)return this}},{key:"nonZero",get:function(){if(!this.isZero)return this}},{key:"infinite",get:function(){if(this.eq(e.INFINITY))return this}},{key:"finite",get:function(){if(!this.eq(e.INFINITY))return this}},{key:"absoluteValue",get:function(){return this}},{key:"lt",value:function(t){return this._bigNumber.lt(e.from(t)._bigNumber)}},{key:"eq",value:function(t){return this._bigNumber.eq(e.from(t)._bigNumber)}},{key:"gt",value:function(t){return this._bigNumber.gt(e.from(t)._bigNumber)}},{key:"gte",value:function(t){return this._bigNumber.gte(e.from(t)._bigNumber)}},{key:"lte",value:function(t){return this._bigNumber.lte(e.from(t)._bigNumber)}}],[{key:"fromBigNumberString",value:function(t){return new e(u.BigNumber.from(t))}},{key:"_fromString",value:function(t){if(!t||!t.match(y))throw new Error('bad decimal format: "'.concat(t,'"'));if(t.includes("e")){var n=t.split("e"),i=a(n,2),r=i[0],s=i[1];return s.startsWith("-")?new e(e._fromString(r)._bigNumber.div(p.pow(u.BigNumber.from(s.substr(1))))):(s.startsWith("+")&&(s=s.substr(1)),new e(e._fromString(r)._bigNumber.mul(p.pow(u.BigNumber.from(s)))))}if(!t.includes("."))return new e(u.BigNumber.from(t).mul(b));var o=t.split("."),c=a(o,2),l=c[0],f=c[1];return f.length<d?f+="0".repeat(d-f.length):f=f.substr(0,d),new e(u.BigNumber.from(l||0).mul(b).add(f))}},{key:"from",value:function(t){switch(typeof t){case"object":if(t instanceof e)return t;throw new Error("invalid Decimalish value");case"string":return e._fromString(t);case"number":return e._fromString(t.toString());default:throw new Error("invalid Decimalish value")}}},{key:"min",value:function(t,n){return t=e.from(t),n=e.from(n),t.lt(n)?t:n}},{key:"max",value:function(t,n){return t=e.from(t),n=e.from(n),t.gt(n)?t:n}}]),e}();t.Decimal=v,v.INFINITY=v.fromBigNumberString("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),v.ZERO=v.from(0),v.HALF=v.from(.5),v.ONE=v.from(1);var T=function(){function e(t){i(this,e),this._number=t}return r(e,[{key:"toString",value:function(e){return this._number?this._number.sign+this._number.absoluteValue.toString(e):"N/A"}},{key:"prettify",value:function(e){return this._number?this._number.sign+this._number.absoluteValue.prettify(e):this.toString()}},{key:"mul",value:function(t){return new e(this._number&&{sign:this._number.sign,absoluteValue:this._number.absoluteValue.mul(t)})}},{key:"nonZero",get:function(){var e;return(null===(e=this._number)||void 0===e?void 0:e.absoluteValue.nonZero)&&this}},{key:"positive",get:function(){var e;return"+"===(null===(e=this._number)||void 0===e?void 0:e.sign)?this:void 0}},{key:"negative",get:function(){var e;return"-"===(null===(e=this._number)||void 0===e?void 0:e.sign)?this:void 0}},{key:"absoluteValue",get:function(){var e;return null===(e=this._number)||void 0===e?void 0:e.absoluteValue}},{key:"infinite",get:function(){var e;return(null===(e=this._number)||void 0===e?void 0:e.absoluteValue.infinite)&&this}},{key:"finite",get:function(){var e;return(null===(e=this._number)||void 0===e?void 0:e.absoluteValue.finite)&&this}}],[{key:"between",value:function(t,n){return void 0===t||void 0===n?new e(void 0):(t=v.from(t),n=v.from(n),t.infinite&&n.infinite?new e(void 0):t.infinite?new e({sign:"+",absoluteValue:t}):n.infinite?new e({sign:"-",absoluteValue:n}):t.gt(n)?new e({sign:"+",absoluteValue:v.from(t).sub(n)}):n.gt(t)?new e({sign:"-",absoluteValue:v.from(n).sub(t)}):new e({sign:"",absoluteValue:v.ZERO}))}}]),e}();t.Difference=T;var j=function(){function e(t){i(this,e),this._percent=t.infinite||t.mul&&t.mul(100)||t}return r(e,[{key:"nonZeroish",value:function(e){var t,n="0.".concat("0".repeat(e),"5");if(null===(t=this._percent.absoluteValue)||void 0===t?void 0:t.gte(n))return this}},{key:"toString",value:function(e){return this._percent.toString(e)+(this._percent.absoluteValue&&!this._percent.infinite?"%":"")}},{key:"prettify",value:function(){var e,t;return(null===(e=this._percent.absoluteValue)||void 0===e?void 0:e.gte("1000"))?this.toString(0):(null===(t=this._percent.absoluteValue)||void 0===t?void 0:t.gte("10"))?this.toString(1):this.toString(2)}}]),e}();t.Percent=j},141:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ERC20Faucet__factory=t.ChickenBondManager__factory=t.BLUSDToken__factory=t.BondNFT__factory=t.factories=void 0,t.factories=r(n(569));var s=n(301);Object.defineProperty(t,"BondNFT__factory",{enumerable:!0,get:function(){return s.BondNFT__factory}});var o=n(300);Object.defineProperty(t,"BLUSDToken__factory",{enumerable:!0,get:function(){return o.BLUSDToken__factory}});var u=n(302);Object.defineProperty(t,"ChickenBondManager__factory",{enumerable:!0,get:function(){return u.ChickenBondManager__factory}});var c=n(303);Object.defineProperty(t,"ERC20Faucet__factory",{enumerable:!0,get:function(){return c.ERC20Faucet__factory}})},155:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(365),t),i(n(255),t),i(n(259),t)},157:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.UnsupportedNetworkError=t._connectByChainId=void 0;var r=n(124);Object.defineProperty(t,"_connectByChainId",{enumerable:!0,get:function(){return r._connectByChainId}}),Object.defineProperty(t,"UnsupportedNetworkError",{enumerable:!0,get:function(){return r.UnsupportedNetworkError}}),i(n(425),t),i(n(261),t),i(n(426),t),i(n(262),t),i(n(263),t),i(n(264),t),i(n(429),t)},172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promiseAllValues=t.panic=t.decimalify=t.numberify=void 0;var a=n(7);t.numberify=function(e){return e.toNumber()};t.decimalify=function(e){return a.Decimal.fromBigNumberString(e.toHexString())};t.panic=function(e){throw e};t.promiseAllValues=function(e){var t=Object.keys(e);return Promise.all(Object.values(e)).then((function(e){return Object.fromEntries(e.map((function(e,n){return[t[n],e]})))}))}},212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MINIMUM_REDEMPTION_RATE=t.MAXIMUM_BORROWING_RATE=t.MINIMUM_BORROWING_RATE=t.LUSD_MINIMUM_DEBT=t.LUSD_MINIMUM_NET_DEBT=t.LUSD_LIQUIDATION_RESERVE=t.MINIMUM_COLLATERAL_RATIO=t.CRITICAL_COLLATERAL_RATIO=void 0;var a=n(125);t.CRITICAL_COLLATERAL_RATIO=a.Decimal.from(1.5),t.MINIMUM_COLLATERAL_RATIO=a.Decimal.from(1.1),t.LUSD_LIQUIDATION_RESERVE=a.Decimal.from(100),t.LUSD_MINIMUM_NET_DEBT=a.Decimal.from(200),t.LUSD_MINIMUM_DEBT=t.LUSD_LIQUIDATION_RESERVE.add(t.LUSD_MINIMUM_NET_DEBT),t.MINIMUM_BORROWING_RATE=a.Decimal.from(.005),t.MAXIMUM_BORROWING_RATE=a.Decimal.from(.05),t.MINIMUM_REDEMPTION_RATE=a.Decimal.from(.005)},213:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useLiquityStore=void 0;var a=n(1),i=n(267);t.useLiquityStore=function(){var e=a.useContext(i.LiquityStoreContext);if(!e)throw new Error("You must provide a LiquityStore via LiquityStoreProvider");return e}},23:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(267),t),i(n(213),t),i(n(434),t),i(n(435),t)},255:function(e,t,n){"use strict";var a=n(3),i=n(83),r=n(67),s=n(149),o=n(44),u=n(46),c=n(251),d=n(114),l=n(87),p=n(68),b=n(69);Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketAugmentedWeb3Provider=t.WebSocketAugmented=t.isWebSocketAugmentedProvider=void 0;var y=n(116),f=n(2),m=n(259),h=[];t.isWebSocketAugmentedProvider=function(e){return h.some((function(t){return e instanceof t}))};var v=function(e){return"string"===typeof e&&32===f.hexDataLength(e)},T=function(e){return new Promise((function(t){return setTimeout(t,e)}))},j=function(e){return function(t){return function(n,a){var i=a.isActive;e(n).then((function(e){null!==e&&i()&&t(e)}))}}},x=function(e){return function(t,n){e(t)}},g=function(e){return function(t,n){var a=n.removeMe;e(t),a()}};t.WebSocketAugmented=function(e){var t=function(e){p(n,e);var t=b(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments))._seenBlock=0,e._blockListenerScheduled=!1,e._blockListeners=new Map,e._blockListener=e._onBlock.bind(c(e)),e}return u(n,[{key:"openWebSocket",value:function(e,t){this._wsProvider=new m.WebSocketProvider(e,t),this._wsProvider.onClose=this._onWebSocketClose.bind(this),this._wsParams=[e,t],this._switchover()}},{key:"_onWebSocketClose",value:function(){var e=this;this.closeWebSocket(),console.warn("WebSocketProvider disconnected. Retrying in 10 seconds."),this._reconnectTimerId=setTimeout((function(){return e.openWebSocket.apply(e,s(e._wsParams))}),1e4)}},{key:"closeWebSocket",value:function(){this._wsProvider&&(this._wsProvider.onClose=null,this._wsProvider.close(1e3),this._wsProvider=void 0,this._switchover(),void 0!==this._reconnectTimerId&&(clearTimeout(this._reconnectTimerId),this._reconnectTimerId=void 0))}},{key:"_switchover",value:function(){this._blockListeners.size>0&&(this._wsProvider&&d(l(n.prototype),"off",this).call(this,"block",this._blockListener),this._startBlockEvents())}},{key:"_onBlock",value:function(e){var t=this;this._seenBlock=e,this._blockListenerScheduled||(this._blockListenerScheduled=!0,setTimeout((function(){t._blockListenerScheduled=!1,s(t._blockListeners).forEach((function(e){return(0,r(e,2)[1])(t._seenBlock)}))}),50))}},{key:"_retrySeenBlock",value:function(){var e=i(a.mark((function e(t,n){var i;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:return e.prev=1,e.next=4,t();case 4:return i=e.sent,e.abrupt("return",i);case 9:if(e.prev=9,e.t0=e.catch(1),this._seenBlock===n&&("object"===typeof(a=e.t0)&&"string"===typeof a.message&&(a.message.includes("header not found")||a.message.includes("request is not supported because your node is running with state pruning")))){e.next=13;break}throw e.t0;case 13:return e.next=15,T(200);case 15:e.next=1;break;case 18:case"end":return e.stop()}var a}),e,this,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"call",value:function(){var e=i(a.mark((function e(t,i){var r,s,o=this;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i;case 2:return r=e.sent,s=function(){var e;return(null===(e=o._wsProvider)||void 0===e?void 0:e.isReady)?o._wsProvider.call(t,r):d(l(n.prototype),"call",o).call(o,t,r)},e.abrupt("return",r===this._seenBlock?this._retrySeenBlock(s,this._seenBlock):s());case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=i(a.mark((function e(t,i){var r,s,o=this;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i;case 2:return r=e.sent,s=function(){var e;return(null===(e=o._wsProvider)||void 0===e?void 0:e.isReady)?o._wsProvider.getBalance(t,r):d(l(n.prototype),"getBalance",o).call(o,t,r)},e.abrupt("return",r===this._seenBlock?this._retrySeenBlock(s,this._seenBlock):s());case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_startBlockEvents",value:function(){this._wsProvider?(console.log("Listening for new blocks on WebSocketProvider"),this._wsProvider.on("block",this._blockListener)):(console.log("Listening for new blocks on basic Provider"),d(l(n.prototype),"on",this).call(this,"block",this._blockListener))}},{key:"_stopBlockEvents",value:function(){this._wsProvider?this._wsProvider.off("block",this._blockListener):d(l(n.prototype),"off",this).call(this,"block",this._blockListener)}},{key:"_wrap",value:function(e,t){var n=this;return[e,function(a){return t(function(e){return function(t){setTimeout((function(){e(t)}),0)}}(e))(a,{isActive:function(){return n._blockListeners.has(e)},removeMe:function(){return n._blockListeners.delete(e)}})}]}},{key:"on",value:function(e,t){if(v(e)){var a=this._getTransactionReceiptFromLatest.bind(this,e),i=this._wrap(t,j(a)),o=r(i,2)[1];return o(void 0),this._addBlockListener(t,o)}return"block"===e?this._addBlockListener.apply(this,s(this._wrap(t,x))):d(l(n.prototype),"on",this).call(this,e,t)}},{key:"_addBlockListener",value:function(e,t){return this._blockListeners.has(e)||(this._blockListeners.set(e,t),1===this._blockListeners.size&&this._startBlockEvents()),this}},{key:"once",value:function(e,t){if(v(e)){var a=this._getTransactionReceiptFromLatest.bind(this,e),i=this._wrap(t,(u=j(a),c=g,function(e){return function(t,n){u((function(t){return c(e)(t,n)}))(t,n)}})),o=r(i,2)[1];return o(void 0),this._addBlockListener(t,o)}return"block"===e?this._addBlockListener.apply(this,s(this._wrap(t,g))):d(l(n.prototype),"once",this).call(this,e,t);var u,c}},{key:"off",value:function(e,t){return v(e)||"block"===e?this._removeBlockListener(t):d(l(n.prototype),"off",this).call(this,e,t)}},{key:"_removeBlockListener",value:function(e){return this._blockListeners.has(e)&&(this._blockListeners.delete(e),0===this._blockListeners.size&&this._stopBlockEvents()),this}},{key:"getTransaction",value:function(){var e=i(a.mark((function e(t){var i,r,o,u,c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=[d(l(n.prototype),"getTransaction",this).call(this,t)].concat(s((null===(i=this._wsProvider)||void 0===i?void 0:i.isReady)?[this._wsProvider.getTransaction(t)]:[])),e.next=3,Promise.race(o);case 3:if(null===(u=e.sent)||void 0===u){e.next=8;break}e.t1=u,e.next=11;break;case 8:return e.next=10,Promise.all(o);case 10:e.t1=e.sent.find((function(e){return null!==e}));case 11:if(e.t2=r=e.t1,e.t0=null!==e.t2,!e.t0){e.next=15;break}e.t0=void 0!==r;case 15:if(!e.t0){e.next=19;break}e.t3=r,e.next=20;break;case 19:e.t3=null;case 20:return c=e.t3,e.abrupt("return",c);case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransactionReceipt",value:function(e){var t;return(null===(t=this._wsProvider)||void 0===t?void 0:t.isReady)?this._wsProvider.getTransactionReceipt(e):d(l(n.prototype),"getTransactionReceipt",this).call(this,e)}},{key:"getTransactionCount",value:function(e,t){var a;return(null===(a=this._wsProvider)||void 0===a?void 0:a.isReady)?this._wsProvider.getTransactionCount(e,t):d(l(n.prototype),"getTransactionCount",this).call(this,e,t)}},{key:"getBlock",value:function(e){var t;return(null===(t=this._wsProvider)||void 0===t?void 0:t.isReady)?this._wsProvider.getBlock(e):d(l(n.prototype),"getBlock",this).call(this,e)}},{key:"getBlockWithTransactions",value:function(e){var t;return(null===(t=this._wsProvider)||void 0===t?void 0:t.isReady)?this._wsProvider.getBlockWithTransactions(e):d(l(n.prototype),"getBlockWithTransactions",this).call(this,e)}},{key:"_blockContainsTx",value:function(){var e=i(a.mark((function e(t,n){var i;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null;case 1:if(i){e.next=9;break}return e.next=4,T(200);case 4:return e.next=6,this.getBlock(t);case 6:i=e.sent,e.next=1;break;case 9:return e.abrupt("return",i.transactions.some((function(e){return e===n})));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getTransactionReceiptFromLatest",value:function(){var e=i(a.mark((function e(t,n){var i;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:t=e.sent,0;case 4:return e.next=6,this.getTransactionReceipt(t);case 6:if(i=e.sent,e.t1=void 0===n,e.t1){e.next=15;break}if(e.t2=null===i,!e.t2){e.next=14;break}return e.next=13,this._blockContainsTx(n,t);case 13:e.t2=!e.sent;case 14:e.t1=e.t2;case 15:if(e.t0=e.t1,e.t0){e.next=18;break}e.t0=null!==i&&i.blockNumber+i.confirmations-1>=n;case 18:if(!e.t0){e.next=21;break}return e.abrupt("return",i);case 21:return e.next=23,T(200);case 23:e.next=4;break;case 26:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"waitForTransaction",value:function(){var e=i(a.mark((function e(t,i,r){var s,o,u=this;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r){e.next=2;break}return e.abrupt("return",d(l(n.prototype),"waitForTransaction",this).call(this,t,i,r));case 2:s=void 0;case 3:return e.next=5,this._getTransactionReceiptFromLatest(t,s);case 5:if(null===(o=e.sent)||!(void 0===i||o.confirmations>=i)){e.next=8;break}return e.abrupt("return",o);case 8:return e.next=10,new Promise((function(e){return u.once("block",e)}));case 10:s=e.sent;case 11:e.next=3;break;case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()}]),n}(e);return h.push(t),t},t.WebSocketAugmentedWeb3Provider=t.WebSocketAugmented(y.Web3Provider)},259:function(e,t,n){"use strict";var a=n(3),i=n(83),r=n(44),s=n(46),o=n(68),u=n(69);Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketProvider=void 0;var c=function(e){o(n,e);var t=u(n);function n(){return r(this,n),t.apply(this,arguments)}return s(n,[{key:"isReady",get:function(){return this._websocket.readyState===WebSocket.OPEN}},{key:"onClose",set:function(e){this._websocket.onclose=e}},{key:"close",value:function(e){this._websocket.close(e)}},{key:"detectNetwork",value:function(){var e=i(a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.network);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(n(116).WebSocketProvider);t.WebSocketProvider=c},260:function(e,t,n){"use strict";var a=n(67),i=n(44),r=n(46),s=n(68),o=n(69),u=n(3),c=n(89),d=n(83),l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t._connectToContracts=t._uniTokenIsMock=t._priceFeedIsTestnet=t._LiquityContract=void 0;var p=n(92),b=l(n(404)),y=l(n(405)),f=l(n(406)),m=l(n(407)),h=l(n(408)),v=l(n(409)),T=l(n(410)),j=l(n(411)),x=l(n(412)),g=l(n(413)),O=l(n(414)),w=l(n(415)),_=l(n(416)),S=l(n(417)),k=l(n(418)),D=l(n(419)),E=l(n(420)),M=l(n(421)),A=l(n(422)),C=l(n(423)),L=function(e){s(n,e);var t=o(n);function n(e,a,r){var s,o,l;return i(this,n),(s=t.call(this,e,a,r)).estimateAndPopulate=(o=s.estimateGas,l=s.populateTransaction,Object.fromEntries(Object.keys(o).map((function(e){return[e,function(){var t=d(u.mark((function t(n,a){var i,r,s,d,p=arguments;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i=p.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=p[s];if(void 0!==n.gasLimit){t.next=6;break}return t.next=4,o[e].apply(o,r.concat([n]));case 4:d=t.sent,n=c(c({},n),{},{gasLimit:a(d)});case 6:return t.abrupt("return",l[e].apply(l,r.concat([n])));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()]})))),s}return r(n,[{key:"extractEvents",value:function(e,t){var n=this;return e.filter((function(e){return e.address===n.address})).map((function(e){return n.interface.parseLog(e)})).filter((function(e){return e.name===t}))}}]),n}(p.Contract);t._LiquityContract=L;t._priceFeedIsTestnet=function(e){return"setPrice"in e};t._uniTokenIsMock=function(e){return"mint"in e};t._connectToContracts=function(e,t){var n,i,r,s,o=t.addresses,u=t._priceFeedIsTestnet,c=t._uniTokenIsMock,d=(n=u,i=c,{activePool:b.default,borrowerOperations:y.default,troveManager:f.default,lusdToken:m.default,communityIssuance:v.default,defaultPool:T.default,lqtyToken:j.default,hintHelpers:x.default,lockupContractFactory:g.default,lqtyStaking:O.default,multiTroveGetter:w.default,priceFeed:n?S.default:_.default,sortedTroves:k.default,stabilityPool:D.default,gasPool:E.default,collSurplusPool:h.default,unipool:M.default,uniToken:i?C.default:A.default});return r=o,s=function(t,n){return new L(t,d[n],e)},Object.fromEntries(Object.entries(r).map((function(e){var t=a(e,2),n=t[0],i=t[1];return[n,s(i,n)]})))}},261:function(e,t,n){"use strict";var a=n(3),i=n(89),r=n(67),s=n(83),o=n(44),u=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableEthersLiquity=void 0;var c,d=n(7),l=n(172),p=n(124),b=n(262),y=d.Decimal.from("0.999037758833783000"),f=d.Decimal.from(2);!function(e){e[e.nonExistent=0]="nonExistent",e[e.active=1]="active",e[e.closedByOwner=2]="closedByOwner",e[e.closedByLiquidation=3]="closedByLiquidation",e[e.closedByRedemption=4]="closedByRedemption"}(c||(c={}));var m=function(e){return e===c.nonExistent?"nonExistent":e===c.active?"open":e===c.closedByOwner?"closedByOwner":e===c.closedByLiquidation?"closedByLiquidation":e===c.closedByRedemption?"closedByRedemption":l.panic(new Error("invalid backendStatus ".concat(e)))},h=function(e){return new Date(1e3*e)},v=["ascendingCollateralRatio","descendingCollateralRatio"],T=function(e,t){if(void 0!==e[t]){if(!Number.isInteger(e[t]))throw new Error("".concat(t," must be an integer"));if(e[t]<0)throw new Error("".concat(t," must not be negative"))}},j=function(){function e(t){o(this,e),this.connection=t}return u(e,[{key:"hasStore",value:function(){return!1}},{key:"getTotalRedistributed",value:function(){var e=s(a.mark((function e(t){var n,s,o,u,c,b;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p._getContracts(this.connection),s=n.troveManager,e.next=3,Promise.all([s.L_ETH(i({},t)).then(l.decimalify),s.L_LUSDDebt(i({},t)).then(l.decimalify)]);case 3:return o=e.sent,u=r(o,2),c=u[0],b=u[1],e.abrupt("return",new d.Trove(c,b));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTroveBeforeRedistribution",value:function(){var e=s(a.mark((function e(t,n){var s,o,u,b,y,f;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==t&&void 0!==t||(t=p._requireAddress(this.connection)),s=p._getContracts(this.connection),o=s.troveManager,e.next=4,Promise.all([o.Troves(t,i({},n)),o.rewardSnapshots(t,i({},n))]);case 4:if(u=e.sent,b=r(u,2),y=b[0],f=b[1],y.status!==c.active){e.next=12;break}return e.abrupt("return",new d.TroveWithPendingRedistribution(t,m(y.status),l.decimalify(y.coll),l.decimalify(y.debt),l.decimalify(y.stake),new d.Trove(l.decimalify(f.ETH),l.decimalify(f.LUSDDebt))));case 12:return e.abrupt("return",new d.TroveWithPendingRedistribution(t,m(y.status)));case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTrove",value:function(){var e=s(a.mark((function e(t,n){var i,s,o,u;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.getTroveBeforeRedistribution(t,n),this.getTotalRedistributed(n)]);case 2:return i=e.sent,s=r(i,2),o=s[0],u=s[1],e.abrupt("return",o.applyRedistribution(u));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getNumberOfTroves",value:function(){var e=s(a.mark((function e(t){var n,r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p._getContracts(this.connection),r=n.troveManager,e.next=3,r.getTroveOwnersCount(i({},t));case 3:return e.abrupt("return",e.sent.toNumber());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPrice",value:function(e){return p._getContracts(this.connection).priceFeed.callStatic.fetchPrice(i({},e)).then(l.decimalify)}},{key:"_getActivePool",value:function(){var e=s(a.mark((function e(t){var n,s,o,u,c,b;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p._getContracts(this.connection),s=n.activePool,e.next=3,Promise.all([s.getETH(i({},t)),s.getLUSDDebt(i({},t))].map((function(e){return e.then(l.decimalify)})));case 3:return o=e.sent,u=r(o,2),c=u[0],b=u[1],e.abrupt("return",new d.Trove(c,b));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getDefaultPool",value:function(){var e=s(a.mark((function e(t){var n,s,o,u,c,b;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p._getContracts(this.connection),s=n.defaultPool,e.next=3,Promise.all([s.getETH(i({},t)),s.getLUSDDebt(i({},t))].map((function(e){return e.then(l.decimalify)})));case 3:return o=e.sent,u=r(o,2),c=u[0],b=u[1],e.abrupt("return",new d.Trove(c,b));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTotal",value:function(){var e=s(a.mark((function e(t){var n,i,s,o;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getActivePool(t),this._getDefaultPool(t)]);case 2:return n=e.sent,i=r(n,2),s=i[0],o=i[1],e.abrupt("return",s.add(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStabilityDeposit",value:function(){var e=s(a.mark((function e(t,n){var s,o,u,c,b,y,f,m,h,v;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==t&&void 0!==t||(t=p._requireAddress(this.connection)),s=p._getContracts(this.connection),o=s.stabilityPool,e.next=4,Promise.all([o.deposits(t,i({},n)),o.getCompoundedLUSDDeposit(t,i({},n)),o.getDepositorETHGain(t,i({},n)),o.getDepositorLQTYGain(t,i({},n))]);case 4:return u=e.sent,c=r(u,4),b=c[0],y=b.frontEndTag,f=b.initialValue,m=c[1],h=c[2],v=c[3],e.abrupt("return",new d.StabilityDeposit(l.decimalify(f),l.decimalify(m),l.decimalify(h),l.decimalify(v),y));case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getRemainingStabilityPoolLQTYReward",value:function(){var e=s(a.mark((function e(t){var n,r,s,o;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p._getContracts(this.connection),r=n.communityIssuance,s=this.connection.totalStabilityPoolLQTYReward,e.t0=l,e.next=5,r.totalLQTYIssued(i({},t));case 5:return e.t1=e.sent,o=e.t0.decimalify.call(e.t0,e.t1),e.abrupt("return",s.sub(o));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLUSDInStabilityPool",value:function(e){return p._getContracts(this.connection).stabilityPool.getTotalLUSDDeposits(i({},e)).then(l.decimalify)}},{key:"getLUSDBalance",value:function(e,t){return null!==e&&void 0!==e||(e=p._requireAddress(this.connection)),p._getContracts(this.connection).lusdToken.balanceOf(e,i({},t)).then(l.decimalify)}},{key:"getLQTYBalance",value:function(e,t){return null!==e&&void 0!==e||(e=p._requireAddress(this.connection)),p._getContracts(this.connection).lqtyToken.balanceOf(e,i({},t)).then(l.decimalify)}},{key:"getUniTokenBalance",value:function(e,t){return null!==e&&void 0!==e||(e=p._requireAddress(this.connection)),p._getContracts(this.connection).uniToken.balanceOf(e,i({},t)).then(l.decimalify)}},{key:"getUniTokenAllowance",value:function(e,t){null!==e&&void 0!==e||(e=p._requireAddress(this.connection));var n=p._getContracts(this.connection),a=n.uniToken,r=n.unipool;return a.allowance(e,r.address,i({},t)).then(l.decimalify)}},{key:"_getRemainingLiquidityMiningLQTYRewardCalculator",value:function(){var e=s(a.mark((function e(t){var n,s,o,u,c,d,b,y;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p._getContracts(this.connection),s=n.unipool,e.next=3,Promise.all([s.totalSupply(i({},t)),s.rewardRate(i({},t)).then(l.decimalify),s.periodFinish(i({},t)).then(l.numberify),s.lastUpdateTime(i({},t)).then(l.numberify)]);case 3:return o=e.sent,u=r(o,4),c=u[0],d=u[1],b=u[2],y=u[3],e.abrupt("return",(function(e){return d.mul(Math.max(0,b-(c.isZero()?y:e)))}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRemainingLiquidityMiningLQTYReward",value:function(){var e=s(a.mark((function e(t){var n,i,s,o;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getRemainingLiquidityMiningLQTYRewardCalculator(t),this._getBlockTimestamp(null===t||void 0===t?void 0:t.blockTag)]);case 2:return n=e.sent,i=r(n,2),s=i[0],o=i[1],e.abrupt("return",s(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLiquidityMiningStake",value:function(e,t){return null!==e&&void 0!==e||(e=p._requireAddress(this.connection)),p._getContracts(this.connection).unipool.balanceOf(e,i({},t)).then(l.decimalify)}},{key:"getTotalStakedUniTokens",value:function(e){return p._getContracts(this.connection).unipool.totalSupply(i({},e)).then(l.decimalify)}},{key:"getLiquidityMiningLQTYReward",value:function(e,t){return null!==e&&void 0!==e||(e=p._requireAddress(this.connection)),p._getContracts(this.connection).unipool.earned(e,i({},t)).then(l.decimalify)}},{key:"getCollateralSurplusBalance",value:function(e,t){return null!==e&&void 0!==e||(e=p._requireAddress(this.connection)),p._getContracts(this.connection).collSurplusPool.getCollateral(e,i({},t)).then(l.decimalify)}},{key:"getTroves",value:function(){var e=s(a.mark((function e(t,n){var s,o,u,c,d,l,b,y,f;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=p._getContracts(this.connection),c=u.multiTroveGetter,T(t,"first"),T(t,"startingAt"),v.includes(t.sortedBy)){e.next=5;break}throw new Error("sortedBy must be one of: ".concat(v.map((function(e){return'"'.concat(e,'"')})).join(", ")));case 5:return e.next=7,Promise.all([t.beforeRedistribution?void 0:this.getTotalRedistributed(i({},n)),c.getMultipleSortedTroves("descendingCollateralRatio"===t.sortedBy?null!==(s=t.startingAt)&&void 0!==s?s:0:-((null!==(o=t.startingAt)&&void 0!==o?o:0)+1),t.first,i({},n))]);case 7:if(d=e.sent,l=r(d,2),b=l[0],y=l[1],f=x(y),!b){e.next=16;break}return e.abrupt("return",f.map((function(e){return e.applyRedistribution(b)})));case 16:return e.abrupt("return",f);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getBlockTimestamp",value:function(e){return p._getBlockTimestamp(this.connection,e)}},{key:"_getFeesFactory",value:function(){var e=s(a.mark((function e(t){var n,s,o,u,c,b;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p._getContracts(this.connection),s=n.troveManager,e.next=3,Promise.all([s.lastFeeOperationTime(i({},t)),s.baseRate(i({},t)).then(l.decimalify)]);case 3:return o=e.sent,u=r(o,2),c=u[0],b=u[1],e.abrupt("return",(function(e,t){return new d.Fees(b,y,f,h(c.toNumber()),h(e),t)}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFees",value:function(){var e=s(a.mark((function e(t){var n,i,s,o,u,c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getFeesFactory(t),this.getTotal(t),this.getPrice(t),this._getBlockTimestamp(null===t||void 0===t?void 0:t.blockTag)]);case 2:return n=e.sent,i=r(n,4),s=i[0],o=i[1],u=i[2],c=i[3],e.abrupt("return",s(c,o.collateralRatioIsBelowCritical(u)));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLQTYStake",value:function(){var e=s(a.mark((function e(t,n){var s,o,u,c,b,y,f;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==t&&void 0!==t||(t=p._requireAddress(this.connection)),s=p._getContracts(this.connection),o=s.lqtyStaking,e.next=4,Promise.all([o.stakes(t,i({},n)),o.getPendingETHGain(t,i({},n)),o.getPendingLUSDGain(t,i({},n))].map((function(e){return e.then(l.decimalify)})));case 4:return u=e.sent,c=r(u,3),b=c[0],y=c[1],f=c[2],e.abrupt("return",new d.LQTYStake(b,y,f));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTotalStakedLQTY",value:function(){var e=s(a.mark((function e(t){var n,r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p._getContracts(this.connection),r=n.lqtyStaking,e.abrupt("return",r.totalLQTYStaked(i({},t)).then(l.decimalify));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFrontendStatus",value:function(){var e=s(a.mark((function e(t,n){var r,s,o,u,c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==t&&void 0!==t||(t=p._requireFrontendAddress(this.connection)),r=p._getContracts(this.connection),s=r.stabilityPool,e.next=4,s.frontEnds(t,i({},n));case 4:return o=e.sent,u=o.registered,c=o.kickbackRate,e.abrupt("return",u?{status:"registered",kickbackRate:l.decimalify(c)}:{status:"unregistered"});case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_from",value:function(t){var n=new e(t);return"blockPolled"===t.useStore?new g(n):n}},{key:"connect",value:function(){var t=s(a.mark((function t(n,i){return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,p._connect(n,i);case 3:return t.t1=t.sent,t.abrupt("return",t.t0._from.call(t.t0,t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();t.ReadableEthersLiquity=j;var x=function(e){return e.map((function(e){return new d.TroveWithPendingRedistribution(e.owner,"open",l.decimalify(e.coll),l.decimalify(e.debt),l.decimalify(e.stake),new d.Trove(l.decimalify(e.snapshotETH),l.decimalify(e.snapshotLUSDDebt)))}))},g=function(){function e(t){o(this,e);var n=new b.BlockPolledLiquityStore(t);this.store=n,this.connection=t.connection,this._readable=t}return u(e,[{key:"_blockHit",value:function(e){return!e||void 0===e.blockTag||e.blockTag===this.store.state.blockTag}},{key:"_userHit",value:function(e,t){return this._blockHit(t)&&(void 0===e||e===this.store.connection.userAddress)}},{key:"_frontendHit",value:function(e,t){return this._blockHit(t)&&(void 0===e||e===this.store.connection.frontendTag)}},{key:"hasStore",value:function(e){return void 0===e||"blockPolled"===e}},{key:"getTotalRedistributed",value:function(){var e=s(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._blockHit(t)?this.store.state.totalRedistributed:this._readable.getTotalRedistributed(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTroveBeforeRedistribution",value:function(){var e=s(a.mark((function e(t,n){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._userHit(t,n)?this.store.state.troveBeforeRedistribution:this._readable.getTroveBeforeRedistribution(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTrove",value:function(){var e=s(a.mark((function e(t,n){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._userHit(t,n)?this.store.state.trove:this._readable.getTrove(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getNumberOfTroves",value:function(){var e=s(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._blockHit(t)?this.store.state.numberOfTroves:this._readable.getNumberOfTroves(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPrice",value:function(){var e=s(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._blockHit(t)?this.store.state.price:this._readable.getPrice(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTotal",value:function(){var e=s(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._blockHit(t)?this.store.state.total:this._readable.getTotal(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStabilityDeposit",value:function(){var e=s(a.mark((function e(t,n){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._userHit(t,n)?this.store.state.stabilityDeposit:this._readable.getStabilityDeposit(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getRemainingStabilityPoolLQTYReward",value:function(){var e=s(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._blockHit(t)?this.store.state.remainingStabilityPoolLQTYReward:this._readable.getRemainingStabilityPoolLQTYReward(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLUSDInStabilityPool",value:function(){var e=s(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._blockHit(t)?this.store.state.lusdInStabilityPool:this._readable.getLUSDInStabilityPool(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLUSDBalance",value:function(){var e=s(a.mark((function e(t,n){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._userHit(t,n)?this.store.state.lusdBalance:this._readable.getLUSDBalance(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getLQTYBalance",value:function(){var e=s(a.mark((function e(t,n){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._userHit(t,n)?this.store.state.lqtyBalance:this._readable.getLQTYBalance(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUniTokenBalance",value:function(){var e=s(a.mark((function e(t,n){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._userHit(t,n)?this.store.state.uniTokenBalance:this._readable.getUniTokenBalance(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUniTokenAllowance",value:function(){var e=s(a.mark((function e(t,n){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._userHit(t,n)?this.store.state.uniTokenAllowance:this._readable.getUniTokenAllowance(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getRemainingLiquidityMiningLQTYReward",value:function(){var e=s(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._blockHit(t)?this.store.state.remainingLiquidityMiningLQTYReward:this._readable.getRemainingLiquidityMiningLQTYReward(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLiquidityMiningStake",value:function(){var e=s(a.mark((function e(t,n){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._userHit(t,n)?this.store.state.liquidityMiningStake:this._readable.getLiquidityMiningStake(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTotalStakedUniTokens",value:function(){var e=s(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._blockHit(t)?this.store.state.totalStakedUniTokens:this._readable.getTotalStakedUniTokens(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLiquidityMiningLQTYReward",value:function(){var e=s(a.mark((function e(t,n){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._userHit(t,n)?this.store.state.liquidityMiningLQTYReward:this._readable.getLiquidityMiningLQTYReward(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getCollateralSurplusBalance",value:function(){var e=s(a.mark((function e(t,n){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._userHit(t,n)?this.store.state.collateralSurplusBalance:this._readable.getCollateralSurplusBalance(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getBlockTimestamp",value:function(){var e=s(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._blockHit({blockTag:t})?this.store.state.blockTimestamp:this._readable._getBlockTimestamp(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getFeesFactory",value:function(){var e=s(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._blockHit(t)?this.store.state._feesFactory:this._readable._getFeesFactory(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFees",value:function(){var e=s(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._blockHit(t)?this.store.state.fees:this._readable.getFees(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLQTYStake",value:function(){var e=s(a.mark((function e(t,n){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._userHit(t,n)?this.store.state.lqtyStake:this._readable.getLQTYStake(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTotalStakedLQTY",value:function(){var e=s(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._blockHit(t)?this.store.state.totalStakedLQTY:this._readable.getTotalStakedLQTY(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFrontendStatus",value:function(){var e=s(a.mark((function e(t,n){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._frontendHit(t,n)?this.store.state.frontend:this._readable.getFrontendStatus(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTroves",value:function(e,t){return this._readable.getTroves(e,t)}},{key:"_getActivePool",value:function(){throw new Error("Method not implemented.")}},{key:"_getDefaultPool",value:function(){throw new Error("Method not implemented.")}},{key:"_getRemainingLiquidityMiningLQTYRewardCalculator",value:function(){throw new Error("Method not implemented.")}}]),e}()},262:function(e,t,n){"use strict";var a=n(149),i=n(89),r=n(171),s=n(3),o=n(83),u=n(44),c=n(46),d=n(68),l=n(69);Object.defineProperty(t,"__esModule",{value:!0}),t.BlockPolledLiquityStore=void 0;var p=n(70),b=n(7),y=n(172),f=n(124),m=function(e){d(n,e);var t=l(n);function n(e){var a;return u(this,n),(a=t.call(this)).connection=e.connection,a._readable=e,a._provider=f._getProvider(e.connection),a}return c(n,[{key:"_getRiskiestTroveBeforeRedistribution",value:function(){var e=o(s.mark((function e(t){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readable.getTroves({first:1,sortedBy:"ascendingCollateralRatio",beforeRedistribution:!0},t);case 2:if(0!==(n=e.sent).length){e.next=5;break}return e.abrupt("return",new b.TroveWithPendingRedistribution(p.AddressZero,"nonExistent"));case 5:return e.abrupt("return",n[0]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=o(s.mark((function e(t){var n,a,o,u,c,d,l,f;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.connection,a=n.userAddress,o=n.frontendTag,e.next=3,y.promiseAllValues(i({blockTimestamp:this._readable._getBlockTimestamp(t),_feesFactory:this._readable._getFeesFactory({blockTag:t}),calculateRemainingLQTY:this._readable._getRemainingLiquidityMiningLQTYRewardCalculator({blockTag:t}),price:this._readable.getPrice({blockTag:t}),numberOfTroves:this._readable.getNumberOfTroves({blockTag:t}),totalRedistributed:this._readable.getTotalRedistributed({blockTag:t}),total:this._readable.getTotal({blockTag:t}),lusdInStabilityPool:this._readable.getLUSDInStabilityPool({blockTag:t}),totalStakedLQTY:this._readable.getTotalStakedLQTY({blockTag:t}),_riskiestTroveBeforeRedistribution:this._getRiskiestTroveBeforeRedistribution({blockTag:t}),totalStakedUniTokens:this._readable.getTotalStakedUniTokens({blockTag:t}),remainingStabilityPoolLQTYReward:this._readable.getRemainingStabilityPoolLQTYReward({blockTag:t}),frontend:o?this._readable.getFrontendStatus(o,{blockTag:t}):{status:"unregistered"}},a?{accountBalance:this._provider.getBalance(a,t).then(y.decimalify),lusdBalance:this._readable.getLUSDBalance(a,{blockTag:t}),lqtyBalance:this._readable.getLQTYBalance(a,{blockTag:t}),uniTokenBalance:this._readable.getUniTokenBalance(a,{blockTag:t}),uniTokenAllowance:this._readable.getUniTokenAllowance(a,{blockTag:t}),liquidityMiningStake:this._readable.getLiquidityMiningStake(a,{blockTag:t}),liquidityMiningLQTYReward:this._readable.getLiquidityMiningLQTYReward(a,{blockTag:t}),collateralSurplusBalance:this._readable.getCollateralSurplusBalance(a,{blockTag:t}),troveBeforeRedistribution:this._readable.getTroveBeforeRedistribution(a,{blockTag:t}),stabilityDeposit:this._readable.getStabilityDeposit(a,{blockTag:t}),lqtyStake:this._readable.getLQTYStake(a,{blockTag:t}),ownFrontend:this._readable.getFrontendStatus(a,{blockTag:t})}:{accountBalance:b.Decimal.ZERO,lusdBalance:b.Decimal.ZERO,lqtyBalance:b.Decimal.ZERO,uniTokenBalance:b.Decimal.ZERO,uniTokenAllowance:b.Decimal.ZERO,liquidityMiningStake:b.Decimal.ZERO,liquidityMiningLQTYReward:b.Decimal.ZERO,collateralSurplusBalance:b.Decimal.ZERO,troveBeforeRedistribution:new b.TroveWithPendingRedistribution(p.AddressZero,"nonExistent"),stabilityDeposit:new b.StabilityDeposit(b.Decimal.ZERO,b.Decimal.ZERO,b.Decimal.ZERO,b.Decimal.ZERO,p.AddressZero),lqtyStake:new b.LQTYStake,ownFrontend:{status:"unregistered"}}));case 3:return u=e.sent,c=u.blockTimestamp,d=u._feesFactory,l=u.calculateRemainingLQTY,f=r(u,["blockTimestamp","_feesFactory","calculateRemainingLQTY"]),e.abrupt("return",[i(i({},f),{},{_feesInNormalMode:d(c,!1),remainingLiquidityMiningLQTYReward:l(c)}),{blockTag:t,blockTimestamp:c,_feesFactory:d}]);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_doStart",value:function(){var e=this;this._get().then((function(t){e._loaded||e._load.apply(e,a(t))}));var t=function(){var t=o(s.mark((function t(n){var i;return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._get(n);case 2:i=t.sent,e._loaded?e._update.apply(e,a(i)):e._load.apply(e,a(i));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return this._provider.on("block",t),function(){e._provider.off("block",t)}}},{key:"_reduceExtra",value:function(e,t){var n,a,i;return{blockTag:null!==(n=t.blockTag)&&void 0!==n?n:e.blockTag,blockTimestamp:null!==(a=t.blockTimestamp)&&void 0!==a?a:e.blockTimestamp,_feesFactory:null!==(i=t._feesFactory)&&void 0!==i?i:e._feesFactory}}}]),n}(b.LiquityStore);t.BlockPolledLiquityStore=m},263:function(e,t,n){"use strict";var a=n(149),i=n(171),r=n(427),s=n(89),o=n(67),u=n(83),c=n(46),d=n(44),l=n(68),p=n(69),b=n(210),y=n(3),f=y.mark(P),m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PopulatableEthersLiquity=t.PopulatedEthersRedemption=t.PopulatedEthersLiquityTransaction=t.SentEthersLiquityTransaction=t.EthersTransactionCancelledError=t._RawErrorReason=t._redeemMaxIterations=void 0;var h=m(n(150)),v=n(70),T=n(5),j=n(7),x=n(124),g=n(172),O=n(260),w=n(428),_=function(e,t){return(null===t||void 0===t?void 0:t.gt(e))?t:e};t._redeemMaxIterations=70;var S,k=j.Decimal.from(.005),D=j.Decimal.from(.001),E=function(){},M=function(e,t){return function(n){return e(t(n))}},A=function(e){return e},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return function(t){return t.add(1e4+1414*Math.ceil(Math.log2(e+1)))}},L=function(e){return e.add(8e4)},R=function(e){return e.add(5e4)},I=function(e){return e.add(2e4)};function P(e){var t;return y.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:h.default(Number.isInteger(e)&&e>0);case 1:if(!e){n.next=8;break}return t=Math.min(e,2500),n.next=5,t;case 5:e-=t,n.next=1;break;case 8:case"end":return n.stop()}}),f)}!function(e){e.TRANSACTION_FAILED="transaction failed",e.TRANSACTION_CANCELLED="cancelled",e.TRANSACTION_REPLACED="replaced",e.TRANSACTION_REPRICED="repriced"}(S=t._RawErrorReason||(t._RawErrorReason={}));var B=[S.TRANSACTION_CANCELLED,S.TRANSACTION_REPLACED,S.TRANSACTION_REPRICED],F=function(e,t){return t in e},N=function(e){return F(e,"code")&&e.code===T.ErrorCode.TRANSACTION_REPLACED&&F(e,"reason")&&B.includes(e.reason)},U=function(e){l(n,e);var t=p(n);function n(e){var a;return d(this,n),h.default(e.reason!==S.TRANSACTION_REPRICED),(a=t.call(this,"Transaction ".concat(e.reason))).name="TransactionCancelledError",a.rawReplacementReceipt=e.receipt,a.rawError=e,a}return n}(b(Error));t.EthersTransactionCancelledError=U;var q=function(){function e(t,n,a){d(this,e),this.rawSentTransaction=t,this._connection=n,this._parse=a}return c(e,[{key:"_receiptFrom",value:function(e){var t=this;return e?e.status?j._successfulReceipt(e,this._parse(e),(function(){return w.logsToString(e,x._getContracts(t._connection))})):j._failedReceipt(e):j._pendingReceipt}},{key:"_waitForRawReceipt",value:function(){var e=u(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.rawSentTransaction.wait(t);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!(e.t0 instanceof Error)){e.next=17;break}if(n=e.t0,!F(n,"code")||n.code!==T.ErrorCode.CALL_EXCEPTION||!F(n,"reason")||n.reason!==S.TRANSACTION_FAILED){e.next=11;break}return e.abrupt("return",e.t0.receipt);case 11:if(!N(e.t0)){e.next=17;break}if(!e.t0.cancelled){e.next=16;break}throw new U(e.t0);case 16:return e.abrupt("return",e.t0.receipt);case 17:throw e.t0;case 18:case"end":return e.stop()}var n}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceipt",value:function(){var e=u(y.mark((function e(){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this._waitForRawReceipt(0);case 3:return e.t1=e.sent,e.abrupt("return",e.t0._receiptFrom.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"waitForReceipt",value:function(){var e=u(y.mark((function e(){var t;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this._waitForRawReceipt();case 3:return e.t1=e.sent,t=e.t0._receiptFrom.call(e.t0,e.t1),h.default("pending"!==t.status),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.SentEthersLiquityTransaction=q;var Y=function(e,t){var n,a;if(void 0===e)return{maxBorrowingRate:null!==(n=null===t||void 0===t?void 0:t.add(k))&&void 0!==n?n:j.Decimal.ZERO,borrowingFeeDecayToleranceMinutes:10};if("number"===typeof e||"string"===typeof e||e instanceof j.Decimal)return{maxBorrowingRate:j.Decimal.from(e),borrowingFeeDecayToleranceMinutes:10};var i=e.maxBorrowingRate,r=e.borrowingFeeDecayToleranceMinutes;return{maxBorrowingRate:void 0!==i?j.Decimal.from(i):null!==(a=null===t||void 0===t?void 0:t.add(k))&&void 0!==a?a:j.Decimal.ZERO,borrowingFeeDecayToleranceMinutes:null!==r&&void 0!==r?r:10}},G=function(){function e(t,n,a,i){d(this,e),this.rawPopulatedTransaction=t,this._connection=n,this._parse=a,void 0!==i&&(this.gasHeadroom=i)}return c(e,[{key:"send",value:function(){var e=u(y.mark((function e(){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=q,e.next=3,x._requireSigner(this._connection).sendTransaction(this.rawPopulatedTransaction);case 3:return e.t1=e.sent,e.t2=this._connection,e.t3=this._parse,e.abrupt("return",new e.t0(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.PopulatedEthersLiquityTransaction=G;var Q=function(e){l(n,e);var t=p(n);function n(e,a,i,r,s){var o;d(this,n);var u=x._getContracts(a).troveManager;return(o=t.call(this,e,a,(function(e){var t=e.logs;return u.extractEvents(t,"Redemption").map((function(e){var t=e.args,n=t._ETHSent,a=t._ETHFee,i=t._actualLUSDAmount,r=t._attemptedLUSDAmount;return{attemptedLUSDAmount:g.decimalify(r),actualLUSDAmount:g.decimalify(i),collateralTaken:g.decimalify(n),fee:g.decimalify(a)}}))[0]}))).attemptedLUSDAmount=i,o.redeemableLUSDAmount=r,o.isTruncated=r.lt(i),o._increaseAmountByMinimumNetDebt=s,o}return c(n,[{key:"increaseAmountByMinimumNetDebt",value:function(e){if(!this._increaseAmountByMinimumNetDebt)throw new Error("PopulatedEthersRedemption: increaseAmountByMinimumNetDebt() can only be called when amount is truncated");return this._increaseAmountByMinimumNetDebt(e)}}]),n}(G);t.PopulatedEthersRedemption=Q;var W=function(){function e(t){d(this,e),this._readable=t}return c(e,[{key:"_wrapSimpleTransaction",value:function(e){return new G(e,this._readable.connection,E)}},{key:"_wrapTroveChangeWithFees",value:function(e,t,n){var a=x._getContracts(this._readable.connection).borrowerOperations;return new G(t,this._readable.connection,(function(t){var n=t.logs,i=a.extractEvents(n,"TroveUpdated").map((function(e){var t=e.args,n=t._coll,a=t._debt;return new j.Trove(g.decimalify(n),g.decimalify(a))})),r=o(i,1)[0],s=a.extractEvents(n,"LUSDBorrowingFeePaid").map((function(e){var t=e.args._LUSDFee;return g.decimalify(t)})),u=o(s,1)[0];return{params:e,newTrove:r,fee:u}}),n)}},{key:"_wrapTroveClosure",value:function(){var e=u(y.mark((function e(t){var n,a,i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x._getContracts(this._readable.connection),a=n.activePool,i=n.lusdToken,e.abrupt("return",new G(t,this._readable.connection,(function(e){var t=e.logs,n=e.from,r=i.extractEvents(t,"Transfer").filter((function(e){var t=e.args,a=t.from,i=t.to;return a===n&&i===v.AddressZero})).map((function(e){var t=e.args.value;return g.decimalify(t)})),s=o(r,1)[0],u=a.extractEvents(t,"EtherSent").filter((function(e){return e.args._to===n})).map((function(e){var t=e.args._amount;return g.decimalify(t)})),c=o(u,1)[0];return{params:s.nonZero?{withdrawCollateral:c,repayLUSD:s}:{withdrawCollateral:c}}})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_wrapLiquidation",value:function(e){var t=x._getContracts(this._readable.connection).troveManager;return new G(e,this._readable.connection,(function(e){var n=e.logs,a=t.extractEvents(n,"TroveLiquidated").map((function(e){return e.args._borrower})),i=t.extractEvents(n,"Liquidation").map((function(e){var t=e.args,n=t._LUSDGasCompensation,a=t._collGasCompensation,i=t._liquidatedColl,r=t._liquidatedDebt;return{collateralGasCompensation:g.decimalify(a),lusdGasCompensation:g.decimalify(n),totalLiquidated:new j.Trove(g.decimalify(i),g.decimalify(r))}})),r=o(i,1)[0];return s({liquidatedAddresses:a},r)}))}},{key:"_extractStabilityPoolGainsWithdrawalDetails",value:function(e){var t=x._getContracts(this._readable.connection).stabilityPool,n=t.extractEvents(e,"UserDepositChanged").map((function(e){var t=e.args._newDeposit;return g.decimalify(t)})),a=o(n,1)[0],i=t.extractEvents(e,"ETHGainWithdrawn").map((function(e){var t=e.args,n=t._ETH,a=t._LUSDLoss;return[g.decimalify(n),g.decimalify(a)]})),r=o(i,1),s=o(r[0],2),u=s[0],c=s[1],d=t.extractEvents(e,"LQTYPaidToDepositor").map((function(e){var t=e.args._LQTY;return g.decimalify(t)}));return{lusdLoss:c,newLUSDDeposit:a,collateralGain:u,lqtyReward:o(d,1)[0]}}},{key:"_wrapStabilityPoolGainsWithdrawal",value:function(e){var t=this;return new G(e,this._readable.connection,(function(e){var n=e.logs;return t._extractStabilityPoolGainsWithdrawalDetails(n)}))}},{key:"_wrapStabilityDepositTopup",value:function(e,t){var n=this;return new G(t,this._readable.connection,(function(t){var a=t.logs;return s(s({},n._extractStabilityPoolGainsWithdrawalDetails(a)),{},{change:e})}))}},{key:"_wrapStabilityDepositWithdrawal",value:function(){var e=u(y.mark((function e(t){var n,a,i,r=this;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x._getContracts(this._readable.connection),a=n.stabilityPool,i=n.lusdToken,e.abrupt("return",new G(t,this._readable.connection,(function(e){var t=e.logs,n=e.from,u=r._extractStabilityPoolGainsWithdrawalDetails(t),c=i.extractEvents(t,"Transfer").filter((function(e){var t=e.args,i=t.from,r=t.to;return i===a.address&&r===n})).map((function(e){var t=e.args.value;return g.decimalify(t)})),d=o(c,1)[0];return s(s({},u),{},{change:{withdrawLUSD:d,withdrawAllLUSD:u.newLUSDDeposit.isZero}})})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_wrapCollateralGainTransfer",value:function(e){var t=this,n=x._getContracts(this._readable.connection).borrowerOperations;return new G(e,this._readable.connection,(function(e){var a=e.logs,i=n.extractEvents(a,"TroveUpdated").map((function(e){var t=e.args,n=t._coll,a=t._debt;return new j.Trove(g.decimalify(n),g.decimalify(a))})),r=o(i,1)[0];return s(s({},t._extractStabilityPoolGainsWithdrawalDetails(a)),{},{newTrove:r})}))}},{key:"_findHintsForNominalCollateralRatio",value:function(){var e=u(y.mark((function e(t,n){var s,u,c,d,l,p,b,f,m,h,T,j,g,O,w,_,S,k;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=x._getContracts(this._readable.connection),u=s.sortedTroves,c=s.hintHelpers,e.next=3,this._readable.getNumberOfTroves();case 3:if(d=e.sent){e.next=6;break}return e.abrupt("return",[v.AddressZero,v.AddressZero]);case 6:if(!t.infinite){e.next=12;break}return e.t0=v.AddressZero,e.next=10,u.getFirst();case 10:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 12:return l=Math.ceil(10*Math.sqrt(d)),p=P(l),b=r(p),f=b[0],m=b.slice(1),h=function(e,n){var r=e.latestRandomSeed,s=e.results;return c.getApproxHint(t.hex,n,r).then((function(e){var t=e.latestRandomSeed,n=i(e,["latestRandomSeed"]);return{latestRandomSeed:t,results:[].concat(a(s),[n])}}))},e.next=17,m.reduce((function(e,t){return e.then((function(e){return h(e,t)}))}),h({latestRandomSeed:Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),results:[]},f));case 17:return T=e.sent,j=T.results,g=j.reduce((function(e,t){return e.diff.lt(t.diff)?e:t})),O=g.hintAddress,e.next=22,u.findInsertPosition(t.hex,O,O);case 22:if(w=e.sent,_=o(w,2),S=_[0],k=_[1],!n){e.next=37;break}if(S!==n){e.next=33;break}return e.next=30,u.getPrev(S);case 30:S=e.sent,e.next=37;break;case 33:if(k!==n){e.next=37;break}return e.next=36,u.getNext(k);case 36:k=e.sent;case 37:return S===v.AddressZero?S=k:k===v.AddressZero&&(k=S),e.abrupt("return",[S,k]);case 39:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_findHints",value:function(){var e=u(y.mark((function e(t,n){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof j.TroveWithPendingRedistribution)){e.next=2;break}throw new Error("Rewards must be applied to this Trove");case 2:return e.abrupt("return",this._findHintsForNominalCollateralRatio(t._nominalCollateralRatio,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_findRedemptionHints",value:function(){var e=u(y.mark((function e(n){var a,i,r,s,u,c,d,l,p,b,f;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x._getContracts(this._readable.connection),i=a.hintHelpers,e.next=3,this._readable.getPrice();case 3:return r=e.sent,e.next=6,i.getRedemptionHints(n.hex,r.hex,t._redeemMaxIterations);case 6:if(s=e.sent,u=s.firstRedemptionHint,c=s.partialRedemptionHintNICR,d=s.truncatedLUSDamount,!c.isZero()){e.next=14;break}e.t0=[v.AddressZero,v.AddressZero],e.next=17;break;case 14:return e.next=16,this._findHintsForNominalCollateralRatio(g.decimalify(c));case 16:e.t0=e.sent;case 17:return l=e.t0,p=o(l,2),b=p[0],f=p[1],e.abrupt("return",[g.decimalify(d),u,b,f,c]);case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"openTrove",value:function(){var e=u(y.mark((function e(t,n,i){var r,u,c,d,l,p,b,f,m,h,v,T,g,O,w,S,k,D,E,M,A,R,I,P,B,F,N,U,q,G,Q,W,H;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=x._getContracts(this._readable.connection),c=u.borrowerOperations,d=j._normalizeTroveCreation(t),l=d.depositCollateral,p=d.borrowLUSD,e.next=5,Promise.all([this._readable._getFeesFactory(),this._readable._getBlockTimestamp(),this._readable.getTotal(),this._readable.getPrice()]);case 5:return b=e.sent,f=o(b,4),m=f[0],h=f[1],v=f[2],T=f[3],g=v.collateralRatioIsBelowCritical(T),w=(O=function(e){return m(h+e,g).borrowingRate()})(0),S=j.Trove.create(d,w),e.next=17,this._findHints(S);case 17:if(k=e.sent,D=Y(n,w),E=D.maxBorrowingRate,M=D.borrowingFeeDecayToleranceMinutes,A=function(e){return[E.hex,e.hex].concat(a(k),[s({value:l.hex},i)])},void 0!==(null===i||void 0===i?void 0:i.gasLimit)){e.next=35;break}if(B=O(60*M),F=j.Trove.create(d,B),N=j.Trove.recreate(F,w),U=N.borrowLUSD,!F.debt.lt(j.LUSD_MINIMUM_DEBT)){e.next=26;break}throw new Error("Trove's debt might fall below ".concat(j.LUSD_MINIMUM_DEBT," ")+"within ".concat(M," minutes"));case 26:return e.next=28,Promise.all([(I=c.estimateGas).openTrove.apply(I,a(A(p))),(P=c.estimateGas).openTrove.apply(P,a(A(U)))]);case 28:q=e.sent,G=o(q,2),Q=G[0],W=G[1],H=C(M)(_(L(Q),W)),R=H.sub(Q).toNumber(),i=s(s({},i),{},{gasLimit:H});case 35:return e.t0=this,e.t1=d,e.next=39,(r=c.populateTransaction).openTrove.apply(r,a(A(p)));case 39:return e.t2=e.sent,e.t3=R,e.abrupt("return",e.t0._wrapTroveChangeWithFees.call(e.t0,e.t1,e.t2,e.t3));case 42:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"closeTrove",value:function(){var e=u(y.mark((function e(t){var n,a;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x._getContracts(this._readable.connection),a=n.borrowerOperations,e.t0=this,e.next=4,a.estimateAndPopulate.closeTrove(s({},t),A);case 4:return e.t1=e.sent,e.abrupt("return",e.t0._wrapTroveClosure.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"depositCollateral",value:function(e,t){return this.adjustTrove({depositCollateral:e},void 0,t)}},{key:"withdrawCollateral",value:function(e,t){return this.adjustTrove({withdrawCollateral:e},void 0,t)}},{key:"borrowLUSD",value:function(e,t,n){return this.adjustTrove({borrowLUSD:e},t,n)}},{key:"repayLUSD",value:function(e,t){return this.adjustTrove({repayLUSD:e},void 0,t)}},{key:"adjustTrove",value:function(){var e=u(y.mark((function e(t,n,i){var r,u,c,d,l,p,b,f,m,h,v,T,O,w,S,k,D,E,M,A,R,I,P,B,F,N,U,q,G,Q,W,H,V;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=x._requireAddress(this._readable.connection,i),c=x._getContracts(this._readable.connection),d=c.borrowerOperations,l=j._normalizeTroveAdjustment(t),p=l.depositCollateral,b=l.withdrawCollateral,f=l.borrowLUSD,m=l.repayLUSD,e.next=6,Promise.all([this._readable.getTrove(u),f&&g.promiseAllValues({fees:this._readable._getFeesFactory(),blockTimestamp:this._readable._getBlockTimestamp(),total:this._readable.getTotal(),price:this._readable.getPrice()})]);case 6:return h=e.sent,v=o(h,2),T=v[0],O=v[1],S=(w=function(e){return null===O||void 0===O?void 0:O.fees(O.blockTimestamp+e,O.total.collateralRatioIsBelowCritical(O.price)).borrowingRate()})(0),k=T.adjust(l,S),e.next=15,this._findHints(k,u);case 15:if(D=e.sent,E=Y(n,S),M=E.maxBorrowingRate,A=E.borrowingFeeDecayToleranceMinutes,R=function(e){var t;return[M.hex,(null!==b&&void 0!==b?b:j.Decimal.ZERO).hex,(null!==(t=null!==e&&void 0!==e?e:m)&&void 0!==t?t:j.Decimal.ZERO).hex,!!e].concat(a(D),[s({value:null===p||void 0===p?void 0:p.hex},i)])},void 0!==(null===i||void 0===i?void 0:i.gasLimit)){e.next=34;break}if(F=w(60*A),N=T.adjust(l,F),U=T.adjustTo(N,S),q=U.borrowLUSD,!N.debt.lt(j.LUSD_MINIMUM_DEBT)){e.next=24;break}throw new Error("Trove's debt might fall below ".concat(j.LUSD_MINIMUM_DEBT," ")+"within ".concat(A," minutes"));case 24:return e.next=26,Promise.all([(P=d.estimateGas).adjustTrove.apply(P,a(R(f))),f&&(B=d.estimateGas).adjustTrove.apply(B,a(R(q)))]);case 26:G=e.sent,Q=o(G,2),W=Q[0],H=Q[1],V=_(L(W),H),f&&(V=C(A)(V)),I=V.sub(W).toNumber(),i=s(s({},i),{},{gasLimit:V});case 34:return e.t0=this,e.t1=l,e.next=38,(r=d.populateTransaction).adjustTrove.apply(r,a(R(f)));case 38:return e.t2=e.sent,e.t3=I,e.abrupt("return",e.t0._wrapTroveChangeWithFees.call(e.t0,e.t1,e.t2,e.t3));case 41:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"claimCollateralSurplus",value:function(){var e=u(y.mark((function e(t){var n,a;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x._getContracts(this._readable.connection),a=n.borrowerOperations,e.t0=this,e.next=4,a.estimateAndPopulate.claimCollateral(s({},t),A);case 4:return e.t1=e.sent,e.abrupt("return",e.t0._wrapSimpleTransaction.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPrice",value:function(){var e=u(y.mark((function e(t,n){var a,i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=x._getContracts(this._readable.connection),i=a.priceFeed,O._priceFeedIsTestnet(i)){e.next=3;break}throw new Error("setPrice() unavailable on this deployment of Liquity");case 3:return e.t0=this,e.next=6,i.estimateAndPopulate.setPrice(s({},n),A,j.Decimal.from(t).hex);case 6:return e.t1=e.sent,e.abrupt("return",e.t0._wrapSimpleTransaction.call(e.t0,e.t1));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"liquidate",value:function(){var e=u(y.mark((function e(t,n){var a,i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=x._getContracts(this._readable.connection),i=a.troveManager,!Array.isArray(t)){e.next=9;break}return e.t0=this,e.next=5,i.estimateAndPopulate.batchLiquidateTroves(s({},n),R,t);case 5:return e.t1=e.sent,e.abrupt("return",e.t0._wrapLiquidation.call(e.t0,e.t1));case 9:return e.t2=this,e.next=12,i.estimateAndPopulate.liquidate(s({},n),R,t);case 12:return e.t3=e.sent,e.abrupt("return",e.t2._wrapLiquidation.call(e.t2,e.t3));case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"liquidateUpTo",value:function(){var e=u(y.mark((function e(t,n){var a,i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x._getContracts(this._readable.connection),i=a.troveManager,e.t0=this,e.next=4,i.estimateAndPopulate.liquidateTroves(s({},n),R,t);case 4:return e.t1=e.sent,e.abrupt("return",e.t0._wrapLiquidation.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"depositLUSDInStabilityPool",value:function(){var e=u(y.mark((function e(t,n,a){var i,r,o,u;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=x._getContracts(this._readable.connection),o=r.stabilityPool,u=j.Decimal.from(t),e.t0=this,e.t1={depositLUSD:u},e.next=6,o.estimateAndPopulate.provideToSP(s({},a),R,u.hex,null!==(i=null!==n&&void 0!==n?n:this._readable.connection.frontendTag)&&void 0!==i?i:v.AddressZero);case 6:return e.t2=e.sent,e.abrupt("return",e.t0._wrapStabilityDepositTopup.call(e.t0,e.t1,e.t2));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"withdrawLUSDFromStabilityPool",value:function(){var e=u(y.mark((function e(t,n){var a,i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x._getContracts(this._readable.connection),i=a.stabilityPool,e.t0=this,e.next=4,i.estimateAndPopulate.withdrawFromSP(s({},n),R,j.Decimal.from(t).hex);case 4:return e.t1=e.sent,e.abrupt("return",e.t0._wrapStabilityDepositWithdrawal.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"withdrawGainsFromStabilityPool",value:function(){var e=u(y.mark((function e(t){var n,a;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x._getContracts(this._readable.connection),a=n.stabilityPool,e.t0=this,e.next=4,a.estimateAndPopulate.withdrawFromSP(s({},t),R,j.Decimal.ZERO.hex);case 4:return e.t1=e.sent,e.abrupt("return",e.t0._wrapStabilityPoolGainsWithdrawal.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"transferCollateralGainToTrove",value:function(){var e=u(y.mark((function e(t){var n,i,r,u,c,d,l,p,b;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=x._requireAddress(this._readable.connection,t),r=x._getContracts(this._readable.connection),u=r.stabilityPool,e.next=4,Promise.all([this._readable.getTrove(i),this._readable.getStabilityDeposit(i)]);case 4:return c=e.sent,d=o(c,2),l=d[0],p=d[1],b=l.addCollateral(p.collateralGain),e.t0=this,e.t1=(n=u.estimateAndPopulate).withdrawETHGainToTrove,e.t2=n,e.t3=[s({},t),M(L,R)],e.t4=a,e.next=16,this._findHints(b,i);case 16:return e.t5=e.sent,e.t6=(0,e.t4)(e.t5),e.t7=e.t3.concat.call(e.t3,e.t6),e.next=21,e.t1.apply.call(e.t1,e.t2,e.t7);case 21:return e.t8=e.sent,e.abrupt("return",e.t0._wrapCollateralGainTransfer.call(e.t0,e.t8));case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendLUSD",value:function(){var e=u(y.mark((function e(t,n,a){var i,r;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=x._getContracts(this._readable.connection),r=i.lusdToken,e.t0=this,e.next=4,r.estimateAndPopulate.transfer(s({},a),A,t,j.Decimal.from(n).hex);case 4:return e.t1=e.sent,e.abrupt("return",e.t0._wrapSimpleTransaction.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"sendLQTY",value:function(){var e=u(y.mark((function e(t,n,a){var i,r;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=x._getContracts(this._readable.connection),r=i.lqtyToken,e.t0=this,e.next=4,r.estimateAndPopulate.transfer(s({},a),A,t,j.Decimal.from(n).hex);case 4:return e.t1=e.sent,e.abrupt("return",e.t0._wrapSimpleTransaction.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"redeemLUSD",value:function(){var e=u(y.mark((function e(n,i,c){var d,l,p,b,f,m,h,T,g,O,w,_,S,k=this;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=x._getContracts(this._readable.connection),l=d.troveManager,p=j.Decimal.from(n),e.next=4,Promise.all([this._readable.getFees(),this._readable.getTotal(),this._findRedemptionHints(p)]);case 4:if(b=e.sent,f=o(b,3),m=f[0],h=f[1],T=r(f[2]),g=T[0],O=T[1],w=T.slice(2),!g.isZero){e.next=14;break}throw new Error("redeemLUSD: amount too low to redeem (try at least ".concat(j.LUSD_MINIMUM_NET_DEBT,")"));case 14:return _=function(e){return j.Decimal.min(m.redemptionRate(e.div(h.debt)).add(D),j.Decimal.ONE)},S=function(){var e=u(y.mark((function e(n,i){var r,o,u,d,p=arguments;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=p.length>2&&void 0!==p[2]?p[2]:n,u=p.length>3&&void 0!==p[3]?p[3]:[v.AddressZero,v.AddressZero,0],d=void 0!==i?j.Decimal.from(i):_(o),e.t0=Q,e.next=6,(r=l.estimateAndPopulate).redeemCollateral.apply(r,[s({},c),C(),o.hex,O].concat(a(u),[t._redeemMaxIterations,d.hex]));case 6:return e.t1=e.sent,e.t2=k._readable.connection,e.t3=n,e.t4=o,e.t5=o.lt(n)?function(e){return S(o.add(j.LUSD_MINIMUM_NET_DEBT),null!==e&&void 0!==e?e:i)}:void 0,e.abrupt("return",new e.t0(e.t1,e.t2,e.t3,e.t4,e.t5));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.abrupt("return",S(p,i,g,w));case 17:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"stakeLQTY",value:function(){var e=u(y.mark((function e(t,n){var a,i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x._getContracts(this._readable.connection),i=a.lqtyStaking,e.t0=this,e.next=4,i.estimateAndPopulate.stake(s({},n),A,j.Decimal.from(t).hex);case 4:return e.t1=e.sent,e.abrupt("return",e.t0._wrapSimpleTransaction.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unstakeLQTY",value:function(){var e=u(y.mark((function e(t,n){var a,i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x._getContracts(this._readable.connection),i=a.lqtyStaking,e.t0=this,e.next=4,i.estimateAndPopulate.unstake(s({},n),A,j.Decimal.from(t).hex);case 4:return e.t1=e.sent,e.abrupt("return",e.t0._wrapSimpleTransaction.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"withdrawGainsFromStaking",value:function(e){return this.unstakeLQTY(j.Decimal.ZERO,e)}},{key:"registerFrontend",value:function(){var e=u(y.mark((function e(t,n){var a,i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x._getContracts(this._readable.connection),i=a.stabilityPool,e.t0=this,e.next=4,i.estimateAndPopulate.registerFrontEnd(s({},n),A,j.Decimal.from(t).hex);case 4:return e.t1=e.sent,e.abrupt("return",e.t0._wrapSimpleTransaction.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_mintUniToken",value:function(){var e=u(y.mark((function e(t,n,a){var i,r;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n&&void 0!==n||(n=x._requireAddress(this._readable.connection,a)),i=x._getContracts(this._readable.connection),r=i.uniToken,O._uniTokenIsMock(r)){e.next=4;break}throw new Error("_mintUniToken() unavailable on this deployment of Liquity");case 4:return e.t0=this,e.next=7,r.estimateAndPopulate.mint(s({},a),A,n,j.Decimal.from(t).hex);case 7:return e.t1=e.sent,e.abrupt("return",e.t0._wrapSimpleTransaction.call(e.t0,e.t1));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"approveUniTokens",value:function(){var e=u(y.mark((function e(t,n){var a,i,r;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x._getContracts(this._readable.connection),i=a.uniToken,r=a.unipool,e.t0=this,e.next=4,i.estimateAndPopulate.approve(s({},n),A,r.address,j.Decimal.from(null!==t&&void 0!==t?t:j.Decimal.INFINITY).hex);case 4:return e.t1=e.sent,e.abrupt("return",e.t0._wrapSimpleTransaction.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"stakeUniTokens",value:function(){var e=u(y.mark((function e(t,n){var a,i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x._getContracts(this._readable.connection),i=a.unipool,e.t0=this,e.next=4,i.estimateAndPopulate.stake(s({},n),I,j.Decimal.from(t).hex);case 4:return e.t1=e.sent,e.abrupt("return",e.t0._wrapSimpleTransaction.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unstakeUniTokens",value:function(){var e=u(y.mark((function e(t,n){var a,i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x._getContracts(this._readable.connection),i=a.unipool,e.t0=this,e.next=4,i.estimateAndPopulate.withdraw(s({},n),I,j.Decimal.from(t).hex);case 4:return e.t1=e.sent,e.abrupt("return",e.t0._wrapSimpleTransaction.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"withdrawLQTYRewardFromLiquidityMining",value:function(){var e=u(y.mark((function e(t){var n,a;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x._getContracts(this._readable.connection),a=n.unipool,e.t0=this,e.next=4,a.estimateAndPopulate.claimReward(s({},t),I);case 4:return e.t1=e.sent,e.abrupt("return",e.t0._wrapSimpleTransaction.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"exitLiquidityMining",value:function(){var e=u(y.mark((function e(t){var n,a;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x._getContracts(this._readable.connection),a=n.unipool,e.t0=this,e.next=4,a.estimateAndPopulate.withdrawAndClaim(s({},t),I);case 4:return e.t1=e.sent,e.abrupt("return",e.t0._wrapSimpleTransaction.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.PopulatableEthersLiquity=W},264:function(e,t,n){"use strict";var a=n(3),i=n(83),r=n(44),s=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.SendableEthersLiquity=void 0;var o=function(e){return e.send()},u=function(){function e(t){r(this,e),this._populate=t}return s(e,[{key:"openTrove",value:function(){var e=i(a.mark((function e(t,n,i){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._populate.openTrove(t,n,i).then(o));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"closeTrove",value:function(e){return this._populate.closeTrove(e).then(o)}},{key:"adjustTrove",value:function(e,t,n){return this._populate.adjustTrove(e,t,n).then(o)}},{key:"depositCollateral",value:function(e,t){return this._populate.depositCollateral(e,t).then(o)}},{key:"withdrawCollateral",value:function(e,t){return this._populate.withdrawCollateral(e,t).then(o)}},{key:"borrowLUSD",value:function(e,t,n){return this._populate.borrowLUSD(e,t,n).then(o)}},{key:"repayLUSD",value:function(e,t){return this._populate.repayLUSD(e,t).then(o)}},{key:"setPrice",value:function(e,t){return this._populate.setPrice(e,t).then(o)}},{key:"liquidate",value:function(e,t){return this._populate.liquidate(e,t).then(o)}},{key:"liquidateUpTo",value:function(e,t){return this._populate.liquidateUpTo(e,t).then(o)}},{key:"depositLUSDInStabilityPool",value:function(e,t,n){return this._populate.depositLUSDInStabilityPool(e,t,n).then(o)}},{key:"withdrawLUSDFromStabilityPool",value:function(e,t){return this._populate.withdrawLUSDFromStabilityPool(e,t).then(o)}},{key:"withdrawGainsFromStabilityPool",value:function(e){return this._populate.withdrawGainsFromStabilityPool(e).then(o)}},{key:"transferCollateralGainToTrove",value:function(e){return this._populate.transferCollateralGainToTrove(e).then(o)}},{key:"sendLUSD",value:function(e,t,n){return this._populate.sendLUSD(e,t,n).then(o)}},{key:"sendLQTY",value:function(e,t,n){return this._populate.sendLQTY(e,t,n).then(o)}},{key:"redeemLUSD",value:function(e,t,n){return this._populate.redeemLUSD(e,t,n).then(o)}},{key:"claimCollateralSurplus",value:function(e){return this._populate.claimCollateralSurplus(e).then(o)}},{key:"stakeLQTY",value:function(e,t){return this._populate.stakeLQTY(e,t).then(o)}},{key:"unstakeLQTY",value:function(e,t){return this._populate.unstakeLQTY(e,t).then(o)}},{key:"withdrawGainsFromStaking",value:function(e){return this._populate.withdrawGainsFromStaking(e).then(o)}},{key:"registerFrontend",value:function(e,t){return this._populate.registerFrontend(e,t).then(o)}},{key:"_mintUniToken",value:function(e,t,n){return this._populate._mintUniToken(e,t,n).then(o)}},{key:"approveUniTokens",value:function(e,t){return this._populate.approveUniTokens(e,t).then(o)}},{key:"stakeUniTokens",value:function(e,t){return this._populate.stakeUniTokens(e,t).then(o)}},{key:"unstakeUniTokens",value:function(e,t){return this._populate.unstakeUniTokens(e,t).then(o)}},{key:"withdrawLQTYRewardFromLiquidityMining",value:function(e){return this._populate.withdrawLQTYRewardFromLiquidityMining(e).then(o)}},{key:"exitLiquidityMining",value:function(e){return this._populate.exitLiquidityMining(e).then(o)}}]),e}();t.SendableEthersLiquity=u},267:function(e,t,n){"use strict";var a=n(67),i=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LiquityStoreProvider=t.LiquityStoreContext=void 0;var o=s(n(1));t.LiquityStoreContext=o.createContext(void 0);t.LiquityStoreProvider=function(e){var n=e.store,i=e.loader,r=e.children,s=o.useState(),u=a(s,2),c=u[0],d=u[1];return o.useEffect((function(){n.onLoaded=function(){return d(n)};var e=n.start();return function(){n.onLoaded=void 0,d(void 0),e()}}),[n]),c?o.default.createElement(t.LiquityStoreContext.Provider,{value:c},r):o.default.createElement(o.default.Fragment,null,i)}},268:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.equals=void 0;var a=function(e,t){var n=Object.keys(e),a=Object.keys(t);return n.length===a.length&&n.every((function(n){return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(t,n)&&Object.is(e[n],t[n])}))},i=function(e){return null!==e&&"object"===typeof e};t.equals=function(e,t){return i(e)&&i(t)?a(e,t):Object.is(e,t)}},300:function(e,t,n){"use strict";var a=n(44),i=n(46),r=n(146),s=n(114),o=n(87),u=n(68),c=n(69);Object.defineProperty(t,"__esModule",{value:!0}),t.BLUSDToken__factory=void 0;var d=n(104),l=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"uint256",name:"_bLUSDAmount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"chickenBondManagerAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_bLUSDAmount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_chickenBondManagerAddress",type:"address"}],name:"setAddresses",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],p="0x60806040523480156200001157600080fd5b506040516200110e3803806200110e833981016040819052620000349162000251565b8151829082906200004d906003906020850190620000de565b50805162000063906004906020840190620000de565b505050620000806200007a6200008860201b60201c565b6200008c565b5050620002f7565b3390565b600580546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b828054620000ec90620002bb565b90600052602060002090601f0160209004810192826200011057600085556200015b565b82601f106200012b57805160ff19168380011785556200015b565b828001600101855582156200015b579182015b828111156200015b5782518255916020019190600101906200013e565b50620001699291506200016d565b5090565b5b808211156200016957600081556001016200016e565b634e487b7160e01b600052604160045260246000fd5b600082601f830112620001ac57600080fd5b81516001600160401b0380821115620001c957620001c962000184565b604051601f8301601f19908116603f01168101908282118183101715620001f457620001f462000184565b816040528381526020925086838588010111156200021157600080fd5b600091505b8382101562000235578582018301518183018401529082019062000216565b83821115620002475760008385830101525b9695505050505050565b600080604083850312156200026557600080fd5b82516001600160401b03808211156200027d57600080fd5b6200028b868387016200019a565b93506020850151915080821115620002a257600080fd5b50620002b1858286016200019a565b9150509250929050565b600181811c90821680620002d057607f821691505b602082108103620002f157634e487b7160e01b600052602260045260246000fd5b50919050565b610e0780620003076000396000f3fe608060405234801561001057600080fd5b50600436106101165760003560e01c806381d3c435116100a2578063a457c2d711610071578063a457c2d71461023c578063a9059cbb1461024f578063c6315aa014610262578063dd62ed3e14610275578063f2fde38b1461028857600080fd5b806381d3c435146101e95780638da5cb5b146101fc57806395d89b41146102215780639dc29fac1461022957600080fd5b8063313ce567116100e9578063313ce56714610181578063395093511461019057806340c10f19146101a357806370a08231146101b8578063715018a6146101e157600080fd5b806306fdde031461011b578063095ea7b31461013957806318160ddd1461015c57806323b872dd1461016e575b600080fd5b61012361029b565b6040516101309190610bf1565b60405180910390f35b61014c610147366004610c62565b61032d565b6040519015158152602001610130565b6002545b604051908152602001610130565b61014c61017c366004610c8c565b610345565b60405160128152602001610130565b61014c61019e366004610c62565b610369565b6101b66101b1366004610c62565b61038b565b005b6101606101c6366004610cc8565b6001600160a01b031660009081526020819052604090205490565b6101b66103a1565b6101b66101f7366004610cc8565b6103e0565b6005546001600160a01b03165b6040516001600160a01b039091168152602001610130565b610123610430565b6101b6610237366004610c62565b61043f565b61014c61024a366004610c62565b610451565b61014c61025d366004610c62565b6104cc565b600654610209906001600160a01b031681565b610160610283366004610cea565b6104da565b6101b6610296366004610cc8565b610505565b6060600380546102aa90610d1d565b80601f01602080910402602001604051908101604052809291908181526020018280546102d690610d1d565b80156103235780601f106102f857610100808354040283529160200191610323565b820191906000526020600020905b81548152906001019060200180831161030657829003601f168201915b5050505050905090565b60003361033b81858561059d565b5060019392505050565b6000336103538582856106c2565b61035e85858561073c565b506001949350505050565b60003361033b81858561037c83836104da565b6103869190610d6d565b61059d565b61039361090a565b61039d828261097a565b5050565b6005546001600160a01b031633146103d45760405162461bcd60e51b81526004016103cb90610d85565b60405180910390fd5b6103de6000610a59565b565b6005546001600160a01b0316331461040a5760405162461bcd60e51b81526004016103cb90610d85565b600680546001600160a01b0319166001600160a01b03831617905561042d6103a1565b50565b6060600480546102aa90610d1d565b61044761090a565b61039d8282610aab565b6000338161045f82866104da565b9050838110156104bf5760405162461bcd60e51b815260206004820152602560248201527f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f77604482015264207a65726f60d81b60648201526084016103cb565b61035e828686840361059d565b60003361033b81858561073c565b6001600160a01b03918216600090815260016020908152604080832093909416825291909152205490565b6005546001600160a01b0316331461052f5760405162461bcd60e51b81526004016103cb90610d85565b6001600160a01b0381166105945760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016103cb565b61042d81610a59565b6001600160a01b0383166105ff5760405162461bcd60e51b8152602060048201526024808201527f45524332303a20617070726f76652066726f6d20746865207a65726f206164646044820152637265737360e01b60648201526084016103cb565b6001600160a01b0382166106605760405162461bcd60e51b815260206004820152602260248201527f45524332303a20617070726f766520746f20746865207a65726f206164647265604482015261737360f01b60648201526084016103cb565b6001600160a01b0383811660008181526001602090815260408083209487168084529482529182902085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591015b60405180910390a3505050565b60006106ce84846104da565b9050600019811461073657818110156107295760405162461bcd60e51b815260206004820152601d60248201527f45524332303a20696e73756666696369656e7420616c6c6f77616e636500000060448201526064016103cb565b610736848484840361059d565b50505050565b6001600160a01b0383166107a05760405162461bcd60e51b815260206004820152602560248201527f45524332303a207472616e736665722066726f6d20746865207a65726f206164604482015264647265737360d81b60648201526084016103cb565b6001600160a01b0382166108025760405162461bcd60e51b815260206004820152602360248201527f45524332303a207472616e7366657220746f20746865207a65726f206164647260448201526265737360e81b60648201526084016103cb565b6001600160a01b0383166000908152602081905260409020548181101561087a5760405162461bcd60e51b815260206004820152602660248201527f45524332303a207472616e7366657220616d6f756e7420657863656564732062604482015265616c616e636560d01b60648201526084016103cb565b6001600160a01b038085166000908152602081905260408082208585039055918516815290812080548492906108b1908490610d6d565b92505081905550826001600160a01b0316846001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040516108fd91815260200190565b60405180910390a3610736565b6006546001600160a01b031633146103de5760405162461bcd60e51b815260206004820152602d60248201527f424c555344546f6b656e3a2043616c6c6572206d75737420626520436869636b60448201526c32b72137b73226b0b730b3b2b960991b60648201526084016103cb565b6001600160a01b0382166109d05760405162461bcd60e51b815260206004820152601f60248201527f45524332303a206d696e7420746f20746865207a65726f20616464726573730060448201526064016103cb565b80600260008282546109e29190610d6d565b90915550506001600160a01b03821660009081526020819052604081208054839290610a0f908490610d6d565b90915550506040518181526001600160a01b038316906000907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9060200160405180910390a35050565b600580546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b6001600160a01b038216610b0b5760405162461bcd60e51b815260206004820152602160248201527f45524332303a206275726e2066726f6d20746865207a65726f206164647265736044820152607360f81b60648201526084016103cb565b6001600160a01b03821660009081526020819052604090205481811015610b7f5760405162461bcd60e51b815260206004820152602260248201527f45524332303a206275726e20616d6f756e7420657863656564732062616c616e604482015261636560f01b60648201526084016103cb565b6001600160a01b0383166000908152602081905260408120838303905560028054849290610bae908490610dba565b90915550506040518281526000906001600160a01b038516907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef906020016106b5565b600060208083528351808285015260005b81811015610c1e57858101830151858201604001528201610c02565b81811115610c30576000604083870101525b50601f01601f1916929092016040019392505050565b80356001600160a01b0381168114610c5d57600080fd5b919050565b60008060408385031215610c7557600080fd5b610c7e83610c46565b946020939093013593505050565b600080600060608486031215610ca157600080fd5b610caa84610c46565b9250610cb860208501610c46565b9150604084013590509250925092565b600060208284031215610cda57600080fd5b610ce382610c46565b9392505050565b60008060408385031215610cfd57600080fd5b610d0683610c46565b9150610d1460208401610c46565b90509250929050565b600181811c90821680610d3157607f821691505b602082108103610d5157634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052601160045260246000fd5b60008219821115610d8057610d80610d57565b500190565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b600082821015610dcc57610dcc610d57565b50039056fea264697066735822122023b9afd8587abe84641f48a109e36ac476f6943a9477697b75ccd34746f371c664736f6c634300080d0033",b=function(e){return e.length>1},y=function(e){u(n,e);var t=c(n);function n(){var e;a(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=b(s)?t.call.apply(t,[this].concat(s)):t.call(this,l,p,s[0]),r(e)}return i(n,[{key:"deploy",value:function(e,t,a){return s(o(n.prototype),"deploy",this).call(this,e,t,a||{})}},{key:"getDeployTransaction",value:function(e,t,a){return s(o(n.prototype),"getDeployTransaction",this).call(this,e,t,a||{})}},{key:"attach",value:function(e){return s(o(n.prototype),"attach",this).call(this,e)}},{key:"connect",value:function(e){return s(o(n.prototype),"connect",this).call(this,e)}}],[{key:"createInterface",value:function(){return new d.utils.Interface(l)}},{key:"connect",value:function(e,t){return new d.Contract(e,l,t)}}]),n}(d.ContractFactory);t.BLUSDToken__factory=y,y.bytecode=p,y.abi=l},301:function(e,t,n){"use strict";var a=n(44),i=n(46),r=n(146),s=n(114),o=n(87),u=n(68),c=n(69);Object.defineProperty(t,"__esModule",{value:!0}),t.BondNFT__factory=void 0;var d=n(104),l=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"address",name:"_initialArtworkAddress",type:"address"},{internalType:"uint256",name:"_transferLockoutPeriodSeconds",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"artwork",outputs:[{internalType:"contract IBondNFTArtwork",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chickenBondManager",outputs:[{internalType:"contract IChickenBondManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenID",type:"uint256"}],name:"getBondAmount",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenID",type:"uint256"}],name:"getBondEndTime",outputs:[{internalType:"uint256",name:"endTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenID",type:"uint256"}],name:"getBondFinalDna",outputs:[{internalType:"uint256",name:"finalDna",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint128",name:"_tokenID",type:"uint128"}],name:"getBondFinalHalfDna",outputs:[{internalType:"uint128",name:"finalHalfDna",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenID",type:"uint256"}],name:"getBondInitialDna",outputs:[{internalType:"uint256",name:"initialDna",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenID",type:"uint256"}],name:"getBondInitialHalfDna",outputs:[{internalType:"uint128",name:"initialHalfDna",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenID",type:"uint256"}],name:"getBondStartTime",outputs:[{internalType:"uint256",name:"startTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenID",type:"uint256"}],name:"getBondStatus",outputs:[{internalType:"uint8",name:"status",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_bonder",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_chickenBondManagerAddress",type:"address"}],name:"setAddresses",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_artworkAddress",type:"address"}],name:"setArtworkAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenID",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"transferLockoutPeriodSeconds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],p="0x60a06040523480156200001157600080fd5b50604051620026b5380380620026b5833981016040819052620000349162000276565b8351849084906200004d90600090602085019062000103565b5080516200006390600190602084019062000103565b505050620000806200007a620000ad60201b60201c565b620000b1565b600c80546001600160a01b0319166001600160a01b03939093169290921790915560805250620003459050565b3390565b600a80546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b828054620001119062000309565b90600052602060002090601f01602090048101928262000135576000855562000180565b82601f106200015057805160ff191683800117855562000180565b8280016001018555821562000180579182015b828111156200018057825182559160200191906001019062000163565b506200018e92915062000192565b5090565b5b808211156200018e576000815560010162000193565b634e487b7160e01b600052604160045260246000fd5b600082601f830112620001d157600080fd5b81516001600160401b0380821115620001ee57620001ee620001a9565b604051601f8301601f19908116603f01168101908282118183101715620002195762000219620001a9565b816040528381526020925086838588010111156200023657600080fd5b600091505b838210156200025a57858201830151818301840152908201906200023b565b838211156200026c5760008385830101525b9695505050505050565b600080600080608085870312156200028d57600080fd5b84516001600160401b0380821115620002a557600080fd5b620002b388838901620001bf565b95506020870151915080821115620002ca57600080fd5b50620002d987828801620001bf565b604087015190945090506001600160a01b0381168114620002f957600080fd5b6060959095015193969295505050565b600181811c908216806200031e57607f821691505b6020821081036200033f57634e487b7160e01b600052602260045260246000fd5b50919050565b60805161234d620003686000396000818161030f0152611945015261234d6000f3fe608060405234801561001057600080fd5b50600436106101fb5760003560e01c80636a6278421161011a578063a22cb465116100ad578063d7aecbb71161007c578063d7aecbb71461045c578063e91b0a411461046f578063e985e9c514610494578063ec8e1e13146104d0578063f2fde38b146104e357600080fd5b8063a22cb46514610410578063aec0932d14610423578063b88d4fde14610436578063c87b56dd1461044957600080fd5b8063715018a6116100e9578063715018a6146103dc57806381d3c435146103e45780638da5cb5b146103f757806395d89b411461040857600080fd5b80636a627842146103905780636c15314f146103a35780636df881ae146103b657806370a08231146103c957600080fd5b806326cc133e116101925780634f6ccce7116101615780634f6ccce71461034457806356d83ed9146103575780636352211e1461036a578063659c152a1461037d57600080fd5b806326cc133e146102e45780632f745c59146102f757806337c797301461030a57806342842e0e1461033157600080fd5b8063106d8bbb116101ce578063106d8bbb1461027d57806310a6b766146102a857806318160ddd146102c957806323b872dd146102d157600080fd5b806301ffc9a71461020057806306fdde0314610228578063081812fc1461023d578063095ea7b314610268575b600080fd5b61021361020e366004611d3e565b6104f6565b60405190151581526020015b60405180910390f35b610230610521565b60405161021f9190611dba565b61025061024b366004611dcd565b6105b3565b6040516001600160a01b03909116815260200161021f565b61027b610276366004611e02565b61064d565b005b61029061028b366004611dcd565b610762565b6040516001600160801b03909116815260200161021f565b6102bb6102b6366004611dcd565b6107dc565b60405190815260200161021f565b6008546102bb565b61027b6102df366004611e2c565b610856565b600c54610250906001600160a01b031681565b6102bb610305366004611e02565b610887565b6102bb7f000000000000000000000000000000000000000000000000000000000000000081565b61027b61033f366004611e2c565b61091d565b6102bb610352366004611dcd565b610938565b600b54610250906001600160a01b031681565b610250610378366004611dcd565b6109cb565b61029061038b366004611e7d565b610a42565b6102bb61039e366004611e9a565b610ac3565b6102bb6103b1366004611dcd565b610aef565b6102bb6103c4366004611dcd565b610b93565b6102bb6103d7366004611e9a565b610c1a565b61027b610ca1565b61027b6103f2366004611e9a565b610cd7565b600a546001600160a01b0316610250565b610230610e07565b61027b61041e366004611eb5565b610e16565b6102bb610431366004611dcd565b610e25565b61027b610444366004611f60565b610e9f565b610230610457366004611dcd565b610ed7565b6102bb61046a366004611dcd565b610fe5565b61048261047d366004611dcd565b61105f565b60405160ff909116815260200161021f565b6102136104a236600461200b565b6001600160a01b03918216600090815260056020908152604080832093909416825291909152205460ff1690565b61027b6104de366004611e9a565b6110d8565b61027b6104f1366004611e9a565b611195565b60006001600160e01b0319821663780e9d6360e01b148061051b575061051b8261122d565b92915050565b6060600080546105309061203e565b80601f016020809104026020016040519081016040528092919081815260200182805461055c9061203e565b80156105a95780601f1061057e576101008083540402835291602001916105a9565b820191906000526020600020905b81548152906001019060200180831161058c57829003601f168201915b5050505050905090565b6000818152600260205260408120546001600160a01b03166106315760405162461bcd60e51b815260206004820152602c60248201527f4552433732313a20617070726f76656420717565727920666f72206e6f6e657860448201526b34b9ba32b73a103a37b5b2b760a11b60648201526084015b60405180910390fd5b506000908152600460205260409020546001600160a01b031690565b6000610658826109cb565b9050806001600160a01b0316836001600160a01b0316036106c55760405162461bcd60e51b815260206004820152602160248201527f4552433732313a20617070726f76616c20746f2063757272656e74206f776e656044820152603960f91b6064820152608401610628565b336001600160a01b03821614806106e157506106e181336104a2565b6107535760405162461bcd60e51b815260206004820152603860248201527f4552433732313a20617070726f76652063616c6c6572206973206e6f74206f7760448201527f6e6572206e6f7220617070726f76656420666f7220616c6c00000000000000006064820152608401610628565b61075d838361127d565b505050565b600b5460405163da10594360e01b8152600481018390526000916001600160a01b03169063da1059439060240160c060405180830381865afa1580156107ac573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107d09190612078565b50909695505050505050565b600b5460405163da10594360e01b8152600481018390526000916001600160a01b03169063da1059439060240160c060405180830381865afa158015610826573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061084a9190612078565b50939695505050505050565b61086033826112eb565b61087c5760405162461bcd60e51b8152600401610628906120e7565b61075d8383836113e1565b600061089283610c1a565b82106108f45760405162461bcd60e51b815260206004820152602b60248201527f455243373231456e756d657261626c653a206f776e657220696e646578206f7560448201526a74206f6620626f756e647360a81b6064820152608401610628565b506001600160a01b03919091166000908152600660209081526040808320938352929052205490565b61075d83838360405180602001604052806000815250610e9f565b600061094360085490565b82106109a65760405162461bcd60e51b815260206004820152602c60248201527f455243373231456e756d657261626c653a20676c6f62616c20696e646578206f60448201526b7574206f6620626f756e647360a01b6064820152608401610628565b600882815481106109b9576109b9612138565b90600052602060002001549050919050565b6000818152600260205260408120546001600160a01b03168061051b5760405162461bcd60e51b815260206004820152602960248201527f4552433732313a206f776e657220717565727920666f72206e6f6e657869737460448201526832b73a103a37b5b2b760b91b6064820152608401610628565b600b5460405163da10594360e01b81526001600160801b03831660048201526000916001600160a01b03169063da1059439060240160c060405180830381865afa158015610a94573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ab89190612078565b509695505050505050565b6000610acd611588565b6000610ad860085490565b610ae3906001612164565b905061051b83826115f5565b600b5460405163da10594360e01b815260048101839052600091829182916001600160a01b03169063da1059439060240160c060405180830381865afa158015610b3d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b619190612078565b5094509450505050806001600160801b03166080836001600160801b0316901b610b8b9190612164565b949350505050565b600b5460405163da10594360e01b81526004810183905260009182916001600160a01b039091169063da1059439060240160c060405180830381865afa158015610be1573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c059190612078565b50506001600160801b03169695505050505050565b60006001600160a01b038216610c855760405162461bcd60e51b815260206004820152602a60248201527f4552433732313a2062616c616e636520717565727920666f7220746865207a65604482015269726f206164647265737360b01b6064820152608401610628565b506001600160a01b031660009081526003602052604090205490565b600a546001600160a01b03163314610ccb5760405162461bcd60e51b81526004016106289061217c565b610cd56000611743565b565b600a546001600160a01b03163314610d015760405162461bcd60e51b81526004016106289061217c565b6001600160a01b038116610d745760405162461bcd60e51b815260206004820152603460248201527f426f6e644e46543a205f636869636b656e426f6e644d616e6167657241646472604482015273657373206d757374206265206e6f6e2d7a65726f60601b6064820152608401610628565b600b546001600160a01b031615610de55760405162461bcd60e51b815260206004820152602f60248201527f426f6e644e46543a2073657441646472657373657328292063616e206f6e6c7960448201526e2062652063616c6c6564206f6e636560881b6064820152608401610628565b600b80546001600160a01b0319166001600160a01b0392909216919091179055565b6060600180546105309061203e565b610e21338383611795565b5050565b600b5460405163da10594360e01b8152600481018390526000916001600160a01b03169063da1059439060240160c060405180830381865afa158015610e6f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e939190612078565b50919695505050505050565b610ea933836112eb565b610ec55760405162461bcd60e51b8152600401610628906120e7565b610ed184848484611863565b50505050565b6000818152600260205260409020546060906001600160a01b0316610f4f5760405162461bcd60e51b815260206004820152602860248201527f426f6e644e46543a2055524920717565727920666f72206e6f6e657869737465604482015267373a103a37b5b2b760c11b6064820152608401610628565b600c546001600160a01b0316610f74576040518060200160405280600081525061051b565b600c5460405163c87b56dd60e01b8152600481018490526001600160a01b039091169063c87b56dd90602401600060405180830381865afa158015610fbd573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261051b91908101906121b1565b600b5460405163da10594360e01b8152600481018390526000916001600160a01b03169063da1059439060240160c060405180830381865afa15801561102f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110539190612078565b50929695505050505050565b600b5460405163da10594360e01b8152600481018390526000916001600160a01b03169063da1059439060240160c060405180830381865afa1580156110a9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110cd9190612078565b979650505050505050565b600a546001600160a01b031633146111025760405162461bcd60e51b81526004016106289061217c565b600b546001600160a01b031661116f5760405162461bcd60e51b815260206004820152602c60248201527f426f6e644e46543a207365744164647265737365732829206d7573742062652060448201526b18d85b1b195908199a5c9cdd60a21b6064820152608401610628565b600c80546001600160a01b0319166001600160a01b038316179055611192610ca1565b50565b600a546001600160a01b031633146111bf5760405162461bcd60e51b81526004016106289061217c565b6001600160a01b0381166112245760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610628565b61119281611743565b60006001600160e01b031982166380ac58cd60e01b148061125e57506001600160e01b03198216635b5e139f60e01b145b8061051b57506301ffc9a760e01b6001600160e01b031983161461051b565b600081815260046020526040902080546001600160a01b0319166001600160a01b03841690811790915581906112b2826109cb565b6001600160a01b03167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b6000818152600260205260408120546001600160a01b03166113645760405162461bcd60e51b815260206004820152602c60248201527f4552433732313a206f70657261746f7220717565727920666f72206e6f6e657860448201526b34b9ba32b73a103a37b5b2b760a11b6064820152608401610628565b600061136f836109cb565b9050806001600160a01b0316846001600160a01b031614806113b657506001600160a01b0380821660009081526005602090815260408083209388168352929052205460ff165b80610b8b5750836001600160a01b03166113cf846105b3565b6001600160a01b031614949350505050565b826001600160a01b03166113f4826109cb565b6001600160a01b0316146114585760405162461bcd60e51b815260206004820152602560248201527f4552433732313a207472616e736665722066726f6d20696e636f72726563742060448201526437bbb732b960d91b6064820152608401610628565b6001600160a01b0382166114ba5760405162461bcd60e51b8152602060048201526024808201527f4552433732313a207472616e7366657220746f20746865207a65726f206164646044820152637265737360e01b6064820152608401610628565b6114c5838383611896565b6114d060008261127d565b6001600160a01b03831660009081526003602052604081208054600192906114f9908490612228565b90915550506001600160a01b0382166000908152600360205260408120805460019290611527908490612164565b909155505060008181526002602052604080822080546001600160a01b0319166001600160a01b0386811691821790925591518493918716917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef91a4505050565b600b546001600160a01b03163314610cd55760405162461bcd60e51b815260206004820152602a60248201527f426f6e644e46543a2043616c6c6572206d75737420626520436869636b656e4260448201526937b73226b0b730b3b2b960b11b6064820152608401610628565b6001600160a01b03821661164b5760405162461bcd60e51b815260206004820181905260248201527f4552433732313a206d696e7420746f20746865207a65726f20616464726573736044820152606401610628565b6000818152600260205260409020546001600160a01b0316156116b05760405162461bcd60e51b815260206004820152601c60248201527f4552433732313a20746f6b656e20616c7265616479206d696e746564000000006044820152606401610628565b6116bc60008383611896565b6001600160a01b03821660009081526003602052604081208054600192906116e5908490612164565b909155505060008181526002602052604080822080546001600160a01b0319166001600160a01b03861690811790915590518392907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a45050565b600a80546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b816001600160a01b0316836001600160a01b0316036117f65760405162461bcd60e51b815260206004820152601960248201527f4552433732313a20617070726f766520746f2063616c6c6572000000000000006044820152606401610628565b6001600160a01b03838116600081815260056020908152604080832094871680845294825291829020805460ff191686151590811790915591519182527f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31910160405180910390a3505050565b61186e8484846113e1565b61187a848484846119df565b610ed15760405162461bcd60e51b81526004016106289061223f565b6001600160a01b038316156119d457600b5460405163da10594360e01b81526004810183905260009182916001600160a01b039091169063da1059439060240160c060405180830381865afa1580156118f3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906119179190612078565b95505050935050506001600381111561193257611932612291565b60ff168160ff16148061196e575061196a7f000000000000000000000000000000000000000000000000000000000000000083612164565b4210155b6119d15760405162461bcd60e51b815260206004820152602e60248201527f426f6e644e46543a2063616e6e6f74207472616e7366657220647572696e672060448201526d1b1bd8dadbdd5d081c195c9a5bd960921b6064820152608401610628565b50505b61075d838383611ae0565b60006001600160a01b0384163b15611ad557604051630a85bd0160e11b81526001600160a01b0385169063150b7a0290611a239033908990889088906004016122a7565b6020604051808303816000875af1925050508015611a5e575060408051601f3d908101601f19168201909252611a5b918101906122e4565b60015b611abb573d808015611a8c576040519150601f19603f3d011682016040523d82523d6000602084013e611a91565b606091505b508051600003611ab35760405162461bcd60e51b81526004016106289061223f565b805181602001fd5b6001600160e01b031916630a85bd0160e11b149050610b8b565b506001949350505050565b6001600160a01b038316611b3b57611b3681600880546000838152600960205260408120829055600182018355919091527ff3f7a9fe364faab93b216da50a3214154f22a0a2b415b23a84c8169e8b636ee30155565b611b5e565b816001600160a01b0316836001600160a01b031614611b5e57611b5e8382611b98565b6001600160a01b038216611b755761075d81611c35565b826001600160a01b0316826001600160a01b03161461075d5761075d8282611ce4565b60006001611ba584610c1a565b611baf9190612228565b600083815260076020526040902054909150808214611c02576001600160a01b03841660009081526006602090815260408083208584528252808320548484528184208190558352600790915290208190555b5060009182526007602090815260408084208490556001600160a01b039094168352600681528383209183525290812055565b600854600090611c4790600190612228565b60008381526009602052604081205460088054939450909284908110611c6f57611c6f612138565b906000526020600020015490508060088381548110611c9057611c90612138565b6000918252602080832090910192909255828152600990915260408082208490558582528120556008805480611cc857611cc8612301565b6001900381819060005260206000200160009055905550505050565b6000611cef83610c1a565b6001600160a01b039093166000908152600660209081526040808320868452825280832085905593825260079052919091209190915550565b6001600160e01b03198116811461119257600080fd5b600060208284031215611d5057600080fd5b8135611d5b81611d28565b9392505050565b60005b83811015611d7d578181015183820152602001611d65565b83811115610ed15750506000910152565b60008151808452611da6816020860160208601611d62565b601f01601f19169290920160200192915050565b602081526000611d5b6020830184611d8e565b600060208284031215611ddf57600080fd5b5035919050565b80356001600160a01b0381168114611dfd57600080fd5b919050565b60008060408385031215611e1557600080fd5b611e1e83611de6565b946020939093013593505050565b600080600060608486031215611e4157600080fd5b611e4a84611de6565b9250611e5860208501611de6565b9150604084013590509250925092565b6001600160801b038116811461119257600080fd5b600060208284031215611e8f57600080fd5b8135611d5b81611e68565b600060208284031215611eac57600080fd5b611d5b82611de6565b60008060408385031215611ec857600080fd5b611ed183611de6565b915060208301358015158114611ee657600080fd5b809150509250929050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff81118282101715611f3057611f30611ef1565b604052919050565b600067ffffffffffffffff821115611f5257611f52611ef1565b50601f01601f191660200190565b60008060008060808587031215611f7657600080fd5b611f7f85611de6565b9350611f8d60208601611de6565b925060408501359150606085013567ffffffffffffffff811115611fb057600080fd5b8501601f81018713611fc157600080fd5b8035611fd4611fcf82611f38565b611f07565b818152886020838501011115611fe957600080fd5b8160208401602083013760006020838301015280935050505092959194509250565b6000806040838503121561201e57600080fd5b61202783611de6565b915061203560208401611de6565b90509250929050565b600181811c9082168061205257607f821691505b60208210810361207257634e487b7160e01b600052602260045260246000fd5b50919050565b60008060008060008060c0878903121561209157600080fd5b86519550602087015194506040870151935060608701516120b181611e68565b60808801519093506120c281611e68565b60a088015190925060ff811681146120d957600080fd5b809150509295509295509295565b60208082526031908201527f4552433732313a207472616e736665722063616c6c6572206973206e6f74206f6040820152701ddb995c881b9bdc88185c1c1c9bdd9959607a1b606082015260800190565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b600082198211156121775761217761214e565b500190565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b6000602082840312156121c357600080fd5b815167ffffffffffffffff8111156121da57600080fd5b8201601f810184136121eb57600080fd5b80516121f9611fcf82611f38565b81815285602083850101111561220e57600080fd5b61221f826020830160208601611d62565b95945050505050565b60008282101561223a5761223a61214e565b500390565b60208082526032908201527f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560408201527131b2b4bb32b91034b6b83632b6b2b73a32b960711b606082015260800190565b634e487b7160e01b600052602160045260246000fd5b6001600160a01b03858116825284166020820152604081018390526080606082018190526000906122da90830184611d8e565b9695505050505050565b6000602082840312156122f657600080fd5b8151611d5b81611d28565b634e487b7160e01b600052603160045260246000fdfea264697066735822122044103ea1091d2ca6e6fe4ca1513806deac675a7b518c33ca3a71b86fa08dc52164736f6c634300080d0033",b=function(e){return e.length>1},y=function(e){u(n,e);var t=c(n);function n(){var e;a(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=b(s)?t.call.apply(t,[this].concat(s)):t.call(this,l,p,s[0]),r(e)}return i(n,[{key:"deploy",value:function(e,t,a,i,r){return s(o(n.prototype),"deploy",this).call(this,e,t,a,i,r||{})}},{key:"getDeployTransaction",value:function(e,t,a,i,r){return s(o(n.prototype),"getDeployTransaction",this).call(this,e,t,a,i,r||{})}},{key:"attach",value:function(e){return s(o(n.prototype),"attach",this).call(this,e)}},{key:"connect",value:function(e){return s(o(n.prototype),"connect",this).call(this,e)}}],[{key:"createInterface",value:function(){return new d.utils.Interface(l)}},{key:"connect",value:function(e,t){return new d.Contract(e,l,t)}}]),n}(d.ContractFactory);t.BondNFT__factory=y,y.bytecode=p,y.abi=l},302:function(e,t,n){"use strict";var a=n(44),i=n(46),r=n(146),s=n(114),o=n(87),u=n(68),c=n(69);Object.defineProperty(t,"__esModule",{value:!0}),t.ChickenBondManager__factory=void 0;var d=n(104),l=[{inputs:[{components:[{internalType:"address",name:"bondNFTAddress",type:"address"},{internalType:"address",name:"lusdTokenAddress",type:"address"},{internalType:"address",name:"curvePoolAddress",type:"address"},{internalType:"address",name:"curveBasePoolAddress",type:"address"},{internalType:"address",name:"bammSPVaultAddress",type:"address"},{internalType:"address",name:"yearnCurveVaultAddress",type:"address"},{internalType:"address",name:"yearnRegistryAddress",type:"address"},{internalType:"address",name:"yearnGovernanceAddress",type:"address"},{internalType:"address",name:"bLUSDTokenAddress",type:"address"},{internalType:"address",name:"curveLiquidityGaugeAddress",type:"address"}],internalType:"struct ChickenBondManager.ExternalAdresses",name:"_externalContractAddresses",type:"tuple"},{components:[{internalType:"uint256",name:"targetAverageAgeSeconds",type:"uint256"},{internalType:"uint256",name:"initialAccrualParameter",type:"uint256"},{internalType:"uint256",name:"minimumAccrualParameter",type:"uint256"},{internalType:"uint256",name:"accrualAdjustmentRate",type:"uint256"},{internalType:"uint256",name:"accrualAdjustmentPeriodSeconds",type:"uint256"},{internalType:"uint256",name:"chickenInAMMFee",type:"uint256"},{internalType:"uint256",name:"curveDepositDydxThreshold",type:"uint256"},{internalType:"uint256",name:"curveWithdrawalDxdyThreshold",type:"uint256"},{internalType:"uint256",name:"bootstrapPeriodChickenIn",type:"uint256"},{internalType:"uint256",name:"bootstrapPeriodRedeem",type:"uint256"},{internalType:"uint256",name:"bootstrapPeriodShift",type:"uint256"},{internalType:"uint256",name:"shifterDelay",type:"uint256"},{internalType:"uint256",name:"shifterWindow",type:"uint256"},{internalType:"uint256",name:"minBLUSDSupply",type:"uint256"},{internalType:"uint256",name:"minBondAmount",type:"uint256"},{internalType:"uint256",name:"nftRandomnessDivisor",type:"uint256"},{internalType:"uint256",name:"redemptionFeeBeta",type:"uint256"},{internalType:"uint256",name:"redemptionFeeMinuteDecayFactor",type:"uint256"}],internalType:"struct ChickenBondManager.Params",name:"_params",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"redeemer",type:"address"},{indexed:!1,internalType:"uint256",name:"bLusdAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minLusdAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"lusdAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"yTokens",type:"uint256"},{indexed:!1,internalType:"uint256",name:"redemptionFee",type:"uint256"}],name:"BLUSDRedeemed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_baseRedemptionRate",type:"uint256"}],name:"BaseRedemptionRateUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"bonder",type:"address"},{indexed:!1,internalType:"uint256",name:"bondId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"principalLusdAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minLusdAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"withdrawnLusdAmount",type:"uint256"},{indexed:!1,internalType:"uint128",name:"bondFinalHalfDna",type:"uint128"}],name:"BondCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"bonder",type:"address"},{indexed:!1,internalType:"uint256",name:"bondId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"lusdAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bLusdAmount",type:"uint256"},{indexed:!1,internalType:"uint128",name:"bondFinalHalfDna",type:"uint128"}],name:"BondClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"bonder",type:"address"},{indexed:!1,internalType:"uint256",name:"bondId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint128",name:"bondInitialHalfDna",type:"uint128"}],name:"BondCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_lastRedemptionFeeOpTime",type:"uint256"}],name:"LastRedemptionTimeUpdated",type:"event"},{inputs:[],name:"BETA",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"BOOTSTRAP_PERIOD_CHICKEN_IN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"BOOTSTRAP_PERIOD_REDEEM",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"BOOTSTRAP_PERIOD_SHIFT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CHICKEN_IN_AMM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DECIMAL_PRECISION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"INDEX_OF_LUSD_TOKEN_IN_CURVE_POOL",outputs:[{internalType:"int128",name:"",type:"int128"}],stateMutability:"view",type:"function"},{inputs:[],name:"MINUTE_DECAY_FACTOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_BLUSD_SUPPLY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_BOND_AMOUNT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"NFT_RANDOMNESS_DIVISOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SECONDS_IN_ONE_MINUTE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SHIFTER_DELAY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SHIFTER_WINDOW",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_bammLUSDValue",type:"uint256"}],name:"_calcSystemBackingRatioFromBAMMValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"accrualAdjustmentMultiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"accrualAdjustmentPeriodCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"accrualAdjustmentPeriodSeconds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"accrualParameter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"activateMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"bLUSDToken",outputs:[{internalType:"contract IBLUSDToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"bammSPVault",outputs:[{internalType:"contract IBAMM",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseRedemptionRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"bondNFT",outputs:[{internalType:"contract IBondNFT",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_bondID",type:"uint256"}],name:"calcAccruedBLUSD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_bondID",type:"uint256"}],name:"calcBondBLUSDCap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_fractionOfBLUSDToRedeem",type:"uint256"}],name:"calcRedemptionFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"calcSystemBackingRatio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"calcTotalLUSDValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"calcTotalYearnCurveVaultShareValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"calcUpdatedAccrualParameter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_bondID",type:"uint256"}],name:"chickenIn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_bondID",type:"uint256"},{internalType:"uint256",name:"_minLUSD",type:"uint256"}],name:"chickenOut",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"countChickenIn",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"countChickenOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_lusdAmount",type:"uint256"}],name:"createBond",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"curveBasePool",outputs:[{internalType:"contract ICurvePool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"curveDepositLUSD3CRVExchangeRateThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"curveLiquidityGauge",outputs:[{internalType:"contract ICurveLiquidityGaugeV5",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"curvePool",outputs:[{internalType:"contract ICurvePool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"curveWithdrawal3CRVLUSDExchangeRateThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deploymentTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"firstChickenInTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAcquiredLUSDInCurve",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAcquiredLUSDInSP",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBAMMLUSDDebt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_bondID",type:"uint256"}],name:"getBondData",outputs:[{internalType:"uint256",name:"lusdAmount",type:"uint256"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"uint128",name:"initialHalfDna",type:"uint128"},{internalType:"uint128",name:"finalHalfDna",type:"uint128"},{internalType:"uint8",name:"status",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLUSDInBAMMSPVault",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_bondID",type:"uint256"}],name:"getLUSDToAcquire",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOpenBondCount",outputs:[{internalType:"uint256",name:"openBondCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwnedLUSDInCurve",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwnedLUSDInSP",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPendingLUSD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPermanentLUSD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalAcquiredLUSD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalLUSDInCurve",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTreasury",outputs:[{internalType:"uint256",name:"_pendingLUSD",type:"uint256"},{internalType:"uint256",name:"_totalAcquiredLUSD",type:"uint256"},{internalType:"uint256",name:"_permanentLUSD",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastRedemptionTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastShifterCountdownStartTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lusdToken",outputs:[{internalType:"contract ILUSDToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"migration",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"minimumAccrualParameter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_bLUSDToRedeem",type:"uint256"},{internalType:"uint256",name:"_minLUSDFromBAMMSPVault",type:"uint256"}],name:"redeem",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_lusdAmount",type:"uint256"}],name:"sendFeeShare",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxLUSDToShift",type:"uint256"}],name:"shiftLUSDFromCurveToSP",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxLUSDToShift",type:"uint256"}],name:"shiftLUSDFromSPToCurve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"startShifterCountdown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"targetAverageAgeSeconds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalWeightedStartTimes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"yTokensHeldByCBM",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"yearnCurveVault",outputs:[{internalType:"contract IYearnVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"yearnGovernanceAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"yearnRegistry",outputs:[{internalType:"contract IYearnRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"}],p="0x6104006040523480156200001257600080fd5b50604051620052fb380380620052fb83398101604081905262000035916200069f565b81516001600160a01b039081166080908152602080850151831660c090815261010080870151851660a0908152604080890151871660e090815260608a0151881690935294880151861661012052870151851661014052908601518416610160528501519092166101a052426103605282516103805290820151600d558101516103a08190526200011e5760405162461bcd60e51b815260206004820152602960248201527f43424d3a204d696e206163637275616c20706172616d657465722063616e6e6f60448201526874206265207a65726f60b81b606482015260840160405180910390fd5b60608101516200013790670de0b6b3a7640000620007bf565b6103c05260808101516103e0526101208201516001600160a01b039081166101805260a08201516101c05260e0516040805163ddca3f4360e01b81529051600093929092169163ddca3f43916004808201926020929091908290030181865afa158015620001a9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620001cf9190620007d9565b90506402540be400620001e38282620007bf565b8360c00151620001f49190620007f3565b62000200919062000815565b610320526402540be400620002168282620007bf565b8360e00151620002279190620007f3565b62000233919062000815565b610340526101008201516101e09081526101208084015161020090815261014085015161022090815261016086015161024052610180860151610260526101a0860151610280526101c08601516102a052928501516102c0528401516102e052908301516103005260c051905160405163095ea7b360e01b81526001600160a01b039182166004820152600019602482015291169063095ea7b3906044016020604051808303816000875af1158015620002f1573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000317919062000838565b5060c05160e05160405163095ea7b360e01b81526001600160a01b039182166004820152600019602482015291169063095ea7b3906044016020604051808303816000875af11580156200036f573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000395919062000838565b5060e0516101405160405163095ea7b360e01b81526001600160a01b039182166004820152600019602482015291169063095ea7b3906044016020604051808303816000875af1158015620003ee573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000414919062000838565b5060c0516101805160405163095ea7b360e01b81526001600160a01b039182166004820152600019602482015291169063095ea7b3906044016020604051808303816000875af11580156200046d573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000493919062000838565b506101605160e051604051630e177dc760e41b81526001600160a01b03918216600482015291169063e177dc70906024016020604051808303816000875af1158015620004e4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200050a919062000863565b6001600160a01b0316610140516001600160a01b03161462000530576200053062000881565b50505062000897565b60405161024081016001600160401b03811182821017156200056b57634e487b7160e01b600052604160045260246000fd5b60405290565b60405161014081016001600160401b03811182821017156200056b57634e487b7160e01b600052604160045260246000fd5b80516001600160a01b0381168114620005bb57600080fd5b919050565b60006102408284031215620005d457600080fd5b620005de62000539565b825181526020808401519082015260408084015190820152606080840151908201526080808401519082015260a0808401519082015260c0808401519082015260e08084015190820152610100808401519082015261012080840151908201526101408084015190820152610160808401519082015261018080840151908201526101a080840151908201526101c080840151908201526101e080840151908201526102008084015190820152610220928301519281019290925250919050565b600080828403610380811215620006b557600080fd5b61014080821215620006c657600080fd5b620006d062000571565b9150620006dd85620005a3565b8252620006ed60208601620005a3565b60208301526200070060408601620005a3565b60408301526200071360608601620005a3565b60608301526200072660808601620005a3565b60808301526200073960a08601620005a3565b60a08301526200074c60c08601620005a3565b60c08301526200075f60e08601620005a3565b60e083015261010062000774818701620005a3565b9083015261012062000788868201620005a3565b81840152508193506200079e86828701620005c0565b925050509250929050565b634e487b7160e01b600052601160045260246000fd5b600082821015620007d457620007d4620007a9565b500390565b600060208284031215620007ec57600080fd5b5051919050565b6000816000190483118215151615620008105762000810620007a9565b500290565b6000826200083357634e487b7160e01b600052601260045260246000fd5b500490565b6000602082840312156200084b57600080fd5b815180151581146200085c57600080fd5b9392505050565b6000602082840312156200087657600080fd5b6200085c82620005a3565b634e487b7160e01b600052600160045260246000fd5b60805160a05160c05160e05161010051610120516101405161016051610180516101a0516101c0516101e05161020051610220516102405161026051610280516102a0516102c0516102e05161030051610320516103405161036051610380516103a0516103c0516103e05161473862000bc36000396000818161043d01528181612ece0152612fd7015260008181610b120152613042015260008181610a0701528181612f2e015261307d0152600081816105210152612fa60152600081816109b201528181612ef201528181612f8201526137bf0152600081816109350152818161245b01526128320152600081816108d4015281816119330152611be0015260008181610a490152610b8d0152600081816104770152610be001526000818161070701526134c4015260008181610853015261362a0152600081816106b90152613db20152600081816107b8015281816121370152613976015260008181610789015281816121580152613941015260008181610589015261379b0152600081816106e00152611cc901526000818161066a01526133d40152600081816105fa0152613384015260008181610752015281816122b001526140d501526000818161049e01526143e40152600061098b015260008181610a790152818161209e01528181613b6a01528181613bf601528181613c8e0152818161404a015261421c01526000818161055101528181611088015281816116e201528181612d0e015281816132b50152818161354f0152818161371b0152613f740152600081816108a5015281816118a201526123ca0152600081816104fa0152818161163401528181611a0c01528181611aad01528181611b470152818161252c015281816125e90152818161271301528181613ad2015261418601526000818161096401528181611524015281816122e5015281816126810152818161279901528181614328015281816143b201526144580152600081816105cb01528181610ec00152818161114901528181611d9d01528181611fba01528181612b0e0152818161385c0152613d2d01526000818161090e0152818161137001528181611774015261314001526147386000f3fe608060405234801561001057600080fd5b50600436106104335760003560e01c80637cbc237311610236578063b83f91a21161013b578063cc0c986e116100c3578063e9dc9e6d11610087578063e9dc9e6d14610afc578063edb134f314610b04578063f1b0cff514610b0d578063f3c4023d14610b34578063f58369b914610b3c57600080fd5b8063cc0c986e14610a6b578063cfc31f6f14610a74578063d2e892dd14610a9b578063da10594314610aa4578063e324634914610af357600080fd5b8063c3c297451161010a578063c3c29745146109ef578063c484cc5f14610a02578063c6c50ce814610a29578063c6d2d26114610a31578063c7b5548114610a4457600080fd5b8063b83f91a21461095f578063bb87031714610986578063bfc12c05146109ad578063c0639bbd146109d457600080fd5b8063a21ec280116101be578063acf955c71161018d578063acf955c7146108cf578063aefcc4fd146108f6578063b0f3af4714610909578063b23ad3ee14610930578063b7a65dce1461095757600080fd5b8063a21ec28014610884578063a79e568314610897578063a891c684146108a0578063ac8af3a9146108c757600080fd5b806390d532901161020557806390d532901461083557806391dc186f1461083e5780639c283187146108465780639fbc4a5f1461084e578063a20baee61461087557600080fd5b80637cbc2373146107f557806384c2dea51461081d5780638ac6e2f4146108255780638caffae11461082d57600080fd5b80634237e1911161033c5780636350e4b2116102c457806367e48a7e1161029357806367e48a7e14610784578063695e89da146107ab5780636b4fbbed146107b35780636bdac50b146107da5780637b3c7df6146107e257600080fd5b80636350e4b21461073a578063638121141461074d578063653a81981461077457806366462ab11461077c57600080fd5b80635041382b1161030b5780635041382b146106b457806351a643ae146106db578063570dd5241461070257806359372e2e1461072957806361ec893d1461073257600080fd5b80634237e191146106525780634903970a146106655780634b10543b1461068c5780634bb41097146106a157600080fd5b806335f1d0e0116103bf5780633792dcb91161038e5780633792dcb9146105c657806339f01388146105ed5780633a517326146105f55780633b19e84a1461061c5780633cbe79261461063f57600080fd5b806335f1d0e01461057c578063361628831461058457806336e2819e146105ab57806337303e58146105be57600080fd5b8063218751b211610406578063218751b2146104f5578063233b0ee71461051c57806327fafcd31461054357806333624a861461054c57806335567cda1461057357600080fd5b80630277407314610438578063071a7541146104725780630f34d74d146104995780631705a3bd146104d8575b600080fd5b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b6040519081526020015b60405180910390f35b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b6104c07f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610469565b6009546104e59060ff1681565b6040519015158152602001610469565b6104c07f000000000000000000000000000000000000000000000000000000000000000081565b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b61045f600a5481565b6104c07f000000000000000000000000000000000000000000000000000000000000000081565b61045f60035481565b61045f610b45565b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b61045f6105b93660046144e3565b610b79565b61045f610c2d565b6104c07f000000000000000000000000000000000000000000000000000000000000000081565b60015461045f565b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b610624610c51565b60408051938452602084019290925290820152606001610469565b61045f61064d3660046144e3565b610c6b565b61045f6106603660046144e3565b610d32565b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b61069f61069a3660046144e3565b610deb565b005b61045f6106af3660046144e3565b611231565b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b61045f60055481565b61045f603c81565b61045f6107483660046144e3565b611333565b6104c07f000000000000000000000000000000000000000000000000000000000000000081565b61045f6115f8565b61045f61161b565b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b61045f6116dd565b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b61045f61176a565b61069f6107f03660046144e3565b61180d565b6108086108033660046144fc565b611cb2565b60408051928352602083019190915201610469565b61045f612091565b61069f612135565b60005461045f565b61045f60045481565b61045f612201565b60025461045f565b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b61045f670de0b6b3a764000081565b61069f6108923660046144e3565b61222b565b61045f60075481565b6104c07f000000000000000000000000000000000000000000000000000000000000000081565b61045f61235f565b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b61069f6109043660046144e3565b612383565b6104c07f000000000000000000000000000000000000000000000000000000000000000081565b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b61045f6128fb565b6104c07f000000000000000000000000000000000000000000000000000000000000000081565b6104c07f000000000000000000000000000000000000000000000000000000000000000081565b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b6109dc600081565b604051600f9190910b8152602001610469565b61069f6109fd3660046144fc565b61291f565b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b61045f612af1565b61045f610a3f3660046144e3565b612b09565b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b61045f600d5481565b6104c07f000000000000000000000000000000000000000000000000000000000000000081565b61045f600c5481565b610ab7610ab23660046144e3565b612be4565b604080519687526020870195909552938501929092526001600160801b03908116606085015216608083015260ff1660a082015260c001610469565b61045f60065481565b61069f612cc7565b61045f600b5481565b61045f7f000000000000000000000000000000000000000000000000000000000000000081565b61045f612ced565b61045f600e5481565b600080610b50612d09565b9050600080610b5e83612d9e565b505050915091508082610b719190614534565b935050505090565b600080610b84612e18565b90506000610bb27f000000000000000000000000000000000000000000000000000000000000000083612e2a565b90506000670de0b6b3a764000082600754610bcd919061454c565b610bd79190614581565b90506000610c057f000000000000000000000000000000000000000000000000000000000000000087614581565b610c0f9083614534565b9050610c2381670de0b6b3a7640000612eb1565b9695505050505050565b600080610c38612d09565b90506000610c4582612d9e565b50909695505050505050565b600080549080610c5f610b45565b91506001549050909192565b6000818152600860209081526040808320815160c081018352815481526001820154938101939093526002810154918301919091526003808201546001600160801b038082166060860152600160801b90910416608084015260048201548493929160a084019160ff1690811115610ce557610ce5614595565b6003811115610cf657610cf6614595565b8152505090506000610d0c600d54600e54612ec9565b509050610d2a8260200151610d2484600001516130ad565b836130b9565b949350505050565b600080610d3d612ced565b6000848152600860209081526040808320815160c081018352815481526001820154938101939093526002810154918301919091526003808201546001600160801b038082166060860152600160801b909104166080840152600482015494955092939192909160a084019160ff90911690811115610dbe57610dbe614595565b6003811115610dcf57610dcf614595565b815250509050610d2a610de582600001516130ad565b8361310b565b6000818152600860209081526040808320815160c081018352815481526001820154938101939093526002810154918301919091526003808201546001600160801b038082166060860152600160801b909104166080840152600482015460a084019160ff90911690811115610e6357610e63614595565b6003811115610e7457610e74614595565b9052509050610e828261312a565b610e8f8160a00151613213565b6000610e99613274565b9050600080610ea66132ae565b91509150600080610eba866000015161335c565b915091507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610f1c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610f4091906145ab565b158015610f50575060095460ff16155b15610f6757610f64866020015185856133cd565b92505b6000610f78876020015183886130b9565b90506000610f8586612b09565b9050600081610f9c84670de0b6b3a764000061454c565b610fa69190614581565b90506000610fb38b6134bc565b60008c8152600860205260408120600481018054600360ff1990911681179091554260028301550180546001600160801b03848116600160801b029116179055600a805492935060019290919061100b908490614534565b909155505089516000805481906110239084906145c4565b909155505060208a01518a51611039919061454c565b6005600082825461104a91906145c4565b909155506000905061105c85876145c4565b60095490915060ff1661108657806001600082825461107b9190614534565b9091555061112d9050565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663bfca6c116040518163ffffffff1660e01b8152600401606060405180830381865afa1580156110e4573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061110891906145db565b50985060009050611119828a612eb1565b9050801561112b5761112b813361352a565b505b6040516340c10f1960e01b8152336004820152602481018490527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906340c10f1990604401600060405180830381600087803b15801561119557600080fd5b505af11580156111a9573d6000803e3d6000fd5b505060095460ff161591505080156111c15750868810155b156111cf576111cf876135c5565b8a51604080518e8152602081019290925281018490526001600160801b038316606082015233907fc8989440e3da81e6e601adec28852cf06df192e7fa6f4474e31bfae2625299bc9060800160405180910390a2505050505050505050505050565b6000818152600860209081526040808320815160c081018352815481526001820154938101939093526002810154918301919091526003808201546001600160801b038082166060860152600160801b90910416608084015260048201548493929160a084019160ff16908111156112ab576112ab614595565b60038111156112bc576112bc614595565b905250905060018160a0015160038111156112d9576112d9614595565b146112e75750600092915050565b60006113066112f983600001516130ad565b611301612ced565b61310b565b90506000611318600d54600e54612ec9565b50905061132a836020015183836130b9565b95945050505050565b600061133e826135d8565b61134782613628565b61134f6136a4565b611357613274565b506040516335313c2160e11b81523360048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690636a627842906024016020604051808303816000875af11580156113c1573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113e591906145ab565b905061141d6040805160c08101825260008082526020820181905291810182905260608101829052608081018290529060a082015290565b83815242602082015261142f826134bc565b6001600160801b03166060820152600160a08201819052506000828152600860209081526040918290208351815590830151600180830191909155918301516002820155606083015160808401516001600160801b03908116600160801b0291161760038083019190915560a084015160048301805486959293919260ff199091169184908111156114c3576114c3614595565b0217905550905050836000808282546114dc9190614534565b909155506114ec9050428561454c565b600560008282546114fd9190614534565b90915550506040516323b872dd60e01b8152336004820152306024820152604481018590527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906323b872dd906064016020604051808303816000875af1158015611575573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115999190614609565b506115a384613705565b60608181015160408051858152602081018890526001600160801b03909216828201525133927f8907ba9f374f1519d92b556f63f8b1632b605bc212c7acb09cc2e19ccf0cb942928290030190a25092915050565b600080611603612d09565b9050600061161082612d9e565b509695505050505050565b600080611626612091565b9050600081156116d75760007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663bb7b8b806040518163ffffffff1660e01b8152600401602060405180830381865afa158015611690573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116b491906145ab565b9050670de0b6b3a76400006116c9828561454c565b6116d39190614581565b9150505b92915050565b6000807f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663bfca6c116040518163ffffffff1660e01b8152600401606060405180830381865afa15801561173e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061176291906145db565b509392505050565b6000600b54600a547f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156117d0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906117f491906145ab565b6117fe91906145c4565b61180891906145c4565b905090565b611815613799565b61181d6136a4565b611825613858565b61182d61393d565b6000806118386132ae565b91509150600080548361184b91906145c4565b9050600061185761161b565b905061186281613a14565b600061186e8684612eb1565b905061187a8185612eb1565b9050611893818360015461188e91906145c4565b612eb1565b905061189e816135d8565b60007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663bb7b8b806040518163ffffffff1660e01b8152600401602060405180830381865afa1580156118fe573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061192291906145ab565b9050600061192f82613a9a565b90507f000000000000000000000000000000000000000000000000000000000000000081116119ea5760405162461bcd60e51b815260206004820152605660248201527f43424d3a204c5553443a334352562065786368616e67652072617465206d757360448201527f74206265206f76657220746865206465706f736974207468726573686f6c64206064820152751899599bdc994814d40b4f90dd5c9d99481cda1a599d60521b608482015260a4015b60405180910390fd5b6119f4833061352a565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa158015611a5b573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a7f91906145ab565b6040805180820182528681526000602082018190529151630b4c7e4d60e01b81529293506001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001692630b4c7e4d92611ae1929160040161462b565b6020604051808303816000875af1158015611b00573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b2491906145ab565b506040516370a0823160e01b815230600482015260009082906001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906370a0823190602401602060405180830381865afa158015611b8e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611bb291906145ab565b611bbc91906145c4565b9050611bc781613b52565b6000611bd285613a9a565b90508381108015611c0357507f00000000000000000000000000000000000000000000000000000000000000008110155b611ca55760405162461bcd60e51b815260206004820152606160248201527f43424d3a2053502d3e4375727665207368696674206d7573742064656372656160448201527f7365204c5553443a334352562065786368616e6765207261746520746f20612060648201527f76616c75652061626f766520746865206465706f736974207468726573686f6c6084820152601960fa1b60a482015260c4016119e1565b5050505050505050505050565b600080611cbe846135d8565b611cc784613d21565b7f0000000000000000000000000000000000000000000000000000000000000000600454611cf59190614534565b421015611d825760405162461bcd60e51b815260206004820152604f60248201527f43424d3a20526564656d7074696f6e206166746572206669727374206368696360448201527f6b656e20696e206d757374207761697420756e74696c20626f6f74737472617060648201526e103832b934b7b21034b99037bb32b960891b608482015260a4016119e1565b600080600080611d90613e31565b94509450509350935060007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611df9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611e1d91906145ab565b611e2f8a670de0b6b3a764000061454c565b611e399190614581565b60095490915060009060ff16611e5757611e5282613e60565b611e5a565b60005b905060008080670de0b6b3a7640000611e73868b61454c565b611e7d9190614581565b90506000670de0b6b3a7640000611e9486826145c4565b611e9e908461454c565b611ea89190614581565b9050611eb481836145c4565b611ebe9085614534565b9350611eca818e613f01565b92508215611edc57611edc833361352a565b50600090508615611f77576000670de0b6b3a7640000611efc878b61454c565b611f069190614581565b90506000670de0b6b3a7640000611f1d87826145c4565b611f27908461454c565b611f319190614581565b9050611f3d81836145c4565b611f479086614534565b94508881600354611f58919061454c565b611f629190614581565b92508215611f7457611f743384614024565b50505b611f818387614534565b600155611f96611f918284614534565b6135d8565b604051632770a7eb60e21b8152336004820152602481018e90526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690639dc29fac90604401600060405180830381600087803b158015611ffe57600080fd5b505af1158015612012573d6000803e3d6000fd5b50505050336001600160a01b03167fc0ac8b09f0bc9dd02f48d9145336ab9df1dc378b6115bc78e0f6c3d72bc37b178e8e858588604051612075959493929190948552602085019390935260408401919091526060830152608082015260a00190565b60405180910390a29099509750505050505050505b9250929050565b6000670de0b6b3a76400007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166399530b066040518163ffffffff1660e01b8152600401602060405180830381865afa1580156120fa573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061211e91906145ab565b60035461212b919061454c565b6118089190614581565b7f00000000000000000000000000000000000000000000000000000000000000007f0000000000000000000000000000000000000000000000000000000000000000600c546121849190614534565b61218e9190614534565b4210156121fb5760405162461bcd60e51b815260206004820152603560248201527f43424d3a2050726576696f75732073686966742064656c617920616e642077696044820152741b991bddc81b5d5cdd081a185d99481c185cdcd959605a1b60648201526084016119e1565b42600c55565b60008061220c61161b565b90506000612218612d09565b90506122248282614534565b9250505090565b6122336140ca565b60095460ff16156122995760405162461bcd60e51b815260206004820152602a60248201527f43424d3a205265636569766520666565207368617265206f6e6c7920696e206e6044820152696f726d616c206d6f646560b01b60648201526084016119e1565b6040516323b872dd60e01b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166004830152306024830152604482018390527f000000000000000000000000000000000000000000000000000000000000000016906323b872dd906064016020604051808303816000875af115801561232e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906123529190614609565b5061235c81613705565b50565b60008061236a612d09565b9050600061237782612d9e565b50929695505050505050565b61238b613799565b6123936136a4565b61239b613858565b6123a361393d565b60006123ad61161b565b905060006123bb8383612eb1565b90506123c6816135d8565b60007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663bb7b8b806040518163ffffffff1660e01b8152600401602060405180830381865afa158015612426573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061244a91906145ab565b905060006124578261414e565b90507f000000000000000000000000000000000000000000000000000000000000000081116125145760405162461bcd60e51b815260206004820152605a60248201527f43424d3a20334352563a4c5553442065786368616e67652072617465206d757360448201527f742062652061626f766520746865207769746864726177616c2074687265736860648201527f6f6c64206265666f72652043757276652d3e5350207368696674000000000000608482015260a4016119e1565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa15801561257b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061259f91906145ab565b9050600085856003546125b2919061454c565b6125bc9190614581565b90506125c781614206565b6040516370a0823160e01b815230600482015260009083906001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906370a0823190602401602060405180830381865afa158015612630573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061265491906145ab565b61265e91906145c4565b6040516370a0823160e01b81523060048201529091506000906001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906370a0823190602401602060405180830381865afa1580156126c8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906126ec91906145ab565b604051630d2680e960e11b81526004810184905260006024820181905260448201529091507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690631a4d01d290606401600060405180830381600087803b15801561275f57600080fd5b505af1158015612773573d6000803e3d6000fd5b50506040516370a0823160e01b8152306004820152600092508391506001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906370a0823190602401602060405180830381865afa1580156127e0573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061280491906145ab565b61280e91906145c4565b905061281981613705565b60006128248861414e565b9050868110801561285557507f00000000000000000000000000000000000000000000000000000000000000008110155b611ca55760405162461bcd60e51b8152602060048201526064602482018190527f43424d3a2043757276652d3e5350207368696674206d75737420696e6372656160448301527f736520334352563a4c5553442065786368616e6765207261746520746f206120908201527f76616c75652061626f766520746865207769746864726177616c2074687265736084820152631a1bdb1960e21b60a482015260c4016119e1565b600080612906612d09565b9050600061291382612d9e565b50919695505050505050565b6000828152600860209081526040808320815160c081018352815481526001820154938101939093526002810154918301919091526003808201546001600160801b038082166060860152600160801b909104166080840152600482015460a084019160ff9091169081111561299757612997614595565b60038111156129a8576129a8614595565b90525090506129b68361312a565b6129c38160a00151613213565b6129cb613274565b5060006129d7846134bc565b6000858152600860205260408120600481018054600260ff199091168117909155429082015560030180546001600160801b03848116600160801b029116179055600b8054929350600192909190612a30908490614534565b90915550508151600080548190612a489084906145c4565b909155505060208201518251612a5e919061454c565b60056000828254612a6f91906145c4565b90915550508151600090612a839085613f01565b9050612a8f813361352a565b82516040805187815260208101929092528101859052606081018290526001600160801b038316608082015233907f86b11f882f57fc8653f2e7a14a2443859bde5a53b72a722783300cb203e90a349060a00160405180910390a25050505050565b600080612b02600d54600e54612ec9565b5092915050565b6000807f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa158015612b6a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612b8e91906145ab565b9050600080612b9c85612d9e565b5050509150915082600003612bbd5750670de0b6b3a7640000949350505050565b82612bc88284614534565b612bda90670de0b6b3a764000061454c565b61132a9190614581565b6000818152600860209081526040808320815160c081018352815481526001820154938101939093526002810154918301919091526003808201546001600160801b038082166060860152600160801b90910416608084015260048201548493849384938493849384939092909160a084019160ff90911690811115612c6c57612c6c614595565b6003811115612c7d57612c7d614595565b815250509050806000015181602001518260400151836060015184608001518560a001516003811115612cb257612cb2614595565b949d939c50919a509850965090945092505050565b612ccf6140ca565b612cd76136a4565b6009805460ff1916600190811790915560009055565b600080612cf8612d09565b9050612d0381612b09565b91505090565b6000807f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663bfca6c116040518163ffffffff1660e01b8152600401606060405180830381865afa158015612d6a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612d8e91906145db565b50915050612d03600254826142a4565b6000806000806000805486612db391906145c4565b9250612dbd61161b565b60015490925090506000612dd18385614534565b905081811115612e0e576000612de783836145c4565b905081612df4868361454c565b612dfe9190614581565b9650612e0a87826145c4565b9550505b5091939590929450565b6000603c6006544261212b91906145c4565b6000631f540500821115612e4057631f54050091505b81600003612e575750670de0b6b3a76400006116d7565b670de0b6b3a764000083835b6001811115612ea757612e77600282614663565b15612e8957612e8682846142b4565b92505b612e9382836142b4565b9150612ea0600282614581565b9050612e63565b610c2382846142b4565b6000818310612ec05781612ec2565b825b9392505050565b6000807f0000000000000000000000000000000000000000000000000000000000000000612f177f0000000000000000000000000000000000000000000000000000000000000000426145c4565b612f219190614581565b905082811480612f5057507f000000000000000000000000000000000000000000000000000000000000000084145b80612f5b5750600054155b15612f685783915061208a565b60008054600554612f799190614581565b90506000612ffb7f0000000000000000000000000000000000000000000000000000000000000000612fcb7f000000000000000000000000000000000000000000000000000000000000000085614534565b612fd591906145c4565b7f00000000000000000000000000000000000000000000000000000000000000006142de565b90508083101561300f57859350505061208a565b6000613025866130206001856145c4565b6142a4565b61302f90856145c4565b90506130a1670de0b6b3a76400006130677f000000000000000000000000000000000000000000000000000000000000000084612e2a565b613071908a61454c565b61307b9190614581565b7f00000000000000000000000000000000000000000000000000000000000000006142a4565b94505050509250929050565b600080610d2a8361335c565b6000836000036130cb57506000612ec2565b60006130d785426145c4565b6130e990670de0b6b3a764000061454c565b905060006130f78483614534565b613101838761454c565b610c239190614581565b60008161312084670de0b6b3a764000061454c565b612ec29190614581565b6040516331a9108f60e11b8152600481018290527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690636352211e90602401602060405180830381865afa15801561318f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906131b39190614677565b6001600160a01b0316336001600160a01b03161461235c5760405162461bcd60e51b815260206004820152601d60248201527f43424d3a2043616c6c6572206d757374206f776e2074686520626f6e6400000060448201526064016119e1565b600181600381111561322757613227614595565b1461235c5760405162461bcd60e51b815260206004820152601860248201527f43424d3a20426f6e64206d75737420626520616374697665000000000000000060448201526064016119e1565b600d54600e5460009190828061328a8484612ec9565b9150915082811461176257600e81905581841461176257600d829055509392505050565b60008060007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663bfca6c116040518163ffffffff1660e01b8152600401606060405180830381865afa158015613311573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061333591906145db565b5060025490925090508082111561335457506002819055928392509050565b939092509050565b600954600090819060ff161561337457506000929050565b6000670de0b6b3a76400006133a97f00000000000000000000000000000000000000000000000000000000000000008661454c565b6133b39190614581565b905060006133c182866145c4565b91959194509092505050565b60006133f97f000000000000000000000000000000000000000000000000000000000000000085614534565b42101561346e5760405162461bcd60e51b815260206004820152603e60248201527f43424d3a20466972737420636869636b656e20696e206d75737420776169742060448201527f756e74696c20626f6f74737472617020706572696f64206973206f766572000060648201526084016119e1565b42600455600061347d84612d9e565b505050509050808310156134a35760405162461bcd60e51b81526004016119e1906146a0565b80156134b2576134b2816135c5565b61132a81846145c4565b6000608082427f00000000000000000000000000000000000000000000000000000000000000006001546134f09190614581565b604080516020810194909452830191909152606082015260800160408051601f198184030181529190528051602090910120901c92915050565b604051627b8a6760e11b8152600481018390526001600160a01b0382811660248301527f0000000000000000000000000000000000000000000000000000000000000000169062f714ce90604401600060405180830381600087803b15801561359257600080fd5b505af11580156135a6573d6000803e3d6000fd5b5050505081600260008282546135bc91906145c4565b90915550505050565b6135cf813061352a565b61235c81614310565b6000811161235c5760405162461bcd60e51b815260206004820152601760248201527f43424d3a20416d6f756e74206d757374206265203e203000000000000000000060448201526064016119e1565b7f000000000000000000000000000000000000000000000000000000000000000081101561235c5760405162461bcd60e51b8152602060048201526024808201527f43424d3a20426f6e64206d696e696d756d20616d6f756e74206e6f742072656160448201526318da195960e21b60648201526084016119e1565b60095460ff16156137035760405162461bcd60e51b8152602060048201526024808201527f43424d3a204d6967726174696f6e206d757374206265206e6f742062652061636044820152637469766560e01b60648201526084016119e1565b565b60405163b6b55f2560e01b8152600481018290527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b6b55f2590602401600060405180830381600087803b15801561376757600080fd5b505af115801561377b573d6000803e3d6000fd5b5050505080600260008282546137919190614534565b909155505050565b7f00000000000000000000000000000000000000000000000000000000000000006137e47f0000000000000000000000000000000000000000000000000000000000000000426145c4565b10156137035760405162461bcd60e51b815260206004820152603c60248201527f43424d3a2053686966746572206f6e6c792063616c6c61626c6520616674657260448201527f20736869667420626f6f74737472617020706572696f6420656e64730000000060648201526084016119e1565b60007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156138b8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906138dc91906145ab565b116137035760405162461bcd60e51b815260206004820152602b60248201527f43424d3a20624c55534420537570706c79206d757374206265203e203020757060448201526a6f6e207368696674696e6760a81b60648201526084016119e1565b60007f0000000000000000000000000000000000000000000000000000000000000000600c5461396d9190614534565b9050600061399b7f000000000000000000000000000000000000000000000000000000000000000083614534565b90508142101580156139ac57508042105b613a105760405162461bcd60e51b815260206004820152602f60248201527f43424d3a205368696674206f6e6c7920706f737369626c6520696e736964652060448201526e7368696674696e672077696e646f7760881b60648201526084016119e1565b5050565b80600154101561235c5760405162461bcd60e51b8152602060048201526044602482018190527f43424d3a2054686520616d6f756e7420696e2043757276652063616e6e6f7420908201527f62652067726561746572207468616e20746865205065726d616e656e7420627560648201526318dad95d60e21b608482015260a4016119e1565b604051635e0d443f60e01b815260006004820181905260016024830152670de0b6b3a764000060448301529081906001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690635e0d443f90606401602060405180830381865afa158015613b19573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613b3d91906145ab565b9050670de0b6b3a7640000613120848361454c565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa158015613bb9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613bdd91906145ab565b60405163b6b55f2560e01b8152600481018490529091507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b6b55f25906024016020604051808303816000875af1158015613c47573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613c6b91906145ab565b506040516370a0823160e01b815230600482015260009082906001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906370a0823190602401602060405180830381865afa158015613cd5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613cf991906145ab565b613d0391906145c4565b90508060036000828254613d179190614534565b9091555050505050565b60095460ff1661235c577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa158015613d89573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613dad91906145ab565b613dd77f000000000000000000000000000000000000000000000000000000000000000083614534565b111561235c5760405162461bcd60e51b815260206004820152602360248201527f43424d3a2043616e6e6f742072656465656d2062656c6f77206d696e20737570604482015262706c7960e81b60648201526084016119e1565b600080600080600080613e426132ae565b509050613e4e81612d9e565b95509550955095509550509091929394565b600080613e6c83610b79565b60078190556040518181529091507fe31dea26c34fb8440bf2eec033dfd26bd39e88e026348d996e275a396417109b9060200160405180910390a1600060065442613eb791906145c4565b9050603c8110612b02574260068190556040519081527fbab964312bdd13595266f3e549bca3102965a6d718c6c1f8cd7eaac076b9c6c29060200160405180910390a15092915050565b600081831015613f705760405162461bcd60e51b815260206004820152603460248201527f43424d3a204d696e2076616c75652063616e6e6f742062652067726561746572604482015273081d1a185b881b9bdb5a5b985b08185b5bdd5b9d60621b60648201526084016119e1565b60007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663bfca6c116040518163ffffffff1660e01b8152600401606060405180830381865afa158015613fd0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613ff491906145db565b50915050828110156140185760405162461bcd60e51b81526004016119e1906146a0565b600061132a8583612eb1565b60405163a9059cbb60e01b81526001600160a01b038381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303816000875af1158015614093573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906140b79190614609565b5080600360008282546135bc91906145c4565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146137035760405162461bcd60e51b815260206004820152602360248201527f43424d3a204f6e6c7920596561726e20476f7665726e616e63652063616e2063604482015262185b1b60ea1b60648201526084016119e1565b604051635e0d443f60e01b815260016004820152600060248201819052670de0b6b3a764000060448301529081906001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690635e0d443f90606401602060405180830381865afa1580156141cd573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906141f191906145ab565b90508261312082670de0b6b3a764000061454c565b604051632e1a7d4d60e01b8152600481018290527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632e1a7d4d906024016020604051808303816000875af115801561426d573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061429191906145ab565b50806003600082825461379191906145c4565b600081831015612ec05781612ec2565b6000670de0b6b3a76400006142ca600282614581565b6142d4848661454c565b6131209190614534565b60006142ea8284614663565b156142f65760016142f9565b60005b60ff166143068385614581565b612ec29190614534565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa158015614377573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061439b91906145ab565b6040516393f7aa6760e01b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166004830152602482018590529192507f0000000000000000000000000000000000000000000000000000000000000000909116906393f7aa6790604401600060405180830381600087803b15801561442a57600080fd5b505af115801561443e573d6000803e3d6000fd5b50506040516370a0823160e01b81523060048201528492507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031691506370a0823190602401602060405180830381865afa1580156144a8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906144cc91906145ab565b6144d690836145c4565b14613a1057613a106146ec565b6000602082840312156144f557600080fd5b5035919050565b6000806040838503121561450f57600080fd5b50508035926020909101359150565b634e487b7160e01b600052601160045260246000fd5b600082198211156145475761454761451e565b500190565b60008160001904831182151516156145665761456661451e565b500290565b634e487b7160e01b600052601260045260246000fd5b6000826145905761459061456b565b500490565b634e487b7160e01b600052602160045260246000fd5b6000602082840312156145bd57600080fd5b5051919050565b6000828210156145d6576145d661451e565b500390565b6000806000606084860312156145f057600080fd5b8351925060208401519150604084015190509250925092565b60006020828403121561461b57600080fd5b81518015158114612ec257600080fd5b60608101818460005b6002811015614653578151835260209283019290910190600101614634565b5050508260408301529392505050565b6000826146725761467261456b565b500690565b60006020828403121561468957600080fd5b81516001600160a01b0381168114612ec257600080fd5b6020808252602c908201527f43424d3a204e6f7420656e6f756768204c55534420617661696c61626c65206960408201526b1b88108b941c9bdd1bd8dbdb60a21b606082015260800190565b634e487b7160e01b600052600160045260246000fdfea26469706673582212208bc60955107297aac680b70d0cbf4ff1ac7fe67122786e835b038e811b17021664736f6c634300080d0033",b=function(e){return e.length>1},y=function(e){u(n,e);var t=c(n);function n(){var e;a(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=b(s)?t.call.apply(t,[this].concat(s)):t.call(this,l,p,s[0]),r(e)}return i(n,[{key:"deploy",value:function(e,t,a){return s(o(n.prototype),"deploy",this).call(this,e,t,a||{})}},{key:"getDeployTransaction",value:function(e,t,a){return s(o(n.prototype),"getDeployTransaction",this).call(this,e,t,a||{})}},{key:"attach",value:function(e){return s(o(n.prototype),"attach",this).call(this,e)}},{key:"connect",value:function(e){return s(o(n.prototype),"connect",this).call(this,e)}}],[{key:"createInterface",value:function(){return new d.utils.Interface(l)}},{key:"connect",value:function(e,t){return new d.Contract(e,l,t)}}]),n}(d.ContractFactory);t.ChickenBondManager__factory=y,y.bytecode=p,y.abi=l},303:function(e,t,n){"use strict";var a=n(44),i=n(46),r=n(146),s=n(114),o=n(87),u=n(68),c=n(69);Object.defineProperty(t,"__esModule",{value:!0}),t.ERC20Faucet__factory=void 0;var d=n(104),l=[{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"uint256",name:"_tapAmount",type:"uint256"},{internalType:"uint256",name:"_tapPeriod",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastTapped",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"tap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tapAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tapPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],p="0x60c06040523480156200001157600080fd5b50604051620010853803806200108583398101604081905262000034916200025b565b8351849084906200004d906003906020850190620000e8565b50805162000063906004906020840190620000e8565b505050620000806200007a6200009260201b60201c565b62000096565b60809190915260a05250620003119050565b3390565b600580546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b828054620000f690620002d5565b90600052602060002090601f0160209004810192826200011a576000855562000165565b82601f106200013557805160ff191683800117855562000165565b8280016001018555821562000165579182015b828111156200016557825182559160200191906001019062000148565b506200017392915062000177565b5090565b5b8082111562000173576000815560010162000178565b634e487b7160e01b600052604160045260246000fd5b600082601f830112620001b657600080fd5b81516001600160401b0380821115620001d357620001d36200018e565b604051601f8301601f19908116603f01168101908282118183101715620001fe57620001fe6200018e565b816040528381526020925086838588010111156200021b57600080fd5b600091505b838210156200023f578582018301518183018401529082019062000220565b83821115620002515760008385830101525b9695505050505050565b600080600080608085870312156200027257600080fd5b84516001600160401b03808211156200028a57600080fd5b6200029888838901620001a4565b95506020870151915080821115620002af57600080fd5b50620002be87828801620001a4565b604087015160609097015195989097509350505050565b600181811c90821680620002ea57607f821691505b6020821081036200030b57634e487b7160e01b600052602260045260246000fd5b50919050565b60805160a051610d4062000345600039600081816102400152610a8a0152600081816101e801526105b00152610d406000f3fe608060405234801561001057600080fd5b50600436106101215760003560e01c806370a08231116100ad578063a457c2d711610071578063a457c2d714610285578063a9059cbb14610298578063dd62ed3e146102ab578063f2fde38b146102be578063fd221031146102d157600080fd5b806370a082311461020a578063715018a614610233578063844c827a1461023b5780638da5cb5b1461026257806395d89b411461027d57600080fd5b8063313ce567116100f4578063313ce5671461018c578063395093511461019b57806340c10f19146101ae5780634865701b146101c357806354252207146101e357600080fd5b806306fdde0314610126578063095ea7b31461014457806318160ddd1461016757806323b872dd14610179575b600080fd5b61012e6102d9565b60405161013b9190610b27565b60405180910390f35b610157610152366004610b98565b61036b565b604051901515815260200161013b565b6002545b60405190815260200161013b565b610157610187366004610bc2565b610383565b6040516012815260200161013b565b6101576101a9366004610b98565b6103a7565b6101c16101bc366004610b98565b6103c9565b005b61016b6101d1366004610bfe565b60066020526000908152604090205481565b61016b7f000000000000000000000000000000000000000000000000000000000000000081565b61016b610218366004610bfe565b6001600160a01b031660009081526020819052604090205490565b6101c161040a565b61016b7f000000000000000000000000000000000000000000000000000000000000000081565b6005546040516001600160a01b03909116815260200161013b565b61012e610440565b610157610293366004610b98565b61044f565b6101576102a6366004610b98565b6104ca565b61016b6102b9366004610c20565b6104d8565b6101c16102cc366004610bfe565b610503565b6101c161059e565b6060600380546102e890610c53565b80601f016020809104026020016040519081016040528092919081815260200182805461031490610c53565b80156103615780601f1061033657610100808354040283529160200191610361565b820191906000526020600020905b81548152906001019060200180831161034457829003601f168201915b5050505050905090565b6000336103798185856105e6565b5060019392505050565b60003361039185828561070a565b61039c858585610784565b506001949350505050565b6000336103798185856103ba83836104d8565b6103c49190610c8d565b6105e6565b6005546001600160a01b031633146103fc5760405162461bcd60e51b81526004016103f390610cb3565b60405180910390fd5b6104068282610952565b5050565b6005546001600160a01b031633146104345760405162461bcd60e51b81526004016103f390610cb3565b61043e6000610a31565b565b6060600480546102e890610c53565b6000338161045d82866104d8565b9050838110156104bd5760405162461bcd60e51b815260206004820152602560248201527f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f77604482015264207a65726f60d81b60648201526084016103f3565b61039c82868684036105e6565b600033610379818585610784565b6001600160a01b03918216600090815260016020908152604080832093909416825291909152205490565b6005546001600160a01b0316331461052d5760405162461bcd60e51b81526004016103f390610cb3565b6001600160a01b0381166105925760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016103f3565b61059b81610a31565b50565b60006105a8610a83565b90506105d4337f0000000000000000000000000000000000000000000000000000000000000000610952565b33600090815260066020526040902055565b6001600160a01b0383166106485760405162461bcd60e51b8152602060048201526024808201527f45524332303a20617070726f76652066726f6d20746865207a65726f206164646044820152637265737360e01b60648201526084016103f3565b6001600160a01b0382166106a95760405162461bcd60e51b815260206004820152602260248201527f45524332303a20617070726f766520746f20746865207a65726f206164647265604482015261737360f01b60648201526084016103f3565b6001600160a01b0383811660008181526001602090815260408083209487168084529482529182902085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925910160405180910390a3505050565b600061071684846104d8565b9050600019811461077e57818110156107715760405162461bcd60e51b815260206004820152601d60248201527f45524332303a20696e73756666696369656e7420616c6c6f77616e636500000060448201526064016103f3565b61077e84848484036105e6565b50505050565b6001600160a01b0383166107e85760405162461bcd60e51b815260206004820152602560248201527f45524332303a207472616e736665722066726f6d20746865207a65726f206164604482015264647265737360d81b60648201526084016103f3565b6001600160a01b03821661084a5760405162461bcd60e51b815260206004820152602360248201527f45524332303a207472616e7366657220746f20746865207a65726f206164647260448201526265737360e81b60648201526084016103f3565b6001600160a01b038316600090815260208190526040902054818110156108c25760405162461bcd60e51b815260206004820152602660248201527f45524332303a207472616e7366657220616d6f756e7420657863656564732062604482015265616c616e636560d01b60648201526084016103f3565b6001600160a01b038085166000908152602081905260408082208585039055918516815290812080548492906108f9908490610c8d565b92505081905550826001600160a01b0316846001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8460405161094591815260200190565b60405180910390a361077e565b6001600160a01b0382166109a85760405162461bcd60e51b815260206004820152601f60248201527f45524332303a206d696e7420746f20746865207a65726f20616464726573730060448201526064016103f3565b80600260008282546109ba9190610c8d565b90915550506001600160a01b038216600090815260208190526040812080548392906109e7908490610c8d565b90915550506040518181526001600160a01b038316906000907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9060200160405180910390a35050565b600580546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b6000610aaf7f000000000000000000000000000000000000000000000000000000000000000042610ce8565b336000908152600660205260409020549091508111610b245760405162461bcd60e51b815260206004820152602b60248201527f45524332304661756365743a206d7573742077616974206265666f726520746160448201526a383834b7339030b3b0b4b760a91b60648201526084016103f3565b90565b600060208083528351808285015260005b81811015610b5457858101830151858201604001528201610b38565b81811115610b66576000604083870101525b50601f01601f1916929092016040019392505050565b80356001600160a01b0381168114610b9357600080fd5b919050565b60008060408385031215610bab57600080fd5b610bb483610b7c565b946020939093013593505050565b600080600060608486031215610bd757600080fd5b610be084610b7c565b9250610bee60208501610b7c565b9150604084013590509250925092565b600060208284031215610c1057600080fd5b610c1982610b7c565b9392505050565b60008060408385031215610c3357600080fd5b610c3c83610b7c565b9150610c4a60208401610b7c565b90509250929050565b600181811c90821680610c6757607f821691505b602082108103610c8757634e487b7160e01b600052602260045260246000fd5b50919050565b60008219821115610cae57634e487b7160e01b600052601160045260246000fd5b500190565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b600082610d0557634e487b7160e01b600052601260045260246000fd5b50049056fea2646970667358221220faab3bc664a828b9dfe774690e0c37bc05a7a1b8a7d8f5cbd91ffa1e85689c8064736f6c634300080d0033",b=function(e){return e.length>1},y=function(e){u(n,e);var t=c(n);function n(){var e;a(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=b(s)?t.call.apply(t,[this].concat(s)):t.call(this,l,p,s[0]),r(e)}return i(n,[{key:"deploy",value:function(e,t,a,i,r){return s(o(n.prototype),"deploy",this).call(this,e,t,a,i,r||{})}},{key:"getDeployTransaction",value:function(e,t,a,i,r){return s(o(n.prototype),"getDeployTransaction",this).call(this,e,t,a,i,r||{})}},{key:"attach",value:function(e){return s(o(n.prototype),"attach",this).call(this,e)}},{key:"connect",value:function(e){return s(o(n.prototype),"connect",this).call(this,e)}}],[{key:"createInterface",value:function(){return new d.utils.Interface(l)}},{key:"connect",value:function(e,t){return new d.Contract(e,l,t)}}]),n}(d.ContractFactory);t.ERC20Faucet__factory=y,y.bytecode=p,y.abi=l},304:function(e,t,n){"use strict";var a=n(44),i=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.CurveCryptoSwap2ETH__factory=void 0;var r=n(104),s=[{name:"TokenExchange",inputs:[{name:"buyer",type:"address",indexed:!0},{name:"sold_id",type:"uint256",indexed:!1},{name:"tokens_sold",type:"uint256",indexed:!1},{name:"bought_id",type:"uint256",indexed:!1},{name:"tokens_bought",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"AddLiquidity",inputs:[{name:"provider",type:"address",indexed:!0},{name:"token_amounts",type:"uint256[2]",indexed:!1},{name:"fee",type:"uint256",indexed:!1},{name:"token_supply",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"RemoveLiquidity",inputs:[{name:"provider",type:"address",indexed:!0},{name:"token_amounts",type:"uint256[2]",indexed:!1},{name:"token_supply",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"RemoveLiquidityOne",inputs:[{name:"provider",type:"address",indexed:!0},{name:"token_amount",type:"uint256",indexed:!1},{name:"coin_index",type:"uint256",indexed:!1},{name:"coin_amount",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"CommitNewAdmin",inputs:[{name:"deadline",type:"uint256",indexed:!0},{name:"admin",type:"address",indexed:!0}],anonymous:!1,type:"event"},{name:"NewAdmin",inputs:[{name:"admin",type:"address",indexed:!0}],anonymous:!1,type:"event"},{name:"CommitNewParameters",inputs:[{name:"deadline",type:"uint256",indexed:!0},{name:"admin_fee",type:"uint256",indexed:!1},{name:"mid_fee",type:"uint256",indexed:!1},{name:"out_fee",type:"uint256",indexed:!1},{name:"fee_gamma",type:"uint256",indexed:!1},{name:"allowed_extra_profit",type:"uint256",indexed:!1},{name:"adjustment_step",type:"uint256",indexed:!1},{name:"ma_half_time",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"NewParameters",inputs:[{name:"admin_fee",type:"uint256",indexed:!1},{name:"mid_fee",type:"uint256",indexed:!1},{name:"out_fee",type:"uint256",indexed:!1},{name:"fee_gamma",type:"uint256",indexed:!1},{name:"allowed_extra_profit",type:"uint256",indexed:!1},{name:"adjustment_step",type:"uint256",indexed:!1},{name:"ma_half_time",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"RampAgamma",inputs:[{name:"initial_A",type:"uint256",indexed:!1},{name:"future_A",type:"uint256",indexed:!1},{name:"initial_gamma",type:"uint256",indexed:!1},{name:"future_gamma",type:"uint256",indexed:!1},{name:"initial_time",type:"uint256",indexed:!1},{name:"future_time",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"StopRampA",inputs:[{name:"current_A",type:"uint256",indexed:!1},{name:"current_gamma",type:"uint256",indexed:!1},{name:"time",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"ClaimAdminFee",inputs:[{name:"admin",type:"address",indexed:!0},{name:"tokens",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{stateMutability:"nonpayable",type:"constructor",inputs:[{name:"owner",type:"address"},{name:"admin_fee_receiver",type:"address"},{name:"A",type:"uint256"},{name:"gamma",type:"uint256"},{name:"mid_fee",type:"uint256"},{name:"out_fee",type:"uint256"},{name:"allowed_extra_profit",type:"uint256"},{name:"fee_gamma",type:"uint256"},{name:"adjustment_step",type:"uint256"},{name:"admin_fee",type:"uint256"},{name:"ma_half_time",type:"uint256"},{name:"initial_price",type:"uint256"},{name:"_token",type:"address"},{name:"_coins",type:"address[2]"}],outputs:[]},{stateMutability:"payable",type:"fallback"},{stateMutability:"view",type:"function",name:"token",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"coins",inputs:[{name:"i",type:"uint256"}],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"A",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"gamma",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"get_virtual_price",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"price_oracle",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"exchange",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"exchange",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"},{name:"use_eth",type:"bool"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"exchange",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"},{name:"use_eth",type:"bool"},{name:"receiver",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"exchange_underlying",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"exchange_underlying",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"},{name:"receiver",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"exchange_extended",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"},{name:"use_eth",type:"bool"},{name:"sender",type:"address"},{name:"receiver",type:"address"},{name:"cb",type:"bytes"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"get_dy",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"add_liquidity",inputs:[{name:"amounts",type:"uint256[2]"},{name:"min_mint_amount",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"add_liquidity",inputs:[{name:"amounts",type:"uint256[2]"},{name:"min_mint_amount",type:"uint256"},{name:"use_eth",type:"bool"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"add_liquidity",inputs:[{name:"amounts",type:"uint256[2]"},{name:"min_mint_amount",type:"uint256"},{name:"use_eth",type:"bool"},{name:"receiver",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity",inputs:[{name:"_amount",type:"uint256"},{name:"min_amounts",type:"uint256[2]"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity",inputs:[{name:"_amount",type:"uint256"},{name:"min_amounts",type:"uint256[2]"},{name:"use_eth",type:"bool"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity",inputs:[{name:"_amount",type:"uint256"},{name:"min_amounts",type:"uint256[2]"},{name:"use_eth",type:"bool"},{name:"receiver",type:"address"}],outputs:[]},{stateMutability:"view",type:"function",name:"calc_token_amount",inputs:[{name:"amounts",type:"uint256[2]"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"calc_withdraw_one_coin",inputs:[{name:"token_amount",type:"uint256"},{name:"i",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity_one_coin",inputs:[{name:"token_amount",type:"uint256"},{name:"i",type:"uint256"},{name:"min_amount",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity_one_coin",inputs:[{name:"token_amount",type:"uint256"},{name:"i",type:"uint256"},{name:"min_amount",type:"uint256"},{name:"use_eth",type:"bool"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity_one_coin",inputs:[{name:"token_amount",type:"uint256"},{name:"i",type:"uint256"},{name:"min_amount",type:"uint256"},{name:"use_eth",type:"bool"},{name:"receiver",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"claim_admin_fees",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"ramp_A_gamma",inputs:[{name:"future_A",type:"uint256"},{name:"future_gamma",type:"uint256"},{name:"future_time",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"stop_ramp_A_gamma",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"commit_new_parameters",inputs:[{name:"_new_mid_fee",type:"uint256"},{name:"_new_out_fee",type:"uint256"},{name:"_new_admin_fee",type:"uint256"},{name:"_new_fee_gamma",type:"uint256"},{name:"_new_allowed_extra_profit",type:"uint256"},{name:"_new_adjustment_step",type:"uint256"},{name:"_new_ma_half_time",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"apply_new_parameters",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"revert_new_parameters",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"commit_transfer_ownership",inputs:[{name:"_owner",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"apply_transfer_ownership",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"revert_transfer_ownership",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"kill_me",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"unkill_me",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"set_admin_fee_receiver",inputs:[{name:"_admin_fee_receiver",type:"address"}],outputs:[]},{stateMutability:"view",type:"function",name:"lp_price",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"price_scale",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"last_prices",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"last_prices_timestamp",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"initial_A_gamma",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_A_gamma",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"initial_A_gamma_time",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_A_gamma_time",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"allowed_extra_profit",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_allowed_extra_profit",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"fee_gamma",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_fee_gamma",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"adjustment_step",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_adjustment_step",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"ma_half_time",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_ma_half_time",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"mid_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"out_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"admin_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_mid_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_out_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_admin_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"balances",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"D",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"future_owner",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"xcp_profit",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"xcp_profit_a",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"virtual_price",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"is_killed",inputs:[],outputs:[{name:"",type:"bool"}]},{stateMutability:"view",type:"function",name:"kill_deadline",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"transfer_ownership_deadline",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"admin_actions_deadline",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"admin_fee_receiver",inputs:[],outputs:[{name:"",type:"address"}]}],o=function(){function e(){a(this,e)}return i(e,null,[{key:"createInterface",value:function(){return new r.utils.Interface(s)}},{key:"connect",value:function(e,t){return new r.Contract(e,s,t)}}]),e}();t.CurveCryptoSwap2ETH__factory=o,o.abi=s},332:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CurveCryptoSwap2ETH__factory=t.factories=void 0,t.factories=r(n(570));var s=n(304);Object.defineProperty(t,"CurveCryptoSwap2ETH__factory",{enumerable:!0,get:function(){return s.CurveCryptoSwap2ETH__factory}})},333:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_stabilityPoolAddress","type":"address"},{"internalType":"address","name":"_borrowerOperationsAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newBorrowerOperationsAddress","type":"address"}],"name":"BorrowerOperationsAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_user","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"LUSDTokenBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newStabilityPoolAddress","type":"address"}],"name":"StabilityPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_troveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"borrowerOperationsAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"permitTypeHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_poolAddress","type":"address"},{"internalType":"address","name":"_receiver","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"returnFromPool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_sender","type":"address"},{"internalType":"address","name":"_poolAddress","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"sendToPool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"stabilityPoolAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"troveManagerAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"version","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]')},364:function(e,t,n){},365:function(e,t,n){"use strict";var a=n(3),i=n(67),r=n(83),s=n(44),o=n(46),u=n(114),c=n(87),d=n(68),l=n(69);Object.defineProperty(t,"__esModule",{value:!0}),t.BatchedWebSocketAugmentedWeb3Provider=t.Batched=t.isBatchedProvider=void 0;var p=n(25),b=n(92),y=n(4),f=n(255),m={1:"0xeefBa1e63905eF1D7ACbA5a8513c70307C1cE441",3:"0x53C43764255c17BD724F74c4eF150724AC50a3ed",4:"0x42Ad527de7d4e9d9d011aC45B31D8551f8Fe9821",5:"0x77dCa2C955b15e9dE4dbBCf1246B4B85b651e50e",42:"0x2cc8688C5f75E365aaEEb4ea8D6a480405A48D2A"},h=[{type:"function",name:"aggregate",stateMutability:"nonpayable",constant:!1,payable:!1,inputs:[{components:[{name:"target",type:"address"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],outputs:[{name:"blockNumber",type:"uint256"},{name:"returnData",type:"bytes[]"}]},{type:"function",name:"getEthBalance",stateMutability:"view",constant:!0,payable:!1,inputs:[{name:"addr",type:"address"}],outputs:[{name:"balance",type:"uint256"}]}],v=function(e){return void 0===e.gasLimit&&void 0===e.gasPrice&&void 0===e.value},T=function(e,t){return e.to===t&&"string"===typeof e.data&&e.data.startsWith("0x252dba42")},j=[];t.isBatchedProvider=function(e){return j.some((function(t){return e instanceof t}))};t.Batched=function(e){var t=function(e){d(n,e);var t=l(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments)).batchingDelayMs=10,e._chainId=0,e._batched={calls:[],callbacks:[]},e._numberOfBatchedCalls=0,e._numberOfActualCalls=0,e}return o(n,[{key:"chainId",get:function(){return this._chainId},set:function(e){if(this._multicall)throw new Error("can only set chainId once");(function(e){return e in m})(e)&&(this._multicall=new b.Contract(m[e],h,this)),this._chainId=e}},{key:"_dispatchCalls",value:function(){var e=r(a.mark((function e(){var t,r,s,o,d;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._batched,r=t.calls,s=t.callbacks,o=t.blockTag,this._batched={calls:[],callbacks:[]},e.prev=2,!(r.length>1)){e.next=9;break}return e.next=6,this._multicall.callStatic.aggregate(r,{blockTag:o}).then((function(e){return e.returnData}));case 6:e.t0=e.sent,e.next=13;break;case 9:return e.next=11,u(c(n.prototype),"call",this).call(this,{to:r[0].target,data:r[0].callData},o);case 11:e.t1=e.sent,e.t0=[e.t1];case 13:d=e.t0,s.forEach((function(e,t){return(0,i(e,1)[0])(d[t])})),e.next=20;break;case 17:e.prev=17,e.t2=e.catch(2),s.forEach((function(t){return(0,i(t,2)[1])(e.t2)}));case 20:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"_enqueueCall",value:function(e){var t=this;return void 0!==this._timeoutId&&clearTimeout(this._timeoutId),this._batched.calls.push(e),this._timeoutId=setTimeout((function(){return t._dispatchCalls()}),this.batchingDelayMs),new Promise((function(e,n){return t._batched.callbacks.push([e,n])}))}},{key:"_alreadyBatchedCallsConflictWith",value:function(e){var t;return 0!==this._batched.calls.length&&(null!==e&&void 0!==e?e:"latest")!==(null!==(t=this._batched.blockTag)&&void 0!==t?t:"latest")}},{key:"call",value:function(){var e=r(a.mark((function e(t,r){var s,o,d,l,p;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._multicall){e.next=4;break}return e.abrupt("return",u(c(n.prototype),"call",this).call(this,t,r));case 4:s=(new Date).getTime(),void 0===this._timeOfLastRatioCheck?this._timeOfLastRatioCheck=s:s-this._timeOfLastRatioCheck>=1e4&&this._numberOfActualCalls&&(this._numberOfBatchedCalls=0,this._numberOfActualCalls=0,this._timeOfLastRatioCheck=s);case 6:return e.next=8,Promise.all([y.resolveProperties(t),r]);case 8:if(o=e.sent,d=i(o,2),l=d[0],p=d[1],!T(l,this._multicall.address)&&v(l)&&!this._alreadyBatchedCallsConflictWith(p)){e.next=17;break}return this._numberOfActualCalls++,e.abrupt("return",u(c(n.prototype),"call",this).call(this,l,p));case 17:return this._numberOfBatchedCalls++,0===this._batched.calls.length&&(this._batched.blockTag=p),e.abrupt("return",this._enqueueCall({target:l.to,callData:l.data}));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=r(a.mark((function e(t,r){var s,o,d,l,b,y,f;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t,r]);case 2:if(s=e.sent,o=i(s,2),d=o[0],l=o[1],p.isAddress(d)&&this._multicall){e.next=8;break}return e.abrupt("return",u(c(n.prototype),"getBalance",this).call(this,d,r));case 8:return e.next=10,this._multicall.functions.getEthBalance(d,{blockTag:l});case 10:return b=e.sent,y=i(b,1),f=y[0],e.abrupt("return",f);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(e);return j.push(t),t},t.BatchedWebSocketAugmentedWeb3Provider=t.Batched(f.WebSocketAugmentedWeb3Provider)},370:function(e,t){},386:function(e,t,n){"use strict";var a=n(114),i=n(87),r=n(68),s=n(69),o=n(44),u=n(46),c=n(89),d=n(67),l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TroveWithPendingRedistribution=t.UserTrove=t._emptyTrove=t.Trove=t._normalizeTroveAdjustment=t._normalizeTroveCreation=void 0;var p=l(n(150)),b=n(125),y=n(212),f=function(e,t){return{type:"invalidCreation",invalidTrove:e,error:t}},m=function(e){return{type:"creation",params:e}},h=function(e){return{type:"closure",params:e}},v=function(e,t){return{type:"adjustment",params:e,setToZero:t}},T=function(e){return void 0!==e[1]},j=["depositCollateral","borrowLUSD"];var x=function(e){var t=d(e,2),n=t[0],a=t[1];return[n,b.Decimal.from(a)]},g=function(e){return!d(e,2)[1].isZero};t._normalizeTroveCreation=function(e){var t=Object.entries(e).filter(T);return function(e){var t=e.filter((function(e){var t=d(e,1)[0];return!j.includes(t)})).map((function(e){var t=d(e,1)[0];return"'".concat(t,"'")}));if(t.length>0)throw new Error("TroveCreationParams: property ".concat(t.join(", ")," not allowed"))}(t),function(e){var t=Object.fromEntries(e),n=j.filter((function(e){return!(e in t)})).map((function(e){return"'".concat(e,"'")}));if(n.length>0)throw new Error("TroveCreationParams: property ".concat(n.join(", ")," missing"));return t}(t.map(x))};var O=["depositCollateral","withdrawCollateral","borrowLUSD","repayLUSD"];var w=function(e){var t=Object.fromEntries(e),n=function(e){var t=e.depositCollateral,n=e.withdrawCollateral;if(void 0!==t&&void 0!==n)throw new Error("TroveAdjustmentParams: 'depositCollateral' and 'withdrawCollateral' can't be present at the same time");return void 0!==t?{depositCollateral:t}:void 0!==n?{withdrawCollateral:n}:void 0}(t),a=function(e){var t=e.borrowLUSD,n=e.repayLUSD;if(void 0!==t&&void 0!==n)throw new Error("TroveAdjustmentParams: 'borrowLUSD' and 'repayLUSD' can't be present at the same time");return void 0!==t?{borrowLUSD:t}:void 0!==n?{repayLUSD:n}:void 0}(t);if(void 0!==n&&void 0!==a)return c(c({},n),a);if(void 0!==n)return n;if(void 0!==a)return a;throw new Error("TroveAdjustmentParams: must include at least one non-zero parameter")};t._normalizeTroveAdjustment=function(e){var t=Object.entries(e).filter(T);!function(e){var t=e.filter((function(e){var t=d(e,1)[0];return!O.includes(t)})).map((function(e){var t=d(e,1)[0];return"'".concat(t,"'")}));if(t.length>0)throw new Error("TroveAdjustmentParams: property ".concat(t.join(", ")," not allowed"))}(t);var n=t.map(x).filter(g);return w(n)};var _=function(e,t){return t.mul(b.Decimal.ONE.add(e))},S=function(e,t){return t._divCeil(b.Decimal.ONE.add(e))},k=b.Decimal.from(100),D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.Decimal.ZERO,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.Decimal.ZERO;o(this,e),this.collateral=t,this.debt=n}return u(e,[{key:"isEmpty",get:function(){return this.collateral.isZero&&this.debt.isZero}},{key:"netDebt",get:function(){if(this.debt.lt(y.LUSD_LIQUIDATION_RESERVE))throw new Error("netDebt should not be used when debt < ".concat(y.LUSD_LIQUIDATION_RESERVE));return this.debt.sub(y.LUSD_LIQUIDATION_RESERVE)}},{key:"_nominalCollateralRatio",get:function(){return this.collateral.mulDiv(k,this.debt)}},{key:"collateralRatio",value:function(e){return this.collateral.mulDiv(e,this.debt)}},{key:"collateralRatioIsBelowMinimum",value:function(e){return this.collateralRatio(e).lt(y.MINIMUM_COLLATERAL_RATIO)}},{key:"collateralRatioIsBelowCritical",value:function(e){return this.collateralRatio(e).lt(y.CRITICAL_COLLATERAL_RATIO)}},{key:"isOpenableInRecoveryMode",value:function(e){return this.collateralRatio(e).gte(y.CRITICAL_COLLATERAL_RATIO)}},{key:"toString",value:function(){return"{ collateral: ".concat(this.collateral,", debt: ").concat(this.debt," }")}},{key:"equals",value:function(e){return this.collateral.eq(e.collateral)&&this.debt.eq(e.debt)}},{key:"add",value:function(t){return new e(this.collateral.add(t.collateral),this.debt.add(t.debt))}},{key:"addCollateral",value:function(t){return new e(this.collateral.add(t),this.debt)}},{key:"addDebt",value:function(t){return new e(this.collateral,this.debt.add(t))}},{key:"subtract",value:function(t){var n=t.collateral,a=t.debt;return new e(this.collateral.gt(n)?this.collateral.sub(n):b.Decimal.ZERO,this.debt.gt(a)?this.debt.sub(a):b.Decimal.ZERO)}},{key:"subtractCollateral",value:function(t){return new e(this.collateral.gt(t)?this.collateral.sub(t):b.Decimal.ZERO,this.debt)}},{key:"subtractDebt",value:function(t){return new e(this.collateral,this.debt.gt(t)?this.debt.sub(t):b.Decimal.ZERO)}},{key:"multiply",value:function(t){return new e(this.collateral.mul(t),this.debt.mul(t))}},{key:"setCollateral",value:function(t){return new e(b.Decimal.from(t),this.debt)}},{key:"setDebt",value:function(t){return new e(this.collateral,b.Decimal.from(t))}},{key:"_debtChange",value:function(e,t){var n=e.debt;return n.gt(this.debt)?{borrowLUSD:S(t,n.sub(this.debt))}:{repayLUSD:this.debt.sub(n)}}},{key:"_collateralChange",value:function(e){var t=e.collateral;return t.gt(this.collateral)?{depositCollateral:t.sub(this.collateral)}:{withdrawCollateral:this.collateral.sub(t)}}},{key:"whatChanged",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.MINIMUM_BORROWING_RATE;if(!this.collateral.eq(e.collateral)||!this.debt.eq(e.debt))return this.isEmpty?e.debt.lt(y.LUSD_LIQUIDATION_RESERVE)?f(e,"missingLiquidationReserve"):m({depositCollateral:e.collateral,borrowLUSD:S(n,e.netDebt)}):e.isEmpty?h(this.netDebt.nonZero?{withdrawCollateral:this.collateral,repayLUSD:this.netDebt}:{withdrawCollateral:this.collateral}):this.collateral.eq(e.collateral)?v(this._debtChange(e,n),e.debt.zero&&"debt"):this.debt.eq(e.debt)?v(this._collateralChange(e),e.collateral.zero&&"collateral"):v(c(c({},this._debtChange(e,n)),this._collateralChange(e)),null!==(t=e.debt.zero&&"debt")&&void 0!==t?t:e.collateral.zero&&"collateral")}},{key:"apply",value:function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.MINIMUM_BORROWING_RATE;if(!n)return this;switch(n.type){case"invalidCreation":if(!this.isEmpty)throw new Error("Can't create onto existing Trove");return n.invalidTrove;case"creation":if(!this.isEmpty)throw new Error("Can't create onto existing Trove");var i=n.params,r=i.depositCollateral,s=i.borrowLUSD;return new e(r,y.LUSD_LIQUIDATION_RESERVE.add(_(a,s)));case"closure":if(this.isEmpty)throw new Error("Can't close empty Trove");return t._emptyTrove;case"adjustment":var o=n.setToZero,u=n.params,c=u.depositCollateral,d=u.withdrawCollateral,l=u.borrowLUSD,p=u.repayLUSD,f=null!==d&&void 0!==d?d:b.Decimal.ZERO,m=null!==c&&void 0!==c?c:b.Decimal.ZERO,h=null!==p&&void 0!==p?p:b.Decimal.ZERO,v=l?_(a,l):b.Decimal.ZERO;return"collateral"===o?this.setCollateral(b.Decimal.ZERO).addDebt(v).subtractDebt(h):"debt"===o?this.setDebt(b.Decimal.ZERO).addCollateral(m).subtractCollateral(f):this.add(new e(m,v)).subtract(new e(f,h))}}},{key:"adjust",value:function(e,n){return this.apply(v(t._normalizeTroveAdjustment(e)),n)}},{key:"adjustTo",value:function(e,t){var n=this.whatChanged(e,t);return p.default("adjustment"===(null===n||void 0===n?void 0:n.type)),n.params}}],[{key:"create",value:function(e,n){return t._emptyTrove.apply(m(t._normalizeTroveCreation(e)),n)}},{key:"recreate",value:function(e,n){var a=t._emptyTrove.whatChanged(e,n);return p.default("creation"===(null===a||void 0===a?void 0:a.type)),a.params}}]),e}();t.Trove=D,t._emptyTrove=new D;var E=function(e){r(n,e);var t=s(n);function n(e,a,i,r){var s;return o(this,n),(s=t.call(this,i,r)).ownerAddress=e,s.status=a,s}return u(n,[{key:"equals",value:function(e){return a(i(n.prototype),"equals",this).call(this,e)&&this.ownerAddress===e.ownerAddress&&this.status===e.status}},{key:"toString",value:function(){return'{ ownerAddress: "'.concat(this.ownerAddress,'"')+", collateral: ".concat(this.collateral)+", debt: ".concat(this.debt)+', status: "'.concat(this.status,'" }')}}]),n}(D);t.UserTrove=E;var M=function(e){r(c,e);var n=s(c);function c(e,a,i,r){var s,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:b.Decimal.ZERO,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t._emptyTrove;return o(this,c),(s=n.call(this,e,a,i,r)).stake=u,s.snapshotOfTotalRedistributed=d,s}return u(c,[{key:"applyRedistribution",value:function(e){var t=this.add(e.subtract(this.snapshotOfTotalRedistributed).multiply(this.stake));return new E(this.ownerAddress,this.status,t.collateral,t.debt)}},{key:"equals",value:function(e){return a(i(c.prototype),"equals",this).call(this,e)&&this.stake.eq(e.stake)&&this.snapshotOfTotalRedistributed.equals(e.snapshotOfTotalRedistributed)}}]),c}(E);t.TroveWithPendingRedistribution=M},387:function(e,t,n){"use strict";var a=n(44),i=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.StabilityDeposit=void 0;var r=n(125),s=function(){function e(t,n,i,r,s){if(a(this,e),this.initialLUSD=t,this.currentLUSD=n,this.collateralGain=i,this.lqtyReward=r,this.frontendTag=s,this.currentLUSD.gt(this.initialLUSD))throw new Error("currentLUSD can't be greater than initialLUSD")}return i(e,[{key:"isEmpty",get:function(){return this.initialLUSD.isZero&&this.currentLUSD.isZero&&this.collateralGain.isZero&&this.lqtyReward.isZero}},{key:"toString",value:function(){return"{ initialLUSD: ".concat(this.initialLUSD)+", currentLUSD: ".concat(this.currentLUSD)+", collateralGain: ".concat(this.collateralGain)+", lqtyReward: ".concat(this.lqtyReward)+', frontendTag: "'.concat(this.frontendTag,'" }')}},{key:"equals",value:function(e){return this.initialLUSD.eq(e.initialLUSD)&&this.currentLUSD.eq(e.currentLUSD)&&this.collateralGain.eq(e.collateralGain)&&this.lqtyReward.eq(e.lqtyReward)&&this.frontendTag===e.frontendTag}},{key:"whatChanged",value:function(e){return(e=r.Decimal.from(e)).lt(this.currentLUSD)?{withdrawLUSD:this.currentLUSD.sub(e),withdrawAllLUSD:e.isZero}:e.gt(this.currentLUSD)?{depositLUSD:e.sub(this.currentLUSD)}:void 0}},{key:"apply",value:function(e){return e?void 0!==e.withdrawLUSD?e.withdrawAllLUSD||this.currentLUSD.lte(e.withdrawLUSD)?r.Decimal.ZERO:this.currentLUSD.sub(e.withdrawLUSD):this.currentLUSD.add(e.depositLUSD):this.currentLUSD}}]),e}();t.StabilityDeposit=s},388:function(e,t,n){"use strict";var a=n(44),i=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.LQTYStake=void 0;var r=n(125),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.Decimal.ZERO,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Decimal.ZERO,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.Decimal.ZERO;a(this,e),this.stakedLQTY=t,this.collateralGain=n,this.lusdGain=i}return i(e,[{key:"isEmpty",get:function(){return this.stakedLQTY.isZero&&this.collateralGain.isZero&&this.lusdGain.isZero}},{key:"toString",value:function(){return"{ stakedLQTY: ".concat(this.stakedLQTY)+", collateralGain: ".concat(this.collateralGain)+", lusdGain: ".concat(this.lusdGain," }")}},{key:"equals",value:function(e){return this.stakedLQTY.eq(e.stakedLQTY)&&this.collateralGain.eq(e.collateralGain)&&this.lusdGain.eq(e.lusdGain)}},{key:"whatChanged",value:function(e){return(e=r.Decimal.from(e)).lt(this.stakedLQTY)?{unstakeLQTY:this.stakedLQTY.sub(e),unstakeAllLQTY:e.isZero}:e.gt(this.stakedLQTY)?{stakeLQTY:e.sub(this.stakedLQTY)}:void 0}},{key:"apply",value:function(e){return e?void 0!==e.unstakeLQTY?e.unstakeAllLQTY||this.stakedLQTY.lte(e.unstakeLQTY)?r.Decimal.ZERO:this.stakedLQTY.sub(e.unstakeLQTY):this.stakedLQTY.add(e.stakeLQTY):this.stakedLQTY}}]),e}();t.LQTYStake=s},389:function(e,t,n){"use strict";var a=n(44),i=n(46),r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Fees=void 0;var s=r(n(150)),o=n(125),u=n(212),c=function(){function e(t,n,i,r,u,c){a(this,e),this._baseRateWithoutDecay=o.Decimal.from(t),this._minuteDecayFactor=o.Decimal.from(n),this._beta=o.Decimal.from(i),this._lastFeeOperation=r,this._timeOfLatestBlock=u,this._recoveryMode=c,s.default(this._minuteDecayFactor.lt(1))}return i(e,[{key:"_setRecoveryMode",value:function(t){return new e(this._baseRateWithoutDecay,this._minuteDecayFactor,this._beta,this._lastFeeOperation,this._timeOfLatestBlock,t)}},{key:"equals",value:function(e){return this._baseRateWithoutDecay.eq(e._baseRateWithoutDecay)&&this._minuteDecayFactor.eq(e._minuteDecayFactor)&&this._beta.eq(e._beta)&&this._lastFeeOperation.getTime()===e._lastFeeOperation.getTime()&&this._timeOfLatestBlock.getTime()===e._timeOfLatestBlock.getTime()&&this._recoveryMode===e._recoveryMode}},{key:"toString",value:function(){return"{ baseRateWithoutDecay: ".concat(this._baseRateWithoutDecay)+', lastFeeOperation: "'.concat(this._lastFeeOperation.toLocaleString(),'"')+", recoveryMode: ".concat(this._recoveryMode," } ")}},{key:"baseRate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._timeOfLatestBlock,t=Math.max(e.getTime()-this._lastFeeOperation.getTime(),0),n=Math.floor(t/6e4);return this._minuteDecayFactor.pow(n).mul(this._baseRateWithoutDecay)}},{key:"borrowingRate",value:function(e){return this._recoveryMode?o.Decimal.ZERO:o.Decimal.min(u.MINIMUM_BORROWING_RATE.add(this.baseRate(e)),u.MAXIMUM_BORROWING_RATE)}},{key:"redemptionRate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Decimal.ZERO,t=arguments.length>1?arguments[1]:void 0;e=o.Decimal.from(e);var n=this.baseRate(t);return e.nonZero&&(n=e.div(this._beta).add(n)),o.Decimal.min(u.MINIMUM_REDEMPTION_RATE.add(n),o.Decimal.ONE)}}]),e}();t.Fees=c},390:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},391:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},392:function(e,t,n){"use strict";var a=n(44),i=n(68),r=n(69),s=n(210);Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionFailedError=void 0;var o=function(e){i(n,e);var t=r(n);function n(e,i,r){var s;return a(this,n),(s=t.call(this,i)).name=e,s.failedReceipt=r,s}return n}(s(Error));t.TransactionFailedError=o},393:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t._successfulReceipt=t._failedReceipt=t._pendingReceipt=void 0,t._pendingReceipt={status:"pending"};t._failedReceipt=function(e){return{status:"failed",rawReceipt:e}};t._successfulReceipt=function(e,t,n){return a({status:"succeeded",rawReceipt:e,details:t},n?{toString:n}:{})}},394:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},395:function(e,t,n){"use strict";var a=n(149),i=n(44),r=n(46),s=n(67),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LiquityStore=void 0;var u=o(n(150)),c=function(e,t){return e===t},d=function(e,t){return e.eq(t)},l=function(e,t){return e.equals(t)},p=function(e,t){return"unregistered"===e.status?"unregistered"===t.status:"registered"===t.status&&e.kickbackRate.eq(t.kickbackRate)},b=function(e){return"unregistered"===e.status?'{ status: "unregistered" }':'{ status: "registered", kickbackRate: '.concat(e.kickbackRate," }")},y=function(){function e(){i(this,e),this.logging=!1,this._loaded=!1,this._listeners=new Set}return r(e,[{key:"state",get:function(){return Object.assign({},this._baseState,this._derivedState,this._extraState)}},{key:"start",value:function(){var e=this,t=this._doStart();return function(){t(),e._cancelUpdateIfScheduled()}}},{key:"_cancelUpdateIfScheduled",value:function(){void 0!==this._updateTimeoutId&&clearTimeout(this._updateTimeoutId)}},{key:"_scheduleUpdate",value:function(){var e=this;this._cancelUpdateIfScheduled(),this._updateTimeoutId=setTimeout((function(){e._updateTimeoutId=void 0,e._update()}),3e4)}},{key:"_logUpdate",value:function(e,t,n){return this.logging&&console.log("".concat(e," updated to ").concat(n?n(t):t)),t}},{key:"_updateIfChanged",value:function(e,t,n,a,i){return void 0===a||e(n,a)?n:this._logUpdate(t,a,i)}},{key:"_silentlyUpdateIfChanged",value:function(e,t,n){return void 0===n||e(t,n)?t:n}},{key:"_updateFees",value:function(e,t,n){return n&&!n.equals(t)?("".concat(n)!=="".concat(t)&&this._logUpdate(e,n),n):t}},{key:"_reduce",value:function(e,t){return{frontend:this._updateIfChanged(p,"frontend",e.frontend,t.frontend,b),ownFrontend:this._updateIfChanged(p,"ownFrontend",e.ownFrontend,t.ownFrontend,b),numberOfTroves:this._updateIfChanged(c,"numberOfTroves",e.numberOfTroves,t.numberOfTroves),accountBalance:this._updateIfChanged(d,"accountBalance",e.accountBalance,t.accountBalance),lusdBalance:this._updateIfChanged(d,"lusdBalance",e.lusdBalance,t.lusdBalance),lqtyBalance:this._updateIfChanged(d,"lqtyBalance",e.lqtyBalance,t.lqtyBalance),uniTokenBalance:this._updateIfChanged(d,"uniTokenBalance",e.uniTokenBalance,t.uniTokenBalance),uniTokenAllowance:this._updateIfChanged(d,"uniTokenAllowance",e.uniTokenAllowance,t.uniTokenAllowance),remainingLiquidityMiningLQTYReward:this._silentlyUpdateIfChanged(d,e.remainingLiquidityMiningLQTYReward,t.remainingLiquidityMiningLQTYReward),liquidityMiningStake:this._updateIfChanged(d,"liquidityMiningStake",e.liquidityMiningStake,t.liquidityMiningStake),totalStakedUniTokens:this._updateIfChanged(d,"totalStakedUniTokens",e.totalStakedUniTokens,t.totalStakedUniTokens),liquidityMiningLQTYReward:this._silentlyUpdateIfChanged(d,e.liquidityMiningLQTYReward,t.liquidityMiningLQTYReward),collateralSurplusBalance:this._updateIfChanged(d,"collateralSurplusBalance",e.collateralSurplusBalance,t.collateralSurplusBalance),price:this._updateIfChanged(d,"price",e.price,t.price),lusdInStabilityPool:this._updateIfChanged(d,"lusdInStabilityPool",e.lusdInStabilityPool,t.lusdInStabilityPool),total:this._updateIfChanged(l,"total",e.total,t.total),totalRedistributed:this._updateIfChanged(l,"totalRedistributed",e.totalRedistributed,t.totalRedistributed),troveBeforeRedistribution:this._updateIfChanged(l,"troveBeforeRedistribution",e.troveBeforeRedistribution,t.troveBeforeRedistribution),stabilityDeposit:this._updateIfChanged(l,"stabilityDeposit",e.stabilityDeposit,t.stabilityDeposit),remainingStabilityPoolLQTYReward:this._silentlyUpdateIfChanged(d,e.remainingStabilityPoolLQTYReward,t.remainingStabilityPoolLQTYReward),_feesInNormalMode:this._silentlyUpdateIfChanged(l,e._feesInNormalMode,t._feesInNormalMode),lqtyStake:this._updateIfChanged(l,"lqtyStake",e.lqtyStake,t.lqtyStake),totalStakedLQTY:this._updateIfChanged(d,"totalStakedLQTY",e.totalStakedLQTY,t.totalStakedLQTY),_riskiestTroveBeforeRedistribution:this._silentlyUpdateIfChanged(l,e._riskiestTroveBeforeRedistribution,t._riskiestTroveBeforeRedistribution)}}},{key:"_derive",value:function(e){var t=e.troveBeforeRedistribution,n=e.totalRedistributed,a=e._feesInNormalMode,i=e.total,r=e.price,s=e._riskiestTroveBeforeRedistribution,o=a._setRecoveryMode(i.collateralRatioIsBelowCritical(r));return{trove:t.applyRedistribution(n),fees:o,borrowingRate:o.borrowingRate(),redemptionRate:o.redemptionRate(),haveUndercollateralizedTroves:s.applyRedistribution(n).collateralRatioIsBelowMinimum(r)}}},{key:"_reduceDerived",value:function(e,t){return{fees:this._updateFees("fees",e.fees,t.fees),trove:this._updateIfChanged(l,"trove",e.trove,t.trove),borrowingRate:this._silentlyUpdateIfChanged(d,e.borrowingRate,t.borrowingRate),redemptionRate:this._silentlyUpdateIfChanged(d,e.redemptionRate,t.redemptionRate),haveUndercollateralizedTroves:this._updateIfChanged(c,"haveUndercollateralizedTroves",e.haveUndercollateralizedTroves,t.haveUndercollateralizedTroves)}}},{key:"_notify",value:function(e){var t=this;a(this._listeners).forEach((function(n){t._listeners.has(n)&&n(e)}))}},{key:"subscribe",value:function(e){var t,n=this,a=(t=e,function(){return t.apply(void 0,arguments)});return this._listeners.add(a),function(){n._listeners.delete(a)}}},{key:"_load",value:function(e,t){u.default(!this._loaded),this._baseState=e,this._derivedState=this._derive(e),this._extraState=t,this._loaded=!0,this._scheduleUpdate(),this.onLoaded&&this.onLoaded()}},{key:"_update",value:function(e,t){u.default(this._baseState&&this._derivedState);var n,a,i=this.state;e&&(this._baseState=this._reduce(this._baseState,e)),this._derivedState=this._reduceDerived(this._derivedState,this._derive(this._baseState)),t&&(u.default(this._extraState),this._extraState=this._reduceExtra(this._extraState,t)),this._scheduleUpdate(),this._notify({newState:this.state,oldState:i,stateChange:(n=this.state,a=i,Object.fromEntries(Object.entries(n).filter((function(e){var t=s(e,2),n=t[0];return t[1]!==a[n]}))))})}}]),e}();t.LiquityStore=y},396:function(e,t,n){"use strict";var a=n(89),i=n(171),r=n(67),s=n(3),o=n(83),u=n(44),c=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t._CachedReadableLiquity=void 0;var d=function(){function e(t,n){u(this,e),this._readable=t,this._cache=n}return c(e,[{key:"getTotalRedistributed",value:function(){var e=o(s.mark((function e(){var t,n,a,i=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!==(a=(t=this._cache).getTotalRedistributed.apply(t,i))&&void 0!==a?a:(n=this._readable).getTotalRedistributed.apply(n,i));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTroveBeforeRedistribution",value:function(){var e=o(s.mark((function e(t){var n,a,i,r,o,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=c.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=c[u];return e.abrupt("return",null!==(i=(n=this._cache).getTroveBeforeRedistribution.apply(n,[t].concat(o)))&&void 0!==i?i:(a=this._readable).getTroveBeforeRedistribution.apply(a,[t].concat(o)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTrove",value:function(){var e=o(s.mark((function e(t){var n,a,i,o,u,c,d,l=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=l.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=l[i];return e.next=3,Promise.all([this.getTroveBeforeRedistribution.apply(this,[t].concat(a)),this.getTotalRedistributed.apply(this,a)]);case 3:return o=e.sent,u=r(o,2),c=u[0],d=u[1],e.abrupt("return",c.applyRedistribution(d));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getNumberOfTroves",value:function(){var e=o(s.mark((function e(){var t,n,a,i=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!==(a=(t=this._cache).getNumberOfTroves.apply(t,i))&&void 0!==a?a:(n=this._readable).getNumberOfTroves.apply(n,i));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPrice",value:function(){var e=o(s.mark((function e(){var t,n,a,i=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!==(a=(t=this._cache).getPrice.apply(t,i))&&void 0!==a?a:(n=this._readable).getPrice.apply(n,i));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTotal",value:function(){var e=o(s.mark((function e(){var t,n,a,i=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!==(a=(t=this._cache).getTotal.apply(t,i))&&void 0!==a?a:(n=this._readable).getTotal.apply(n,i));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getStabilityDeposit",value:function(){var e=o(s.mark((function e(t){var n,a,i,r,o,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=c.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=c[u];return e.abrupt("return",null!==(i=(n=this._cache).getStabilityDeposit.apply(n,[t].concat(o)))&&void 0!==i?i:(a=this._readable).getStabilityDeposit.apply(a,[t].concat(o)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRemainingStabilityPoolLQTYReward",value:function(){var e=o(s.mark((function e(){var t,n,a,i=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!==(a=(t=this._cache).getRemainingStabilityPoolLQTYReward.apply(t,i))&&void 0!==a?a:(n=this._readable).getRemainingStabilityPoolLQTYReward.apply(n,i));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getLUSDInStabilityPool",value:function(){var e=o(s.mark((function e(){var t,n,a,i=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!==(a=(t=this._cache).getLUSDInStabilityPool.apply(t,i))&&void 0!==a?a:(n=this._readable).getLUSDInStabilityPool.apply(n,i));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getLUSDBalance",value:function(){var e=o(s.mark((function e(t){var n,a,i,r,o,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=c.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=c[u];return e.abrupt("return",null!==(i=(n=this._cache).getLUSDBalance.apply(n,[t].concat(o)))&&void 0!==i?i:(a=this._readable).getLUSDBalance.apply(a,[t].concat(o)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLQTYBalance",value:function(){var e=o(s.mark((function e(t){var n,a,i,r,o,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=c.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=c[u];return e.abrupt("return",null!==(i=(n=this._cache).getLQTYBalance.apply(n,[t].concat(o)))&&void 0!==i?i:(a=this._readable).getLQTYBalance.apply(a,[t].concat(o)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUniTokenBalance",value:function(){var e=o(s.mark((function e(t){var n,a,i,r,o,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=c.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=c[u];return e.abrupt("return",null!==(i=(n=this._cache).getUniTokenBalance.apply(n,[t].concat(o)))&&void 0!==i?i:(a=this._readable).getUniTokenBalance.apply(a,[t].concat(o)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUniTokenAllowance",value:function(){var e=o(s.mark((function e(t){var n,a,i,r,o,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=c.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=c[u];return e.abrupt("return",null!==(i=(n=this._cache).getUniTokenAllowance.apply(n,[t].concat(o)))&&void 0!==i?i:(a=this._readable).getUniTokenAllowance.apply(a,[t].concat(o)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRemainingLiquidityMiningLQTYReward",value:function(){var e=o(s.mark((function e(){var t,n,a,i=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!==(a=(t=this._cache).getRemainingLiquidityMiningLQTYReward.apply(t,i))&&void 0!==a?a:(n=this._readable).getRemainingLiquidityMiningLQTYReward.apply(n,i));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getLiquidityMiningStake",value:function(){var e=o(s.mark((function e(t){var n,a,i,r,o,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=c.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=c[u];return e.abrupt("return",null!==(i=(n=this._cache).getLiquidityMiningStake.apply(n,[t].concat(o)))&&void 0!==i?i:(a=this._readable).getLiquidityMiningStake.apply(a,[t].concat(o)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTotalStakedUniTokens",value:function(){var e=o(s.mark((function e(){var t,n,a,i=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!==(a=(t=this._cache).getTotalStakedUniTokens.apply(t,i))&&void 0!==a?a:(n=this._readable).getTotalStakedUniTokens.apply(n,i));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getLiquidityMiningLQTYReward",value:function(){var e=o(s.mark((function e(t){var n,a,i,r,o,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=c.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=c[u];return e.abrupt("return",null!==(i=(n=this._cache).getLiquidityMiningLQTYReward.apply(n,[t].concat(o)))&&void 0!==i?i:(a=this._readable).getLiquidityMiningLQTYReward.apply(a,[t].concat(o)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCollateralSurplusBalance",value:function(){var e=o(s.mark((function e(t){var n,a,i,r,o,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=c.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=c[u];return e.abrupt("return",null!==(i=(n=this._cache).getCollateralSurplusBalance.apply(n,[t].concat(o)))&&void 0!==i?i:(a=this._readable).getCollateralSurplusBalance.apply(a,[t].concat(o)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTroves",value:function(){var e=o(s.mark((function e(t){var n,o,u,c,d,l,p,b,y,f,m,h,v=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c=t.beforeRedistribution,d=i(t,["beforeRedistribution"]),l=v.length,p=new Array(l>1?l-1:0),b=1;b<l;b++)p[b-1]=v[b];return e.next=4,Promise.all([c?void 0:this.getTotalRedistributed.apply(this,p),null!==(u=(n=this._cache).getTroves.apply(n,[a({beforeRedistribution:!0},d)].concat(p)))&&void 0!==u?u:(o=this._readable).getTroves.apply(o,[a({beforeRedistribution:!0},d)].concat(p))]);case 4:if(y=e.sent,f=r(y,2),m=f[0],h=f[1],!m){e.next=12;break}return e.abrupt("return",h.map((function(e){return e.applyRedistribution(m)})));case 12:return e.abrupt("return",h);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFees",value:function(){var e=o(s.mark((function e(){var t,n,a,i=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!==(a=(t=this._cache).getFees.apply(t,i))&&void 0!==a?a:(n=this._readable).getFees.apply(n,i));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getLQTYStake",value:function(){var e=o(s.mark((function e(t){var n,a,i,r,o,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=c.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=c[u];return e.abrupt("return",null!==(i=(n=this._cache).getLQTYStake.apply(n,[t].concat(o)))&&void 0!==i?i:(a=this._readable).getLQTYStake.apply(a,[t].concat(o)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTotalStakedLQTY",value:function(){var e=o(s.mark((function e(){var t,n,a,i=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!==(a=(t=this._cache).getTotalStakedLQTY.apply(t,i))&&void 0!==a?a:(n=this._readable).getTotalStakedLQTY.apply(n,i));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFrontendStatus",value:function(){var e=o(s.mark((function e(t){var n,a,i,r,o,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=c.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=c[u];return e.abrupt("return",null!==(i=(n=this._cache).getFrontendStatus.apply(n,[t].concat(o)))&&void 0!==i?i:(a=this._readable).getFrontendStatus.apply(a,[t].concat(o)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t._CachedReadableLiquity=d},397:function(e){e.exports=JSON.parse("null")},398:function(e){e.exports=JSON.parse('{"chainId":5,"version":"5174ecd0da4842157aba989499200d690b7e374f","deploymentDate":1672019736000,"bootstrapPeriod":1209600,"totalStabilityPoolLQTYReward":"32000000","liquidityMiningLQTYRewardRate":"0.257201646090534979","_priceFeedIsTestnet":true,"_uniTokenIsMock":true,"_isDev":false,"startBlock":8201266,"addresses":{"activePool":"0x40072fD181D5FF4d9e097865E0b64FeFCf01fba1","borrowerOperations":"0x09D35131414c9A62483E1265DFbaB9b0f6fc5F76","troveManager":"0x26Caa4E43F399e163C97d1DF689204b998fB6B37","collSurplusPool":"0xb7732CF86a239491fbB5Acf75bd5a485018Bed0a","communityIssuance":"0xe9178fD9a55A9Bb7A34f3044C0ec13567e76f457","defaultPool":"0x508786144AB9b2dfE8bFde49c893cF17a8daa227","hintHelpers":"0xF4C7ce0e81FdBe522fA1eC61B34FEe3aF9E6a98c","lockupContractFactory":"0x514864CDC9e80509e4E91879cDf47F67AEd0E795","lqtyStaking":"0x6541eC5bdCb5149f36f464C333610d5e6fFC37e4","priceFeed":"0xaC8768CF0086767Fb36Fc81Fd45685fbfD9ea5BE","sortedTroves":"0x7fe6056800446ceB4C1c62b3f2B68439A4090a22","stabilityPool":"0x060035a2b6e94F909Cc376e71A15D757c2fe9336","gasPool":"0xc96aEd6819641e5bAD27735c826f76063888674e","unipool":"0xF4a628Af98Ad3a9faBD70F017afC914FAFC2dd74","lusdToken":"0x9713493bD4c1271fD49139FA92b23778F801D916","lqtyToken":"0x91077cDc05F15e07F20C79Cc54EcA862f8D5a4F4","multiTroveGetter":"0xbf2D54a665A1D5a53EE9Ffd332B040e22579aAB2","uniToken":"0x0A52B9AB7d6b330a8e1B4cCA6E9ac73D20D284AC"}}')},399:function(e){e.exports=JSON.parse('{"chainId":42,"version":"5174ecd0da4842157aba989499200d690b7e374f","deploymentDate":1617374516000,"bootstrapPeriod":1209600,"totalStabilityPoolLQTYReward":"32000000","liquidityMiningLQTYRewardRate":"0.257201646090534979","_priceFeedIsTestnet":false,"_uniTokenIsMock":false,"_isDev":false,"startBlock":24134777,"addresses":{"activePool":"0x2FEB8CC8eD32117D1F39168543f29c30fdf10105","borrowerOperations":"0xA289111CC4b306E3F5F15c654D4c318B3dA51813","troveManager":"0x5EBeC1ecc36a760A54E35d474F889EfB9E7eD2aD","collSurplusPool":"0x1Ce340cC663BDbda54ccb6055da4064C0B7f68cd","communityIssuance":"0x7baD384C67302df52Ee78Acc3581c9d9c51F9527","defaultPool":"0x706431F2252ba2e5A9a6F7EEFE5CB4902acc23E7","hintHelpers":"0xEEBfA9A488E9d83cd1a49b838c14D9231F5F2fCb","lockupContractFactory":"0xc34B9083Bf5b5794eFD202A8c3B51A5577e087c1","lqtyStaking":"0x82b7384e360DD3f16ed23D15921BB7a878a08b87","priceFeed":"0xbA49275F8F890E7296F64b3e81F1Ada656030150","sortedTroves":"0x91656701b33eca6425A239930FccAA842D0E2031","stabilityPool":"0x04d630Bff6dea193Fd644dEcfC460db249854a02","gasPool":"0xd97E194C0659F0d7b051EdF3E317BF4F7A675770","unipool":"0xeed1782CaD8bad6eD2072C85e4c5821e67cCf1E1","lusdToken":"0x0b02b94638daa719290b5214825dA625af08A02F","lqtyToken":"0xd8FABEa5752D52Ee0dEbF6c90948F5446694EE7c","multiTroveGetter":"0x9c5977268592E964784EFF50043BFFC035B6b0C7","uniToken":"0x6E14b68E16e4211C06bcc8527D6b92A43AA47806"}}')},400:function(e){e.exports=JSON.parse('{"chainId":4,"version":"17f50abc59a99ef867aed539ecd5e263","deploymentDate":1663598811000,"bootstrapPeriod":1209600,"totalStabilityPoolLQTYReward":"32000000","liquidityMiningLQTYRewardRate":"0.257201646090534979","_priceFeedIsTestnet":true,"_uniTokenIsMock":true,"_isDev":false,"startBlock":11408105,"addresses":{"activePool":"0xb1508ac884698e0e79F5dd27ED5aF422f8f0965B","borrowerOperations":"0xD1216Fde5AC49f1De710Cff196C8578Dc716C9FC","troveManager":"0xeff598b30245FD7c8856953167dbF736B3744bD2","collSurplusPool":"0x7b4C57287CE92774cC29d75B0051e417B7AA0b7E","communityIssuance":"0xD4c5b0119C8EF2D2C4E69eC43eB42AC0f66Fb635","defaultPool":"0x0D1e6C986D715eD91bd63F46FF642Bac545dFA7D","hintHelpers":"0x9d08d8aE0d7c2dd2fA8caDA43057c4B19074f16B","lockupContractFactory":"0x36130816d81A819344EaDB759912b49C4B09c03e","lqtyStaking":"0x77Ca24A824da0ED15b11c94B141e8494eAa552Af","priceFeed":"0x39B084B0b348618162E13aBC8788977a20FE65b4","sortedTroves":"0x6F9663Dce66de6925F321A384b1EF05FDafFd10f","stabilityPool":"0xf2d5072bA93c24D12A0C7040f2A9091F4dA502dd","gasPool":"0x87d73BB810d011B8C27bE3962d9783Cd1b86F7A7","unipool":"0xF40990c6366A40f1af305677fE6BF37Fa88A7069","lusdToken":"0x0F00Cc1161D11ed0CBBDC12Dd689380cc05ff525","lqtyToken":"0x86907F08f800B69987ED1a71c9309CA3553B9881","multiTroveGetter":"0x37105eb0f9a20c2b7463d3A4DA11DB26a68d0000","uniToken":"0x31723325a8fa625FEbc6C4B2EE49590Abe096dd3"}}')},401:function(e){e.exports=JSON.parse('{"chainId":3,"version":"5174ecd0da4842157aba989499200d690b7e374f","deploymentDate":1617356113000,"bootstrapPeriod":1209600,"totalStabilityPoolLQTYReward":"32000000","liquidityMiningLQTYRewardRate":"0.257201646090534979","_priceFeedIsTestnet":true,"_uniTokenIsMock":false,"_isDev":false,"startBlock":9961294,"addresses":{"activePool":"0x8bE79B54Bff7754B57294077c2B5017AF9f57dC2","borrowerOperations":"0xfe9049E677C5773dd72ac7E19c38c68aB0891744","troveManager":"0xcd89b25a565Ad0895c551DAe040c2b5F9Eb11D64","collSurplusPool":"0x7426EFda9B17992B3F7cE3680D5D128E1F876C05","communityIssuance":"0x94f0835Aa7cEe67fF122419BeE52b82Abe637a16","defaultPool":"0x6412c93AB383B87Af7c5E673fb3a295c8977A3Ed","hintHelpers":"0x82869137C51e0DC1Bf3aeE5bc1f0B73EADfEBB25","lockupContractFactory":"0x65188ae9dDE4A59b73796Eb26AE33a3D5fe9b84d","lqtyStaking":"0x63a7c03b921f5A59D9f583A34585bC6eFc832b59","priceFeed":"0x7151f3828948B8824C677DA8daf7BD13014c1187","sortedTroves":"0xA401f217DB7d84432C98272F637E9d450c6D16f2","stabilityPool":"0x02dD2a33d0bBF40343CD09941F275978b1cd4ab9","gasPool":"0x8c2706b7bF86576F16Db7C099F5a62E7Ce8F0661","unipool":"0x8C2C33247A691a98d05B60c2D7448687b6C56a86","lusdToken":"0x99Fda92878c1d2f1e0971D1937C50CC578A33E3D","lqtyToken":"0x25fE5Ed43aD2370f31414AC9De11E028A699a40e","multiTroveGetter":"0xDA7Aa96fC750B456a63af90D894063009e26f6ba","uniToken":"0x14E87Db22A5a402a0A1461FAE94fade1976AAaF7"}}')},402:function(e){e.exports=JSON.parse('{"chainId":1,"version":"5174ecd0da4842157aba989499200d690b7e374f","deploymentDate":1617611590000,"bootstrapPeriod":1209600,"totalStabilityPoolLQTYReward":"32000000","liquidityMiningLQTYRewardRate":"0.367430922986478542","_priceFeedIsTestnet":false,"_uniTokenIsMock":false,"_isDev":false,"startBlock":12178551,"addresses":{"activePool":"0xDf9Eb223bAFBE5c5271415C75aeCD68C21fE3D7F","borrowerOperations":"0x24179CD81c9e782A4096035f7eC97fB8B783e007","troveManager":"0xA39739EF8b0231DbFA0DcdA07d7e29faAbCf4bb2","collSurplusPool":"0x3D32e8b97Ed5881324241Cf03b2DA5E2EBcE5521","communityIssuance":"0xD8c9D9071123a059C6E0A945cF0e0c82b508d816","defaultPool":"0x896a3F03176f05CFbb4f006BfCd8723F2B0D741C","hintHelpers":"0xE84251b93D9524E0d2e621Ba7dc7cb3579F997C0","lockupContractFactory":"0x2eBeF24dA09489218Ba2BECb01867F6DaAeDcD4B","lqtyStaking":"0x4f9Fbb3f1E99B56e0Fe2892e623Ed36A76Fc605d","priceFeed":"0x4c517D4e2C851CA76d7eC94B805269Df0f2201De","sortedTroves":"0x8FdD3fbFEb32b28fb73555518f8b361bCeA741A6","stabilityPool":"0x66017D22b0f8556afDd19FC67041899Eb65a21bb","gasPool":"0x9555b042F969E561855e5F28cB1230819149A8d9","unipool":"0xd37a77E71ddF3373a79BE2eBB76B6c4808bDF0d5","lusdToken":"0x5f98805A4E8be255a32880FDeC7F6728C6568bA0","lqtyToken":"0x6DEA81C8171D0bA574754EF6F8b412F2Ed88c54D","multiTroveGetter":"0xFc92d0E9Fa35df17E3A6d9F40716ca2cE749922B","uniToken":"0xF20EF17b889b437C151eB5bA15A47bFc62bfF469"}}')},403:function(e){e.exports=JSON.parse('{"chainId":1337802,"version":"5174ecd0da4842157aba989499200d690b7e374f","deploymentDate":1648542144000,"bootstrapPeriod":1209600,"totalStabilityPoolLQTYReward":"32000000","liquidityMiningLQTYRewardRate":"0.257201646090534979","_priceFeedIsTestnet":true,"_uniTokenIsMock":true,"_isDev":false,"startBlock":146577,"addresses":{"activePool":"0xE7d135D2B43EF53D5f644F4A4F39F639174dfFb5","borrowerOperations":"0x98695e9bf7DEb6113a6e5d5920d032bD721Fee6E","troveManager":"0x6645E03DA2a711f780af7cCE1019Cb9a9135C898","collSurplusPool":"0x69E686BBF16f6C04aC2fb49AA0d2f78Ff9f37596","communityIssuance":"0x86F51bB9F0A3Ee1d5CfDD2df6e6282170a02Bb59","defaultPool":"0x480cB1864e570221ABcADd3316D947864D3F264B","hintHelpers":"0x00248273044d46E690e3234cDdd480C5290b325c","lockupContractFactory":"0xc27b50C919B36C1b4C7fA0a74AA65E28C92d87Fc","lqtyStaking":"0xb21a1c4F84A772397FEfb43CAa5a91947F786E1f","priceFeed":"0x92167BE3A0D4c95055342a2fe0bC910f76dE34aC","sortedTroves":"0xAe6b0165E406CAB9FEAa503314DFB19Ed1Ea777a","stabilityPool":"0x8716B3C98A33D0FF1a922063D1D67B7e40feB80f","gasPool":"0x24c925a2570E17718256fe1416dC45837A60b847","unipool":"0x2585B38EFeeB31E4a041686Ef78D925871cD957b","lusdToken":"0xF47816aa488Ae548ECE5D3051Fb8F5411e774f8B","lqtyToken":"0x8CeA94Affd1B7ae5d623A2287403bB33f7Cb83f6","multiTroveGetter":"0x59BC9902e0b2c8831E55eF9ee8678e377643c468","uniToken":"0x7b6c5109F353236294123B0a55896b760708008c"}}')},404:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newActivePoolAddress","type":"address"}],"name":"ActivePoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_ETH","type":"uint256"}],"name":"ActivePoolETHBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_LUSDDebt","type":"uint256"}],"name":"ActivePoolLUSDDebtUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newBorrowerOperationsAddress","type":"address"}],"name":"BorrowerOperationsAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newDefaultPoolAddress","type":"address"}],"name":"DefaultPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_newBalance","type":"uint256"}],"name":"ETHBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"EtherSent","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_newBalance","type":"uint256"}],"name":"LUSDBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newStabilityPoolAddress","type":"address"}],"name":"StabilityPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newTroveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"borrowerOperationsAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"decreaseLUSDDebt","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"defaultPoolAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLUSDDebt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"increaseLUSDDebt","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"sendETH","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrowerOperationsAddress","type":"address"},{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_stabilityPoolAddress","type":"address"},{"internalType":"address","name":"_defaultPoolAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"stabilityPoolAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"troveManagerAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}]')},405:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_activePoolAddress","type":"address"}],"name":"ActivePoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_collSurplusPoolAddress","type":"address"}],"name":"CollSurplusPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_defaultPoolAddress","type":"address"}],"name":"DefaultPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_gasPoolAddress","type":"address"}],"name":"GasPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lqtyStakingAddress","type":"address"}],"name":"LQTYStakingAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_borrower","type":"address"},{"indexed":false,"internalType":"uint256","name":"_LUSDFee","type":"uint256"}],"name":"LUSDBorrowingFeePaid","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lusdTokenAddress","type":"address"}],"name":"LUSDTokenAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newPriceFeedAddress","type":"address"}],"name":"PriceFeedAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_sortedTrovesAddress","type":"address"}],"name":"SortedTrovesAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_stabilityPoolAddress","type":"address"}],"name":"StabilityPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_borrower","type":"address"},{"indexed":false,"internalType":"uint256","name":"arrayIndex","type":"uint256"}],"name":"TroveCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newTroveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_borrower","type":"address"},{"indexed":false,"internalType":"uint256","name":"_debt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_coll","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"stake","type":"uint256"},{"indexed":false,"internalType":"enum BorrowerOperations.BorrowerOperation","name":"operation","type":"uint8"}],"name":"TroveUpdated","type":"event"},{"inputs":[],"name":"BORROWING_FEE_FLOOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"CCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DECIMAL_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LUSD_GAS_COMPENSATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MIN_NET_DEBT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PERCENT_DIVISOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_100pct","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"activePool","outputs":[{"internalType":"contract IActivePool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_upperHint","type":"address"},{"internalType":"address","name":"_lowerHint","type":"address"}],"name":"addColl","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxFeePercentage","type":"uint256"},{"internalType":"uint256","name":"_collWithdrawal","type":"uint256"},{"internalType":"uint256","name":"_LUSDChange","type":"uint256"},{"internalType":"bool","name":"_isDebtIncrease","type":"bool"},{"internalType":"address","name":"_upperHint","type":"address"},{"internalType":"address","name":"_lowerHint","type":"address"}],"name":"adjustTrove","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"claimCollateral","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"closeTrove","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"defaultPool","outputs":[{"internalType":"contract IDefaultPool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_debt","type":"uint256"}],"name":"getCompositeDebt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"getEntireSystemColl","outputs":[{"internalType":"uint256","name":"entireSystemColl","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEntireSystemDebt","outputs":[{"internalType":"uint256","name":"entireSystemDebt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lqtyStaking","outputs":[{"internalType":"contract ILQTYStaking","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lqtyStakingAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lusdToken","outputs":[{"internalType":"contract ILUSDToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"},{"internalType":"address","name":"_upperHint","type":"address"},{"internalType":"address","name":"_lowerHint","type":"address"}],"name":"moveETHGainToTrove","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxFeePercentage","type":"uint256"},{"internalType":"uint256","name":"_LUSDAmount","type":"uint256"},{"internalType":"address","name":"_upperHint","type":"address"},{"internalType":"address","name":"_lowerHint","type":"address"}],"name":"openTrove","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceFeed","outputs":[{"internalType":"contract IPriceFeed","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_LUSDAmount","type":"uint256"},{"internalType":"address","name":"_upperHint","type":"address"},{"internalType":"address","name":"_lowerHint","type":"address"}],"name":"repayLUSD","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_activePoolAddress","type":"address"},{"internalType":"address","name":"_defaultPoolAddress","type":"address"},{"internalType":"address","name":"_stabilityPoolAddress","type":"address"},{"internalType":"address","name":"_gasPoolAddress","type":"address"},{"internalType":"address","name":"_collSurplusPoolAddress","type":"address"},{"internalType":"address","name":"_priceFeedAddress","type":"address"},{"internalType":"address","name":"_sortedTrovesAddress","type":"address"},{"internalType":"address","name":"_lusdTokenAddress","type":"address"},{"internalType":"address","name":"_lqtyStakingAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"sortedTroves","outputs":[{"internalType":"contract ISortedTroves","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"troveManager","outputs":[{"internalType":"contract ITroveManager","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_collWithdrawal","type":"uint256"},{"internalType":"address","name":"_upperHint","type":"address"},{"internalType":"address","name":"_lowerHint","type":"address"}],"name":"withdrawColl","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxFeePercentage","type":"uint256"},{"internalType":"uint256","name":"_LUSDAmount","type":"uint256"},{"internalType":"address","name":"_upperHint","type":"address"},{"internalType":"address","name":"_lowerHint","type":"address"}],"name":"withdrawLUSD","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},406:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_activePoolAddress","type":"address"}],"name":"ActivePoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_baseRate","type":"uint256"}],"name":"BaseRateUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newBorrowerOperationsAddress","type":"address"}],"name":"BorrowerOperationsAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_collSurplusPoolAddress","type":"address"}],"name":"CollSurplusPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_defaultPoolAddress","type":"address"}],"name":"DefaultPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_gasPoolAddress","type":"address"}],"name":"GasPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lqtyStakingAddress","type":"address"}],"name":"LQTYStakingAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lqtyTokenAddress","type":"address"}],"name":"LQTYTokenAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_L_ETH","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_L_LUSDDebt","type":"uint256"}],"name":"LTermsUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newLUSDTokenAddress","type":"address"}],"name":"LUSDTokenAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_lastFeeOpTime","type":"uint256"}],"name":"LastFeeOpTimeUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_liquidatedDebt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_liquidatedColl","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_collGasCompensation","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_LUSDGasCompensation","type":"uint256"}],"name":"Liquidation","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newPriceFeedAddress","type":"address"}],"name":"PriceFeedAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_attemptedLUSDAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_actualLUSDAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_ETHSent","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_ETHFee","type":"uint256"}],"name":"Redemption","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_sortedTrovesAddress","type":"address"}],"name":"SortedTrovesAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_stabilityPoolAddress","type":"address"}],"name":"StabilityPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_totalStakesSnapshot","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_totalCollateralSnapshot","type":"uint256"}],"name":"SystemSnapshotsUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_newTotalStakes","type":"uint256"}],"name":"TotalStakesUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_borrower","type":"address"},{"indexed":false,"internalType":"uint256","name":"_newIndex","type":"uint256"}],"name":"TroveIndexUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_borrower","type":"address"},{"indexed":false,"internalType":"uint256","name":"_debt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_coll","type":"uint256"},{"indexed":false,"internalType":"enum TroveManager.TroveManagerOperation","name":"_operation","type":"uint8"}],"name":"TroveLiquidated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_L_ETH","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_L_LUSDDebt","type":"uint256"}],"name":"TroveSnapshotsUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_borrower","type":"address"},{"indexed":false,"internalType":"uint256","name":"_debt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_coll","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_stake","type":"uint256"},{"indexed":false,"internalType":"enum TroveManager.TroveManagerOperation","name":"_operation","type":"uint8"}],"name":"TroveUpdated","type":"event"},{"inputs":[],"name":"BETA","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"BOOTSTRAP_PERIOD","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"BORROWING_FEE_FLOOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"CCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DECIMAL_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LUSD_GAS_COMPENSATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"L_ETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"L_LUSDDebt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MAX_BORROWING_FEE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MINUTE_DECAY_FACTOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MIN_NET_DEBT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PERCENT_DIVISOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"REDEMPTION_FEE_FLOOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"SECONDS_IN_ONE_MINUTE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"TroveOwners","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"Troves","outputs":[{"internalType":"uint256","name":"debt","type":"uint256"},{"internalType":"uint256","name":"coll","type":"uint256"},{"internalType":"uint256","name":"stake","type":"uint256"},{"internalType":"enum TroveManager.Status","name":"status","type":"uint8"},{"internalType":"uint128","name":"arrayIndex","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_100pct","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"activePool","outputs":[{"internalType":"contract IActivePool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"addTroveOwnerToArray","outputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"applyPendingRewards","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"baseRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"_troveArray","type":"address[]"}],"name":"batchLiquidateTroves","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"borrowerOperationsAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"checkRecoveryMode","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"closeTrove","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decayBaseRateFromBorrowing","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"},{"internalType":"uint256","name":"_collDecrease","type":"uint256"}],"name":"decreaseTroveColl","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"},{"internalType":"uint256","name":"_debtDecrease","type":"uint256"}],"name":"decreaseTroveDebt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"defaultPool","outputs":[{"internalType":"contract IDefaultPool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_LUSDDebt","type":"uint256"}],"name":"getBorrowingFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_LUSDDebt","type":"uint256"}],"name":"getBorrowingFeeWithDecay","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBorrowingRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBorrowingRateWithDecay","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"},{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"getCurrentICR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"getEntireDebtAndColl","outputs":[{"internalType":"uint256","name":"debt","type":"uint256"},{"internalType":"uint256","name":"coll","type":"uint256"},{"internalType":"uint256","name":"pendingLUSDDebtReward","type":"uint256"},{"internalType":"uint256","name":"pendingETHReward","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEntireSystemColl","outputs":[{"internalType":"uint256","name":"entireSystemColl","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEntireSystemDebt","outputs":[{"internalType":"uint256","name":"entireSystemDebt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"getNominalICR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"getPendingETHReward","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"getPendingLUSDDebtReward","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_ETHDrawn","type":"uint256"}],"name":"getRedemptionFeeWithDecay","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getRedemptionRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getRedemptionRateWithDecay","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"getTCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"getTroveColl","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"getTroveDebt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"getTroveFromTroveOwnersArray","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTroveOwnersCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"getTroveStake","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"getTroveStatus","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"hasPendingRewards","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"},{"internalType":"uint256","name":"_collIncrease","type":"uint256"}],"name":"increaseTroveColl","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"},{"internalType":"uint256","name":"_debtIncrease","type":"uint256"}],"name":"increaseTroveDebt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastETHError_Redistribution","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastFeeOperationTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastLUSDDebtError_Redistribution","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"liquidate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_n","type":"uint256"}],"name":"liquidateTroves","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"lqtyStaking","outputs":[{"internalType":"contract ILQTYStaking","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lqtyToken","outputs":[{"internalType":"contract ILQTYToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lusdToken","outputs":[{"internalType":"contract ILUSDToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceFeed","outputs":[{"internalType":"contract IPriceFeed","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_LUSDamount","type":"uint256"},{"internalType":"address","name":"_firstRedemptionHint","type":"address"},{"internalType":"address","name":"_upperPartialRedemptionHint","type":"address"},{"internalType":"address","name":"_lowerPartialRedemptionHint","type":"address"},{"internalType":"uint256","name":"_partialRedemptionHintNICR","type":"uint256"},{"internalType":"uint256","name":"_maxIterations","type":"uint256"},{"internalType":"uint256","name":"_maxFeePercentage","type":"uint256"}],"name":"redeemCollateral","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"removeStake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"rewardSnapshots","outputs":[{"internalType":"uint256","name":"ETH","type":"uint256"},{"internalType":"uint256","name":"LUSDDebt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrowerOperationsAddress","type":"address"},{"internalType":"address","name":"_activePoolAddress","type":"address"},{"internalType":"address","name":"_defaultPoolAddress","type":"address"},{"internalType":"address","name":"_stabilityPoolAddress","type":"address"},{"internalType":"address","name":"_gasPoolAddress","type":"address"},{"internalType":"address","name":"_collSurplusPoolAddress","type":"address"},{"internalType":"address","name":"_priceFeedAddress","type":"address"},{"internalType":"address","name":"_lusdTokenAddress","type":"address"},{"internalType":"address","name":"_sortedTrovesAddress","type":"address"},{"internalType":"address","name":"_lqtyTokenAddress","type":"address"},{"internalType":"address","name":"_lqtyStakingAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"},{"internalType":"uint256","name":"_num","type":"uint256"}],"name":"setTroveStatus","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"sortedTroves","outputs":[{"internalType":"contract ISortedTroves","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"stabilityPool","outputs":[{"internalType":"contract IStabilityPool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalCollateralSnapshot","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalStakes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalStakesSnapshot","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"updateStakeAndTotalStakes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"updateTroveRewardSnapshots","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},407:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_stabilityPoolAddress","type":"address"},{"internalType":"address","name":"_borrowerOperationsAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newBorrowerOperationsAddress","type":"address"}],"name":"BorrowerOperationsAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_user","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"LUSDTokenBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newStabilityPoolAddress","type":"address"}],"name":"StabilityPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_troveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"borrowerOperationsAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"permitTypeHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_poolAddress","type":"address"},{"internalType":"address","name":"_receiver","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"returnFromPool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_sender","type":"address"},{"internalType":"address","name":"_poolAddress","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"sendToPool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"stabilityPoolAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"troveManagerAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"version","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]')},408:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newActivePoolAddress","type":"address"}],"name":"ActivePoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newBorrowerOperationsAddress","type":"address"}],"name":"BorrowerOperationsAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_account","type":"address"},{"indexed":false,"internalType":"uint256","name":"_newBalance","type":"uint256"}],"name":"CollBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"EtherSent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newTroveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"accountSurplus","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"activePoolAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"borrowerOperationsAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"claimColl","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"getCollateral","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrowerOperationsAddress","type":"address"},{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_activePoolAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"troveManagerAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}]')},409:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lqtyTokenAddress","type":"address"}],"name":"LQTYTokenAddressSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_stabilityPoolAddress","type":"address"}],"name":"StabilityPoolAddressSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_totalLQTYIssued","type":"uint256"}],"name":"TotalLQTYIssuedUpdated","type":"event"},{"inputs":[],"name":"DECIMAL_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ISSUANCE_FACTOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LQTYSupplyCap","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"SECONDS_IN_ONE_MINUTE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"deploymentTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"issueLQTY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"lqtyToken","outputs":[{"internalType":"contract ILQTYToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_LQTYamount","type":"uint256"}],"name":"sendLQTY","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_lqtyTokenAddress","type":"address"},{"internalType":"address","name":"_stabilityPoolAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"stabilityPoolAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalLQTYIssued","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')},410:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newActivePoolAddress","type":"address"}],"name":"ActivePoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newDefaultPoolAddress","type":"address"}],"name":"DefaultPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_ETH","type":"uint256"}],"name":"DefaultPoolETHBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_LUSDDebt","type":"uint256"}],"name":"DefaultPoolLUSDDebtUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_newBalance","type":"uint256"}],"name":"ETHBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"EtherSent","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_newBalance","type":"uint256"}],"name":"LUSDBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newStabilityPoolAddress","type":"address"}],"name":"StabilityPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newTroveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"activePoolAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"decreaseLUSDDebt","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLUSDDebt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"increaseLUSDDebt","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"sendETHToActivePool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_activePoolAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"troveManagerAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}]')},411:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_communityIssuanceAddress","type":"address"},{"internalType":"address","name":"_lqtyStakingAddress","type":"address"},{"internalType":"address","name":"_lockupFactoryAddress","type":"address"},{"internalType":"address","name":"_bountyAddress","type":"address"},{"internalType":"address","name":"_lpRewardsAddress","type":"address"},{"internalType":"address","name":"_multisigAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_communityIssuanceAddress","type":"address"}],"name":"CommunityIssuanceAddressSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lqtyStakingAddress","type":"address"}],"name":"LQTYStakingAddressSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lockupContractFactoryAddress","type":"address"}],"name":"LockupContractFactoryAddressSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"ONE_YEAR_IN_SECONDS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"communityIssuanceAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getDeploymentStartTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLpRewardsEntitlement","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"lockupContractFactory","outputs":[{"internalType":"contract ILockupContractFactory","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lqtyStakingAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"multisigAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"permitTypeHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_sender","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"sendToLQTYStaking","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"version","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]')},412:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_sortedTrovesAddress","type":"address"}],"name":"SortedTrovesAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_troveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"inputs":[],"name":"BORROWING_FEE_FLOOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"CCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DECIMAL_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LUSD_GAS_COMPENSATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MIN_NET_DEBT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PERCENT_DIVISOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_100pct","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"activePool","outputs":[{"internalType":"contract IActivePool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_coll","type":"uint256"},{"internalType":"uint256","name":"_debt","type":"uint256"},{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"computeCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"uint256","name":"_coll","type":"uint256"},{"internalType":"uint256","name":"_debt","type":"uint256"}],"name":"computeNominalCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"defaultPool","outputs":[{"internalType":"contract IDefaultPool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_CR","type":"uint256"},{"internalType":"uint256","name":"_numTrials","type":"uint256"},{"internalType":"uint256","name":"_inputRandomSeed","type":"uint256"}],"name":"getApproxHint","outputs":[{"internalType":"address","name":"hintAddress","type":"address"},{"internalType":"uint256","name":"diff","type":"uint256"},{"internalType":"uint256","name":"latestRandomSeed","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEntireSystemColl","outputs":[{"internalType":"uint256","name":"entireSystemColl","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEntireSystemDebt","outputs":[{"internalType":"uint256","name":"entireSystemDebt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_LUSDamount","type":"uint256"},{"internalType":"uint256","name":"_price","type":"uint256"},{"internalType":"uint256","name":"_maxIterations","type":"uint256"}],"name":"getRedemptionHints","outputs":[{"internalType":"address","name":"firstRedemptionHint","type":"address"},{"internalType":"uint256","name":"partialRedemptionHintNICR","type":"uint256"},{"internalType":"uint256","name":"truncatedLUSDamount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceFeed","outputs":[{"internalType":"contract IPriceFeed","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_sortedTrovesAddress","type":"address"},{"internalType":"address","name":"_troveManagerAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"sortedTroves","outputs":[{"internalType":"contract ISortedTroves","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"troveManager","outputs":[{"internalType":"contract ITroveManager","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')},413:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lqtyTokenAddress","type":"address"}],"name":"LQTYTokenAddressSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lockupContractAddress","type":"address"},{"indexed":false,"internalType":"address","name":"_beneficiary","type":"address"},{"indexed":false,"internalType":"uint256","name":"_unlockTime","type":"uint256"},{"indexed":false,"internalType":"address","name":"_deployer","type":"address"}],"name":"LockupContractDeployedThroughFactory","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"SECONDS_IN_ONE_YEAR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_beneficiary","type":"address"},{"internalType":"uint256","name":"_unlockTime","type":"uint256"}],"name":"deployLockupContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_contractAddress","type":"address"}],"name":"isRegisteredLockup","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"lockupContractToDeployer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lqtyTokenAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_lqtyTokenAddress","type":"address"}],"name":"setLQTYTokenAddress","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},414:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_activePoolAddress","type":"address"}],"name":"ActivePoolAddressSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_borrowerOperationsAddress","type":"address"}],"name":"BorrowerOperationsAddressSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_account","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"EtherSent","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_F_ETH","type":"uint256"}],"name":"F_ETHUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_F_LUSD","type":"uint256"}],"name":"F_LUSDUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lqtyTokenAddress","type":"address"}],"name":"LQTYTokenAddressSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lusdTokenAddress","type":"address"}],"name":"LUSDTokenAddressSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"staker","type":"address"},{"indexed":false,"internalType":"uint256","name":"newStake","type":"uint256"}],"name":"StakeChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_staker","type":"address"},{"indexed":false,"internalType":"uint256","name":"_F_ETH","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_F_LUSD","type":"uint256"}],"name":"StakerSnapshotsUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"staker","type":"address"},{"indexed":false,"internalType":"uint256","name":"LUSDGain","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"ETHGain","type":"uint256"}],"name":"StakingGainsWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_totalLQTYStaked","type":"uint256"}],"name":"TotalLQTYStakedUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_troveManager","type":"address"}],"name":"TroveManagerAddressSet","type":"event"},{"inputs":[],"name":"DECIMAL_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"F_ETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"F_LUSD","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"activePoolAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"borrowerOperationsAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getPendingETHGain","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getPendingLUSDGain","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_ETHFee","type":"uint256"}],"name":"increaseF_ETH","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_LUSDFee","type":"uint256"}],"name":"increaseF_LUSD","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lqtyToken","outputs":[{"internalType":"contract ILQTYToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lusdToken","outputs":[{"internalType":"contract ILUSDToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_lqtyTokenAddress","type":"address"},{"internalType":"address","name":"_lusdTokenAddress","type":"address"},{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_borrowerOperationsAddress","type":"address"},{"internalType":"address","name":"_activePoolAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"snapshots","outputs":[{"internalType":"uint256","name":"F_ETH_Snapshot","type":"uint256"},{"internalType":"uint256","name":"F_LUSD_Snapshot","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_LQTYamount","type":"uint256"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"stakes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalLQTYStaked","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"troveManagerAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_LQTYamount","type":"uint256"}],"name":"unstake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]')},415:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"contract TroveManager","name":"_troveManager","type":"address"},{"internalType":"contract ISortedTroves","name":"_sortedTroves","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"int256","name":"_startIdx","type":"int256"},{"internalType":"uint256","name":"_count","type":"uint256"}],"name":"getMultipleSortedTroves","outputs":[{"components":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"debt","type":"uint256"},{"internalType":"uint256","name":"coll","type":"uint256"},{"internalType":"uint256","name":"stake","type":"uint256"},{"internalType":"uint256","name":"snapshotETH","type":"uint256"},{"internalType":"uint256","name":"snapshotLUSDDebt","type":"uint256"}],"internalType":"struct MultiTroveGetter.CombinedTroveData[]","name":"_troves","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"sortedTroves","outputs":[{"internalType":"contract ISortedTroves","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"troveManager","outputs":[{"internalType":"contract TroveManager","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')},416:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_lastGoodPrice","type":"uint256"}],"name":"LastGoodPriceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"enum PriceFeed.Status","name":"newStatus","type":"uint8"}],"name":"PriceFeedStatusChanged","type":"event"},{"inputs":[],"name":"DECIMAL_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ETHUSD_TELLOR_REQ_ID","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MAX_PRICE_DEVIATION_FROM_PREVIOUS_ROUND","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MAX_PRICE_DIFFERENCE_BETWEEN_ORACLES","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"TARGET_DIGITS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"TELLOR_DIGITS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"TIMEOUT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"fetchPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastGoodPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceAggregator","outputs":[{"internalType":"contract AggregatorV3Interface","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_priceAggregatorAddress","type":"address"},{"internalType":"address","name":"_tellorCallerAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"status","outputs":[{"internalType":"enum PriceFeed.Status","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tellorCaller","outputs":[{"internalType":"contract ITellorCaller","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')},417:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_lastGoodPrice","type":"uint256"}],"name":"LastGoodPriceUpdated","type":"event"},{"inputs":[],"name":"fetchPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"price","type":"uint256"}],"name":"setPrice","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},418:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_borrowerOperationsAddress","type":"address"}],"name":"BorrowerOperationsAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_id","type":"address"},{"indexed":false,"internalType":"uint256","name":"_NICR","type":"uint256"}],"name":"NodeAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_id","type":"address"}],"name":"NodeRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_sortedDoublyLLAddress","type":"address"}],"name":"SortedTrovesAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_troveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"borrowerOperationsAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_id","type":"address"}],"name":"contains","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"data","outputs":[{"internalType":"address","name":"head","type":"address"},{"internalType":"address","name":"tail","type":"address"},{"internalType":"uint256","name":"maxSize","type":"uint256"},{"internalType":"uint256","name":"size","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_NICR","type":"uint256"},{"internalType":"address","name":"_prevId","type":"address"},{"internalType":"address","name":"_nextId","type":"address"}],"name":"findInsertPosition","outputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getFirst","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLast","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMaxSize","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_id","type":"address"}],"name":"getNext","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_id","type":"address"}],"name":"getPrev","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSize","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_id","type":"address"},{"internalType":"uint256","name":"_NICR","type":"uint256"},{"internalType":"address","name":"_prevId","type":"address"},{"internalType":"address","name":"_nextId","type":"address"}],"name":"insert","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isEmpty","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isFull","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_id","type":"address"},{"internalType":"uint256","name":"_newNICR","type":"uint256"},{"internalType":"address","name":"_prevId","type":"address"},{"internalType":"address","name":"_nextId","type":"address"}],"name":"reInsert","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_id","type":"address"}],"name":"remove","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_size","type":"uint256"},{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_borrowerOperationsAddress","type":"address"}],"name":"setParams","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"troveManager","outputs":[{"internalType":"contract ITroveManager","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_NICR","type":"uint256"},{"internalType":"address","name":"_prevId","type":"address"},{"internalType":"address","name":"_nextId","type":"address"}],"name":"validInsertPosition","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}]')},419:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newActivePoolAddress","type":"address"}],"name":"ActivePoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newBorrowerOperationsAddress","type":"address"}],"name":"BorrowerOperationsAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newCommunityIssuanceAddress","type":"address"}],"name":"CommunityIssuanceAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newDefaultPoolAddress","type":"address"}],"name":"DefaultPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_depositor","type":"address"},{"indexed":false,"internalType":"uint256","name":"_P","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_S","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_G","type":"uint256"}],"name":"DepositSnapshotUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_depositor","type":"address"},{"indexed":false,"internalType":"uint256","name":"_ETH","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_LUSDLoss","type":"uint256"}],"name":"ETHGainWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint128","name":"_currentEpoch","type":"uint128"}],"name":"EpochUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"EtherSent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_frontEnd","type":"address"},{"indexed":false,"internalType":"uint256","name":"_kickbackRate","type":"uint256"}],"name":"FrontEndRegistered","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_frontEnd","type":"address"},{"indexed":false,"internalType":"uint256","name":"_P","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_G","type":"uint256"}],"name":"FrontEndSnapshotUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_frontEnd","type":"address"},{"indexed":false,"internalType":"uint256","name":"_newFrontEndStake","type":"uint256"},{"indexed":false,"internalType":"address","name":"_depositor","type":"address"}],"name":"FrontEndStakeChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_depositor","type":"address"},{"indexed":true,"internalType":"address","name":"_frontEnd","type":"address"}],"name":"FrontEndTagSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_G","type":"uint256"},{"indexed":false,"internalType":"uint128","name":"_epoch","type":"uint128"},{"indexed":false,"internalType":"uint128","name":"_scale","type":"uint128"}],"name":"G_Updated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_depositor","type":"address"},{"indexed":false,"internalType":"uint256","name":"_LQTY","type":"uint256"}],"name":"LQTYPaidToDepositor","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_frontEnd","type":"address"},{"indexed":false,"internalType":"uint256","name":"_LQTY","type":"uint256"}],"name":"LQTYPaidToFrontEnd","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newLUSDTokenAddress","type":"address"}],"name":"LUSDTokenAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_P","type":"uint256"}],"name":"P_Updated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newPriceFeedAddress","type":"address"}],"name":"PriceFeedAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_S","type":"uint256"},{"indexed":false,"internalType":"uint128","name":"_epoch","type":"uint128"},{"indexed":false,"internalType":"uint128","name":"_scale","type":"uint128"}],"name":"S_Updated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint128","name":"_currentScale","type":"uint128"}],"name":"ScaleUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newSortedTrovesAddress","type":"address"}],"name":"SortedTrovesAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_newBalance","type":"uint256"}],"name":"StabilityPoolETHBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_newBalance","type":"uint256"}],"name":"StabilityPoolLUSDBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newTroveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_depositor","type":"address"},{"indexed":false,"internalType":"uint256","name":"_newDeposit","type":"uint256"}],"name":"UserDepositChanged","type":"event"},{"inputs":[],"name":"BORROWING_FEE_FLOOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"CCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DECIMAL_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LUSD_GAS_COMPENSATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MIN_NET_DEBT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"P","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PERCENT_DIVISOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"SCALE_FACTOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_100pct","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"activePool","outputs":[{"internalType":"contract IActivePool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"borrowerOperations","outputs":[{"internalType":"contract IBorrowerOperations","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"communityIssuance","outputs":[{"internalType":"contract ICommunityIssuance","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"currentEpoch","outputs":[{"internalType":"uint128","name":"","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"currentScale","outputs":[{"internalType":"uint128","name":"","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"defaultPool","outputs":[{"internalType":"contract IDefaultPool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"depositSnapshots","outputs":[{"internalType":"uint256","name":"S","type":"uint256"},{"internalType":"uint256","name":"P","type":"uint256"},{"internalType":"uint256","name":"G","type":"uint256"},{"internalType":"uint128","name":"scale","type":"uint128"},{"internalType":"uint128","name":"epoch","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"deposits","outputs":[{"internalType":"uint256","name":"initialValue","type":"uint256"},{"internalType":"address","name":"frontEndTag","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint128","name":"","type":"uint128"},{"internalType":"uint128","name":"","type":"uint128"}],"name":"epochToScaleToG","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint128","name":"","type":"uint128"},{"internalType":"uint128","name":"","type":"uint128"}],"name":"epochToScaleToSum","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"frontEndSnapshots","outputs":[{"internalType":"uint256","name":"S","type":"uint256"},{"internalType":"uint256","name":"P","type":"uint256"},{"internalType":"uint256","name":"G","type":"uint256"},{"internalType":"uint128","name":"scale","type":"uint128"},{"internalType":"uint128","name":"epoch","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"frontEndStakes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"frontEnds","outputs":[{"internalType":"uint256","name":"kickbackRate","type":"uint256"},{"internalType":"bool","name":"registered","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_frontEnd","type":"address"}],"name":"getCompoundedFrontEndStake","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_depositor","type":"address"}],"name":"getCompoundedLUSDDeposit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_depositor","type":"address"}],"name":"getDepositorETHGain","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_depositor","type":"address"}],"name":"getDepositorLQTYGain","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEntireSystemColl","outputs":[{"internalType":"uint256","name":"entireSystemColl","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEntireSystemDebt","outputs":[{"internalType":"uint256","name":"entireSystemDebt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_frontEnd","type":"address"}],"name":"getFrontEndLQTYGain","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTotalLUSDDeposits","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastETHError_Offset","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastLQTYError","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastLUSDLossError_Offset","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lusdToken","outputs":[{"internalType":"contract ILUSDToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_debtToOffset","type":"uint256"},{"internalType":"uint256","name":"_collToAdd","type":"uint256"}],"name":"offset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceFeed","outputs":[{"internalType":"contract IPriceFeed","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"address","name":"_frontEndTag","type":"address"}],"name":"provideToSP","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_kickbackRate","type":"uint256"}],"name":"registerFrontEnd","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrowerOperationsAddress","type":"address"},{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_activePoolAddress","type":"address"},{"internalType":"address","name":"_lusdTokenAddress","type":"address"},{"internalType":"address","name":"_sortedTrovesAddress","type":"address"},{"internalType":"address","name":"_priceFeedAddress","type":"address"},{"internalType":"address","name":"_communityIssuanceAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"sortedTroves","outputs":[{"internalType":"contract ISortedTroves","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"troveManager","outputs":[{"internalType":"contract ITroveManager","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_upperHint","type":"address"},{"internalType":"address","name":"_lowerHint","type":"address"}],"name":"withdrawETHGainToTrove","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"withdrawFromSP","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]')},420:function(e){e.exports=JSON.parse("[]")},421:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lqtyTokenAddress","type":"address"}],"name":"LQTYTokenAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"reward","type":"uint256"}],"name":"RewardAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"reward","type":"uint256"}],"name":"RewardPaid","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Staked","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_uniTokenAddress","type":"address"}],"name":"UniTokenAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdrawn","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"claimReward","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"duration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"earned","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastTimeRewardApplicable","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastUpdateTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lqtyToken","outputs":[{"internalType":"contract ILQTYToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"periodFinish","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rewardPerToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rewardPerTokenStored","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rewardRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"rewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_lqtyTokenAddress","type":"address"},{"internalType":"address","name":"_uniTokenAddress","type":"address"},{"internalType":"uint256","name":"_duration","type":"uint256"}],"name":"setParams","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"uniToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userRewardPerTokenPaid","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawAndClaim","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},422:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},423:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"address","name":"initialAccount","type":"address"},{"internalType":"uint256","name":"initialBalance","type":"uint256"}],"stateMutability":"payable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approveInternal","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferInternal","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},424:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._connectToMulticall=void 0;var a=n(92),i=[{constant:!0,inputs:[],name:"getCurrentBlockTimestamp",outputs:[{name:"timestamp",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],r={1:"0xeefba1e63905ef1d7acba5a8513c70307c1ce441",3:"0x53c43764255c17bd724f74c4ef150724ac50a3ed",4:"0x42ad527de7d4e9d9d011ac45b31d8551f8fe9821",5:"0x77dca2c955b15e9de4dbbcf1246b4b85b651e50e",42:"0x2cc8688c5f75e365aaeeb4ea8d6a480405a48d2a"};t._connectToMulticall=function(e,t){return function(e){return e in r}(t)?new a.Contract(r[t],i,e):void 0}},425:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},426:function(e,t,n){"use strict";var a=n(44),i=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableEthersLiquity=void 0;var r=n(124),s=function(e){var t=void 0,n=0;return function(){var a,i=(a=arguments.length-1)<0||arguments.length<=a?void 0:arguments[a];void 0!==i.blockNumber&&i.blockNumber>n&&(n=i.blockNumber),void 0!==t&&clearTimeout(t),t=setTimeout((function(){e(n),t=void 0}),50)}},o=function(){function e(t){a(this,e),this._readable=t}return i(e,[{key:"watchTotalRedistributed",value:function(e){var t=this,n=r._getContracts(this._readable.connection),a=n.activePool,i=n.defaultPool,o=a.filters.EtherSent(),u=s((function(n){t._readable.getTotalRedistributed({blockTag:n}).then(e)})),c=function(e,t,n){e===i.address&&u(n)};return a.on(o,c),function(){a.removeListener(o,c)}}},{key:"watchTroveWithoutRewards",value:function(e,t){var n=this;null!==t&&void 0!==t||(t=r._requireAddress(this._readable.connection));var a=r._getContracts(this._readable.connection),i=a.troveManager,o=a.borrowerOperations,u=i.filters.TroveUpdated(t),c=o.filters.TroveUpdated(t),d=s((function(a){n._readable.getTroveBeforeRedistribution(t,{blockTag:a}).then(e)}));return i.on(u,d),o.on(c,d),function(){i.removeListener(u,d),o.removeListener(c,d)}}},{key:"watchNumberOfTroves",value:function(e){var t=this,n=r._getContracts(this._readable.connection).troveManager,a=(0,n.filters.TroveUpdated)(),i=s((function(n){t._readable.getNumberOfTroves({blockTag:n}).then(e)}));return n.on(a,i),function(){n.removeListener(a,i)}}},{key:"watchPrice",value:function(e){throw new Error("Method not implemented.")}},{key:"watchTotal",value:function(e){var t=this,n=r._getContracts(this._readable.connection).troveManager,a=(0,n.filters.TroveUpdated)(),i=s((function(n){t._readable.getTotal({blockTag:n}).then(e)}));return n.on(a,i),function(){n.removeListener(a,i)}}},{key:"watchStabilityDeposit",value:function(e,t){var n=this;null!==t&&void 0!==t||(t=r._requireAddress(this._readable.connection));var a=r._getContracts(this._readable.connection),i=a.activePool,o=a.stabilityPool,u=o.filters.UserDepositChanged,c=i.filters.EtherSent,d=u(t),l=c(),p=s((function(a){n._readable.getStabilityDeposit(t,{blockTag:a}).then(e)})),b=function(e,t,n){e===o.address&&p(n)};return o.on(d,p),i.on(l,b),function(){o.removeListener(d,p),i.removeListener(l,b)}}},{key:"watchLUSDInStabilityPool",value:function(e){var t=this,n=r._getContracts(this._readable.connection),a=n.lusdToken,i=n.stabilityPool,o=a.filters.Transfer,u=[o(i.address),o(null,i.address)],c=s((function(n){t._readable.getLUSDInStabilityPool({blockTag:n}).then(e)}));return u.forEach((function(e){return a.on(e,c)})),function(){return u.forEach((function(e){return a.removeListener(e,c)}))}}},{key:"watchLUSDBalance",value:function(e,t){var n=this;null!==t&&void 0!==t||(t=r._requireAddress(this._readable.connection));var a=r._getContracts(this._readable.connection).lusdToken,i=a.filters.Transfer,o=[i(t),i(null,t)],u=s((function(a){n._readable.getLUSDBalance(t,{blockTag:a}).then(e)}));return o.forEach((function(e){return a.on(e,u)})),function(){return o.forEach((function(e){return a.removeListener(e,u)}))}}}]),e}();t.ObservableEthersLiquity=o},428:function(e,t,n){"use strict";var a=n(211),i=n(89),r=n(67);Object.defineProperty(t,"__esModule",{value:!0}),t.logsToString=void 0;var s=n(51),o=n(70),u=n(7),c=function(e,t){var n=[],a=[];return e.forEach((function(e){var i=function(e,t){var n=e.address;if(n in t)try{return{address:n,logDescription:t[n].parseLog(e)}}catch(a){console.warn("Failed to parse log:"),console.warn(e),console.warn("Caught:"),console.warn(a)}}(e,t);i?n.push(i):a.push(e)})),[n,a]},d=s.BigNumber.from(10).pow(9),l=function(e,t){var n=Object.entries(e.args).filter((function(e){return!r(e,1)[0].match(/^[0-9]/)})).map((function(e){var n=r(e,2),a=n[0],i=n[1];return"".concat(a,": ").concat(function(e,t){return s.BigNumber.isBigNumber(e)?e.gte(d)?"".concat(u.Decimal.fromBigNumberString(e.toHexString()),"e18"):e.toString():"string"===typeof e?e===o.AddressZero?"address(0)":t&&e in t?t[e]:e:String(e)}(i,t))}));return"".concat(e.name,"({ ").concat(n.join(", ")," })")};t.logsToString=function(e,t){var n=t,s=function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=r(e,2)[1];return[t.address,t.interface]})))}(n),o=function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=r(e,2),n=t[0];return[t[1].address,n]})))}(n),u=i(a({},e.from,"user"),o),d=c(e.logs,s),p=r(d,2),b=p[0],y=p[1];return y.length>0&&(console.warn("Warning: not all logs were parsed. Unparsed logs:"),console.warn(y)),b.length>0?"Logs of tx ".concat(e.transactionHash,":\n")+b.map((function(e){var t=e.address,n=e.logDescription;return"  ".concat(o[t],".").concat(l(n,u))})).join("\n"):"No logs were parsed in tx ".concat(e.transactionHash)}},429:function(e,t,n){"use strict";var a=n(46),i=n(3),r=n(83),s=n(44),o=n(68),u=n(69);Object.defineProperty(t,"__esModule",{value:!0}),t.EthersLiquity=t.EthersTransactionFailedError=void 0;var c=n(7),d=n(124),l=n(263),p=n(261),b=n(264),y=function(e){o(n,e);var t=u(n);function n(e,a){return s(this,n),t.call(this,"EthersTransactionFailedError",e,a)}return n}(c.TransactionFailedError);t.EthersTransactionFailedError=y;var f=function(){var e=r(i.mark((function e(t){var n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.waitForReceipt();case 2:if("succeeded"===(n=e.sent).status){e.next=5;break}throw new y("Transaction failed",n);case 5:return e.abrupt("return",n.details);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){function e(t){s(this,e),this._readable=t,this.connection=t.connection,this.populate=new l.PopulatableEthersLiquity(t),this.send=new b.SendableEthersLiquity(this.populate)}return a(e,[{key:"hasStore",value:function(){return!1}},{key:"getTotalRedistributed",value:function(e){return this._readable.getTotalRedistributed(e)}},{key:"getTroveBeforeRedistribution",value:function(e,t){return this._readable.getTroveBeforeRedistribution(e,t)}},{key:"getTrove",value:function(e,t){return this._readable.getTrove(e,t)}},{key:"getNumberOfTroves",value:function(e){return this._readable.getNumberOfTroves(e)}},{key:"getPrice",value:function(e){return this._readable.getPrice(e)}},{key:"_getActivePool",value:function(e){return this._readable._getActivePool(e)}},{key:"_getDefaultPool",value:function(e){return this._readable._getDefaultPool(e)}},{key:"getTotal",value:function(e){return this._readable.getTotal(e)}},{key:"getStabilityDeposit",value:function(e,t){return this._readable.getStabilityDeposit(e,t)}},{key:"getRemainingStabilityPoolLQTYReward",value:function(e){return this._readable.getRemainingStabilityPoolLQTYReward(e)}},{key:"getLUSDInStabilityPool",value:function(e){return this._readable.getLUSDInStabilityPool(e)}},{key:"getLUSDBalance",value:function(e,t){return this._readable.getLUSDBalance(e,t)}},{key:"getLQTYBalance",value:function(e,t){return this._readable.getLQTYBalance(e,t)}},{key:"getUniTokenBalance",value:function(e,t){return this._readable.getUniTokenBalance(e,t)}},{key:"getUniTokenAllowance",value:function(e,t){return this._readable.getUniTokenAllowance(e,t)}},{key:"_getRemainingLiquidityMiningLQTYRewardCalculator",value:function(e){return this._readable._getRemainingLiquidityMiningLQTYRewardCalculator(e)}},{key:"getRemainingLiquidityMiningLQTYReward",value:function(e){return this._readable.getRemainingLiquidityMiningLQTYReward(e)}},{key:"getLiquidityMiningStake",value:function(e,t){return this._readable.getLiquidityMiningStake(e,t)}},{key:"getTotalStakedUniTokens",value:function(e){return this._readable.getTotalStakedUniTokens(e)}},{key:"getLiquidityMiningLQTYReward",value:function(e,t){return this._readable.getLiquidityMiningLQTYReward(e,t)}},{key:"getCollateralSurplusBalance",value:function(e,t){return this._readable.getCollateralSurplusBalance(e,t)}},{key:"getTroves",value:function(e,t){return this._readable.getTroves(e,t)}},{key:"_getBlockTimestamp",value:function(e){return this._readable._getBlockTimestamp(e)}},{key:"_getFeesFactory",value:function(e){return this._readable._getFeesFactory(e)}},{key:"getFees",value:function(e){return this._readable.getFees(e)}},{key:"getLQTYStake",value:function(e,t){return this._readable.getLQTYStake(e,t)}},{key:"getTotalStakedLQTY",value:function(e){return this._readable.getTotalStakedLQTY(e)}},{key:"getFrontendStatus",value:function(e,t){return this._readable.getFrontendStatus(e,t)}},{key:"openTrove",value:function(e,t,n){return this.send.openTrove(e,t,n).then(f)}},{key:"closeTrove",value:function(e){return this.send.closeTrove(e).then(f)}},{key:"adjustTrove",value:function(e,t,n){return this.send.adjustTrove(e,t,n).then(f)}},{key:"depositCollateral",value:function(e,t){return this.send.depositCollateral(e,t).then(f)}},{key:"withdrawCollateral",value:function(e,t){return this.send.withdrawCollateral(e,t).then(f)}},{key:"borrowLUSD",value:function(e,t,n){return this.send.borrowLUSD(e,t,n).then(f)}},{key:"repayLUSD",value:function(e,t){return this.send.repayLUSD(e,t).then(f)}},{key:"setPrice",value:function(e,t){return this.send.setPrice(e,t).then(f)}},{key:"liquidate",value:function(e,t){return this.send.liquidate(e,t).then(f)}},{key:"liquidateUpTo",value:function(e,t){return this.send.liquidateUpTo(e,t).then(f)}},{key:"depositLUSDInStabilityPool",value:function(e,t,n){return this.send.depositLUSDInStabilityPool(e,t,n).then(f)}},{key:"withdrawLUSDFromStabilityPool",value:function(e,t){return this.send.withdrawLUSDFromStabilityPool(e,t).then(f)}},{key:"withdrawGainsFromStabilityPool",value:function(e){return this.send.withdrawGainsFromStabilityPool(e).then(f)}},{key:"transferCollateralGainToTrove",value:function(e){return this.send.transferCollateralGainToTrove(e).then(f)}},{key:"sendLUSD",value:function(e,t,n){return this.send.sendLUSD(e,t,n).then(f)}},{key:"sendLQTY",value:function(e,t,n){return this.send.sendLQTY(e,t,n).then(f)}},{key:"redeemLUSD",value:function(e,t,n){return this.send.redeemLUSD(e,t,n).then(f)}},{key:"claimCollateralSurplus",value:function(e){return this.send.claimCollateralSurplus(e).then(f)}},{key:"stakeLQTY",value:function(e,t){return this.send.stakeLQTY(e,t).then(f)}},{key:"unstakeLQTY",value:function(e,t){return this.send.unstakeLQTY(e,t).then(f)}},{key:"withdrawGainsFromStaking",value:function(e){return this.send.withdrawGainsFromStaking(e).then(f)}},{key:"registerFrontend",value:function(e,t){return this.send.registerFrontend(e,t).then(f)}},{key:"_mintUniToken",value:function(e,t,n){return this.send._mintUniToken(e,t,n).then(f)}},{key:"approveUniTokens",value:function(e,t){return this.send.approveUniTokens(e,t).then(f)}},{key:"stakeUniTokens",value:function(e,t){return this.send.stakeUniTokens(e,t).then(f)}},{key:"unstakeUniTokens",value:function(e,t){return this.send.unstakeUniTokens(e,t).then(f)}},{key:"withdrawLQTYRewardFromLiquidityMining",value:function(e){return this.send.withdrawLQTYRewardFromLiquidityMining(e).then(f)}},{key:"exitLiquidityMining",value:function(e){return this.send.exitLiquidityMining(e).then(f)}}],[{key:"_from",value:function(t){return d._usingStore(t)?new h(p.ReadableEthersLiquity._from(t)):new e(p.ReadableEthersLiquity._from(t))}},{key:"connect",value:function(){var t=r(i.mark((function t(n,a){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,d._connect(n,a);case 3:return t.t1=t.sent,t.abrupt("return",t.t0._from.call(t.t0,t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();t.EthersLiquity=m;var h=function(e){o(n,e);var t=u(n);function n(e){var a;return s(this,n),(a=t.call(this,e)).store=e.store,a}return a(n,[{key:"hasStore",value:function(e){return void 0===e||e===this.connection.useStore}}]),n}(m)},434:function(e,t,n){"use strict";var a=n(89),i=n(67);Object.defineProperty(t,"__esModule",{value:!0}),t.useLiquityReducer=void 0;var r=n(1),s=n(268),o=n(213);t.useLiquityReducer=function(e,t){var n=o.useLiquityStore(),u=r.useRef(n),c=r.useRef(t(n.state)),d=r.useReducer((function(){return{}}),{}),l=i(d,2)[1],p=r.useCallback((function(t){var n=e(c.current,t);s.equals(n,c.current)||(c.current=n,l())}),[e]);return r.useEffect((function(){return n.subscribe((function(e){return p(a({type:"updateStore"},e))}))}),[n,p]),u.current!==n&&(c.current=t(n.state),u.current=n),[c.current,p]}},435:function(e,t,n){"use strict";var a=n(67);Object.defineProperty(t,"__esModule",{value:!0}),t.useLiquitySelector=void 0;var i=n(1),r=n(268),s=n(213);t.useLiquitySelector=function(e){var t=s.useLiquityStore(),n=i.useReducer((function(){return{}}),{}),o=a(n,2)[1];return i.useEffect((function(){return t.subscribe((function(t){var n=t.newState,a=t.oldState;r.equals(e(n),e(a))||o()}))}),[t,e]),e(t.state)}},436:function(e){e.exports=JSON.parse('{"BLUSD_AMM_ADDRESS":"0x734Fb2cd1f359F01D24D1388BEd1E4aBF2808e33","BLUSD_AMM_STAKING_ADDRESS":"0x759C09cacF7cc4B5322A1f7cd0581B120531Dd44","BLUSD_TOKEN_ADDRESS":"0x3748676cE3B8A66e56e63d5f856FaA9338615A47","BOND_NFT_ADDRESS":"0x215B1493ac3697F180213c6739CcEBa8d47c6830","CHICKEN_BOND_MANAGER_ADDRESS":"0xF225268879213B8197Ae5f4419A1eDb49c1164dB","LUSD_OVERRIDE_ADDRESS":"0xfba6445eFc521C4F9a1d624915B90041cec4F3E7"}')},569:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERC20Faucet__factory=t.ChickenBondManager__factory=t.BondNFT__factory=t.BLUSDToken__factory=void 0;var a=n(300);Object.defineProperty(t,"BLUSDToken__factory",{enumerable:!0,get:function(){return a.BLUSDToken__factory}});var i=n(301);Object.defineProperty(t,"BondNFT__factory",{enumerable:!0,get:function(){return i.BondNFT__factory}});var r=n(302);Object.defineProperty(t,"ChickenBondManager__factory",{enumerable:!0,get:function(){return r.ChickenBondManager__factory}});var s=n(303);Object.defineProperty(t,"ERC20Faucet__factory",{enumerable:!0,get:function(){return s.ERC20Faucet__factory}})},57:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LUSD_OVERRIDE_ADDRESS=t.BLUSD_AMM_STAKING_ADDRESS=t.BLUSD_AMM_ADDRESS=t.BLUSD_TOKEN_ADDRESS=t.CHICKEN_BOND_MANAGER_ADDRESS=t.BOND_NFT_ADDRESS=void 0;var a=n(436);Object.defineProperty(t,"BOND_NFT_ADDRESS",{enumerable:!0,get:function(){return a.BOND_NFT_ADDRESS}}),Object.defineProperty(t,"CHICKEN_BOND_MANAGER_ADDRESS",{enumerable:!0,get:function(){return a.CHICKEN_BOND_MANAGER_ADDRESS}}),Object.defineProperty(t,"BLUSD_TOKEN_ADDRESS",{enumerable:!0,get:function(){return a.BLUSD_TOKEN_ADDRESS}}),Object.defineProperty(t,"BLUSD_AMM_ADDRESS",{enumerable:!0,get:function(){return a.BLUSD_AMM_ADDRESS}}),Object.defineProperty(t,"BLUSD_AMM_STAKING_ADDRESS",{enumerable:!0,get:function(){return a.BLUSD_AMM_STAKING_ADDRESS}}),Object.defineProperty(t,"LUSD_OVERRIDE_ADDRESS",{enumerable:!0,get:function(){return a.LUSD_OVERRIDE_ADDRESS}})},570:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CurveCryptoSwap2ETH__factory=void 0;var a=n(304);Object.defineProperty(t,"CurveCryptoSwap2ETH__factory",{enumerable:!0,get:function(){return a.CurveCryptoSwap2ETH__factory}})},571:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(106),s=n.n(r),o=n(187),u=n.n(o),c=(n(364),n(109)),d=n(588),l=n(590),p=n(155),b=n(85),y=n(9),f=n(118),m=n(157),h=n(3),v=n.n(h),T=n(18),j=n(6),x=n(258),g=n(25),O={frontendTag:x.a};function w(e,t){return t in e}var _=function(e){var t=Object(j.a)({},O);if("object"===typeof e&&null!==e){if(w(e,"frontendTag")&&""!==e.frontendTag){var n=e.frontendTag;"string"===typeof n&&Object(g.isAddress)(n)?t.frontendTag=Object(g.getAddress)(n):(console.error("Malformed frontendTag:"),console.log(n))}if(w(e,"infuraApiKey")&&""!==e.infuraApiKey){var a=e.infuraApiKey;"string"===typeof a?t.infuraApiKey=a:(console.error("Malformed infuraApiKey:"),console.log(a))}if(w(e,"testnetOnly")){var i=e.testnetOnly;"boolean"===typeof i?t.testnetOnly=i:(console.error("Malformed testnetOnly:"),console.log(i))}}else console.error("Malformed config:"),console.log(e);return t},S=void 0,k=function(){var e=Object(T.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("config.json");case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Failed to fetch config.json (status ".concat(t.status,")"));case 6:return e.t0=_,e.next=9,t.json();case 9:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 13:return e.prev=13,e.t2=e.catch(0),console.error(e.t2),e.abrupt("return",Object(j.a)({},O));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),D=function(){return S||(S=k()),S},E=n(0),M=Object(a.createContext)(void 0),A=["homestead","kovan","rinkeby","ropsten","goerli"],C=function(e){var t=e.children,n=e.loader,i=e.unsupportedNetworkFallback,r=e.unsupportedMainnetFallback,s=Object(c.b)(),o=s.library,u=s.account,d=s.chainId,l=Object(a.useState)(),h=Object(y.a)(l,2),v=h[0],T=h[1],j=Object(a.useMemo)((function(){if(v&&o&&u&&d)try{return Object(m._connectByChainId)(o,o.getSigner(u),d,{userAddress:u,frontendTag:v.frontendTag,useStore:"blockPolled"})}catch(e){}}),[v,o,u,d]);if(Object(a.useEffect)((function(){D().then(T)}),[]),Object(a.useEffect)((function(){if(v&&j){var e=j.provider,t=j.chainId;if(Object(p.isBatchedProvider)(e)&&e.chainId!==t&&(e.chainId=t),Object(p.isWebSocketAugmentedProvider)(e)){var n=Object(f.a)(t);return n.name&&A.includes(n.name)&&v.infuraApiKey?e.openWebSocket.apply(e,Object(b.a)(function(e,t){return["wss://".concat("homestead"===e?"mainnet":e,".infura.io/ws/v3/").concat(t),e]}(n.name,v.infuraApiKey))):j._isDev&&e.openWebSocket("ws://".concat(window.location.hostname,":8546"),t),function(){e.closeWebSocket()}}}}),[v,j]),!v||!o||!u||!d)return Object(E.jsx)(E.Fragment,{children:n});if(v.testnetOnly&&1===d)return Object(E.jsx)(E.Fragment,{children:r});if(!j)return i?Object(E.jsx)(E.Fragment,{children:i(d)}):null;var x=m.EthersLiquity._from(j);return x.store.logging=!0,Object(E.jsx)(M.Provider,{value:{config:v,account:u,provider:o,liquity:x},children:t})},L=function(){var e=Object(a.useContext)(M);if(!e)throw new Error("You must provide a LiquityContext via LiquityProvider");return e},R=new(n(337).a)({});var I=n(74),P=n(121),B=n(41),F=n(231),N=n(310);P.b.add(B.l,B.h,B.i,B.p,B.u,B.y,B.z,B.g,B.x,B.t,B.j,B.k,F.a,B.m,B.A,B.B,B.q,B.n,B.w,B.o,B.d,B.b,B.c,B.a,B.v,B.r,B.s,B.f,F.b,B.e);var U=function(e){switch(e){case"clipboard":return["far","clipboard"];case"question-circle":return["far","question-circle"];default:return e}},q=function(e){var t=e.name,n=e.style,a=Object(I.a)(e,["name","style"]);return Object(E.jsx)(N.a,Object(j.a)({style:n,icon:U(t)},a))},Y=function(e){switch(e){case"success":return Object(E.jsx)(q,{name:"check-circle",color:"success","aria-label":"Success"});case"warning":return Object(E.jsx)(q,{name:"exclamation-triangle",color:"warning","aria-label":"Warning"});case"danger":return Object(E.jsx)(q,{name:"exclamation-triangle",color:"danger","aria-label":"Danger"});case"info":return Object(E.jsx)(q,{name:"info-circle",color:"info","aria-label":"Info"})}return null},G=function(e){var t=e.intent,n=e.title,a=e.icon,i=e.cancelLabel,r=e.onCancel,s=e.children;return Object(E.jsxs)(d.d,{sx:{p:0,borderRadius:"4px"},children:[t?Object(E.jsx)(d.b,{sx:{height:"4px",bg:t,borderRadius:"3px 3px 0 0"}}):null,Object(E.jsxs)(d.h,{sx:{justifyContent:"space-between",alignItems:"center",borderBottom:1,borderColor:"muted",p:[3,4],pb:3},children:[a||Y(t),Object(E.jsx)(d.j,{as:"h1",sx:{textAlign:"center",fontSize:[2,3],px:[3,0]},children:n}),Object(E.jsx)(d.c,{variant:"icon",onClick:r,children:Object(E.jsx)(q,{name:"times",size:"lg","aria-label":i||"Cancel"})})]}),s]})},Q=function(e){var t=e.title,n=e.cancelLabel,a=e.onCancel,i=e.retryLabel,r=e.onRetry,s=e.children;return Object(E.jsxs)(G,{intent:"danger",title:t,cancelLabel:n,onCancel:a,children:[Object(E.jsx)(d.b,{sx:{p:[3,4]},children:s}),Object(E.jsxs)(d.h,{sx:{p:[3,4],borderTop:1,borderColor:"muted",justifyContent:"flex-end",flexDirection:["column","row"],alignItems:"center"},children:[Object(E.jsx)(d.c,{variant:"danger",sx:{mr:[0,3],mb:[2,0],width:["100%","auto"]},onClick:a,children:n||"Cancel"}),Object(E.jsx)(d.c,{sx:{width:["100%","auto"]},onClick:r,children:i||"Retry"})]})]})},W=function(e){var t=e.title,n=e.icon,a=e.waitReason,i=e.cancelLabel,r=e.onCancel,s=e.children;return Object(E.jsxs)(G,{title:t,icon:n,cancelLabel:i,onCancel:r,children:[s,Object(E.jsx)(d.b,{sx:{px:[3,4],pb:[3,4]},children:Object(E.jsxs)(d.h,{sx:{flexDirection:["column","row"],bg:"muted",p:[3,4],alignItems:["center","auto"]},children:[Object(E.jsx)(d.s,{size:"3em",sx:{mr:[0,3],mb:[2,0]}}),Object(E.jsx)(d.h,{sx:{flexDirection:"column",alignItems:["center","flex-start"]},children:a})]})})]})},H=function(e){var t=e.title,n=e.icon,a=e.onCancel,i=e.children;return Object(E.jsx)(W,{title:t,icon:n,waitReason:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(d.t,{sx:{fontWeight:"bold"},children:"Waiting for connection confirmation..."}),Object(E.jsx)(d.t,{children:"This won\u2019t cost you any Ether"})]}),cancelLabel:"Cancel connection",onCancel:a,children:Object(E.jsx)(d.b,{sx:{p:[3,4]},children:i})})},V=function(){return Object(E.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(E.jsx)("title",{children:"MetaMask extension icon"}),Object(E.jsx)("path",{d:"M8.49025 3.49976L1.49216 0.499756L0.492432 3.49976L2.49189 11.9998L21.4867 11.4998L23.4861 3.49976L21.9866 0.499756L15.4883 3.49976H8.49025Z",fill:"#763D16"}),Object(E.jsx)("path",{d:"M6.99048 11.9998H17.9875V18.9998H6.99048V11.9998Z",fill:"#333333"}),Object(E.jsx)("rect",{x:"7.99023",y:"16.9998",width:"5.99836",height:"3",fill:"#333333"}),Object(E.jsx)("path",{d:"M1.58124 10.6642C1.72755 10.8311 1.76935 11.0607 1.70665 11.2485L0.222731 15.8398C0.18093 15.9651 0.18093 16.0903 0.222731 16.1946L1.51854 20.6398C1.62304 20.9738 1.95745 21.1616 2.27095 21.0572L6.7227 19.8259C6.9108 19.7633 7.1198 19.8259 7.287 19.9511L8.06031 20.5772C8.08121 20.5981 8.08121 20.5981 8.10211 20.5981L10.0249 21.9338C10.1294 21.9964 10.2548 22.0381 10.3802 22.0381H13.5989C13.7243 22.0381 13.8497 21.9964 13.9542 21.9338L15.877 20.5981C15.8979 20.5981 15.8979 20.5772 15.9188 20.5772L16.6921 19.9511C16.8384 19.8259 17.0474 19.7842 17.2564 19.8259L21.7081 21.0572C22.0426 21.1407 22.377 20.9529 22.4606 20.6398L23.7564 16.1946C23.7982 16.0694 23.7982 15.9442 23.7564 15.8398L22.2725 11.2485C22.2098 11.0398 22.2516 10.8311 22.3979 10.6642L23.9863 3.54766C24.0072 3.44331 24.0072 3.33897 23.9654 3.23462L23.0249 0.417226C22.9204 0.0833133 22.5442 -0.0836433 22.2098 0.0415742L15.2709 2.6294C15.2082 2.65027 15.1246 2.67114 15.0619 2.67114H8.91722C8.83362 2.67114 8.77092 2.65027 8.70822 2.6294L1.76935 0.0415742C1.43494 -0.0836433 1.05874 0.0833133 0.954238 0.417226L0.0346286 3.23462C-0.00717182 3.3181 -0.00717182 3.44331 0.0137284 3.54766L1.58124 10.6642ZM13.996 14.2537L14.5185 13.1685C14.5812 13.0433 14.7484 12.9807 14.8738 13.0433L16.1278 13.6068C16.3577 13.7111 16.3368 14.0451 16.086 14.1285L14.3304 14.6503C14.1005 14.7129 13.8915 14.4833 13.996 14.2537ZM13.8915 6.71984C13.7661 6.61549 13.7661 6.40679 13.9124 6.32331L21.8126 0.918096C21.9381 0.834618 22.1262 0.876357 22.1889 1.04331L23.1712 3.73549C23.1921 3.77723 23.1921 3.81897 23.1712 3.88157L21.5618 10.0798C21.52 10.2051 21.3946 10.2677 21.2692 10.2259L16.922 9.05723C16.8802 9.05723 16.8593 9.03636 16.8384 9.01549L13.8915 6.71984ZM10.0667 19.5338L10.213 18.3233C10.213 18.2607 10.2548 18.1981 10.3175 18.1564L10.6101 17.9477C10.6519 17.9268 10.6937 17.9059 10.7355 17.9059H13.2018C13.2436 17.9059 13.3063 17.9268 13.3272 17.9477L13.6198 18.1564C13.6825 18.1981 13.7034 18.2607 13.7243 18.3233L13.8497 19.5338C13.8706 19.6798 13.7452 19.8051 13.6198 19.8051H10.2757C10.1712 19.8051 10.0667 19.6798 10.0667 19.5338ZM7.85131 13.6068L9.10532 13.0433C9.25162 12.9807 9.39792 13.0433 9.46062 13.1685L9.98313 14.2537C10.0876 14.4624 9.87863 14.692 9.64873 14.6294L7.87221 14.1077C7.64231 14.0451 7.62141 13.7111 7.85131 13.6068ZM0.807936 3.86071C0.787036 3.81897 0.807936 3.75636 0.807936 3.71462L1.79025 1.04331C1.85295 0.897226 2.04105 0.834618 2.16645 0.918096L10.0667 6.32331C10.213 6.42766 10.213 6.61549 10.0876 6.71984L7.1407 9.01549C7.1198 9.03636 7.078 9.05723 7.0571 9.05723L2.70986 10.2259C2.58445 10.2677 2.45905 10.2051 2.41725 10.0798L0.807936 3.86071Z",fill:"#F36D34"})]})},Z=function(e){var t=e.children;return Object(E.jsx)(d.g,{variant:"modalOverlay",children:Object(E.jsx)(d.g,{variant:"modal",children:t})})},z=function(e,t){switch(t.type){case"startActivating":return{type:"activating",connector:t.connector};case"finishActivating":return{type:"active",connector:"inactive"===e.type?R:e.connector};case"fail":if("inactive"!==e.type)return{type:t.error.message.match(/user rejected/i)?"rejectedByUser":t.error.message.match(/already pending/i)?"alreadyPending":"failed",connector:e.connector};break;case"retry":if("inactive"!==e.type)return{type:"activating",connector:e.connector};break;case"cancel":case"deactivate":return{type:"inactive"}}return console.warn("Ignoring connectionReducer action:"),console.log(t),console.log("  in state:"),console.log(e),e},K=function(e){var t=e.children,n=e.loader,i=Object(c.b)(),r=i.activate,s=i.deactivate,o=i.active,u=i.error,l=function(){var e=Object(c.b)(),t=e.activate,n=e.active,i=Object(a.useState)(!1),r=Object(y.a)(i,2),s=r[0],o=r[1];return Object(a.useEffect)((function(){!function(){var e=Object(T.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.isAuthorized();case 3:if(!e.sent){e.next=8;break}return e.next=6,t(R,void 0,!0);case 6:e.next=9;break;case 8:throw new Error("Unauthorized");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),o(!0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(a.useEffect)((function(){n&&o(!0)}),[n]),s}(),p=Object(a.useReducer)(z,{type:"inactive"}),b=Object(y.a)(p,2),f=b[0],m=b[1],h=function(){var e,t;return null!==(e=null===(t=window.ethereum)||void 0===t?void 0:t.isMetaMask)&&void 0!==e&&e}();return Object(a.useEffect)((function(){u&&(m({type:"fail",error:u}),s())}),[u,s]),Object(a.useEffect)((function(){m(o?{type:"finishActivating"}:{type:"deactivate"})}),[o]),l?"active"===f.type?Object(E.jsx)(E.Fragment,{children:t}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(d.h,{sx:{height:"100vh",justifyContent:"center",alignItems:"center"},children:Object(E.jsx)(d.c,{onClick:function(){m({type:"startActivating",connector:R}),r(R)},children:h?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(V,{}),Object(E.jsx)(d.b,{sx:{ml:2},children:"Connect to MetaMask"})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(q,{name:"plug",size:"lg"}),Object(E.jsx)(d.b,{sx:{ml:2},children:"Connect wallet"})]})})}),"failed"===f.type&&Object(E.jsx)(Z,{children:Object(E.jsxs)(Q,{title:h?"Failed to connect to MetaMask":"Failed to connect wallet",onCancel:function(){return m({type:"cancel"})},onRetry:function(){m({type:"retry"}),r(f.connector)},children:[Object(E.jsx)(d.b,{sx:{textAlign:"center"},children:"You might need to install MetaMask or use a different browser."}),Object(E.jsxs)(d.n,{sx:{lineHeight:3},href:"https://metamask.io/download.html",target:"_blank",children:["Learn more ",Object(E.jsx)(q,{size:"xs",name:"external-link-alt"})]})]})}),"activating"===f.type&&Object(E.jsx)(Z,{children:Object(E.jsx)(H,{title:h?"Confirm connection in MetaMask":"Confirm connection in your wallet",icon:h?Object(E.jsx)(V,{}):Object(E.jsx)(q,{name:"wallet",size:"lg"}),onCancel:function(){return m({type:"cancel"})},children:Object(E.jsxs)(d.t,{sx:{textAlign:"center"},children:["Confirm the request that's just appeared.",h?Object(E.jsx)(E.Fragment,{children:" If you can't see a request, open your MetaMask extension via your browser."}):Object(E.jsx)(E.Fragment,{children:" If you can't see a request, you might have to open your wallet."})]})})}),"rejectedByUser"===f.type&&Object(E.jsx)(Z,{children:Object(E.jsx)(Q,{title:"Cancel connection?",onCancel:function(){return m({type:"cancel"})},onRetry:function(){m({type:"retry"}),r(f.connector)},children:Object(E.jsx)(d.t,{children:"To use Maddy Protocol, you need to connect your Ethereum account."})})}),"alreadyPending"===f.type&&Object(E.jsx)(Z,{children:Object(E.jsx)(Q,{title:"Connection already requested",onCancel:function(){return m({type:"cancel"})},onRetry:function(){m({type:"retry"}),r(f.connector)},children:Object(E.jsx)(d.t,{children:"Please check your wallet and accept the connection request before retrying."})})})]}):Object(E.jsx)(E.Fragment,{children:n})},J=n(2),X=n(336),$=(n(266),n(592));function ee(e){var t=e.children,n=e.message,r=e.placement,s=void 0===r?"top":r,o=Object(a.useRef)(),u=Object(a.useState)(!1),c=Object(y.a)(u,2),l=c[0],p=c[1],b=Object(a.useState)(),f=Object(y.a)(b,2),m=f[0],h=f[1],v=Object(a.useState)(),T=Object(y.a)(v,2),x=T[0],g=T[1],O=Object($.a)(m,x,{placement:s}),w=O.styles,_=O.attributes;return Object(E.jsxs)(E.Fragment,{children:[i.a.cloneElement(i.a.Children.only(t),{onMouseOver:function(){o.current="over",l||p(!0)},onMouseOut:function(){o.current="out",setTimeout((function(){"out"===o.current&&p(!1)}),0)},ref:h}),l&&Object(E.jsx)(d.d,Object(j.a)(Object(j.a)({variant:"tooltip",ref:g,style:w.popper},_.popper),{},{children:n}))]})}var te=n(158),ne={strokeLinecap:"butt",pathColor:"white",trailColor:"rgba(255, 255, 255, 0.33)"},ae={strokeWidth:10,styles:Object(te.b)(Object(j.a)(Object(j.a)({},ne),{},{pathTransitionDuration:30}))},ie={strokeWidth:10,styles:Object(te.b)(Object(j.a)(Object(j.a)({},ne),{},{pathTransitionDuration:.75}))},re=Object(a.memo)(te.a,(function(e,t){return e.value===t.value})),se=function(e){var t=e.state,n=Object(a.useState)(0),i=Object(y.a)(n,2),r=i[0],s=i[1];return Object(a.useEffect)((function(){"confirmed"===t?setTimeout((function(){return s(1)}),40):setTimeout((function(){return s(.67)}),20)}),[t]),"confirmed"===t?Object(E.jsx)(re,Object(j.a)(Object(j.a)({},Object(j.a)({value:r,maxValue:1},ie)),{},{children:Object(E.jsx)(q,{name:"check",color:"white",size:"lg"})})):"failed"===t||"cancelled"===t?Object(E.jsx)(re,Object(j.a)(Object(j.a)({value:0},Object(j.a)({maxValue:1},ie)),{},{children:Object(E.jsx)(q,{name:"times",color:"white",size:"lg"})})):Object(E.jsx)(re,Object(j.a)(Object(j.a)({},Object(j.a)({value:r,maxValue:1},ae)),{},{children:Object(E.jsx)(q,{name:"cog",color:"white",size:"lg",spin:!0})}))},oe=function(e){var t=e.state,n=e.message,a=e.style;return"idle"===t||"waitingForApproval"===t?null:Object(E.jsxs)(d.h,{sx:Object(j.a)({alignItems:"center",bg:"confirmed"===t?"success":"cancelled"===t?"warning":"failed"===t?"danger":"primary",p:3,pl:4,position:"fixed",width:"100vw",bottom:0,overflow:"hidden"},a),children:[Object(E.jsx)(d.b,{sx:{mr:3,width:"40px",height:"40px"},children:Object(E.jsx)(se,{state:t})}),Object(E.jsx)(d.t,{sx:{fontSize:3,color:"white"},children:"waitingForConfirmation"===t?"Waiting for confirmation":"cancelled"===t?"Cancelled":"failed"===t?n||"Transaction failed. Please try again.":"Confirmed"})]})},ue=i.a.createContext(void 0),ce=function(e){var t=e.children,n=Object(a.useState)({type:"idle"});return Object(E.jsx)(ue.Provider,{value:n,children:t})},de=function(){var e=Object(a.useContext)(ue);if(!e)throw new Error("You must provide a TransactionContext via TransactionProvider");return e},le=function(e){var t=de(),n=Object(y.a)(t,1)[0];return"idle"!==n.type&&("string"===typeof e?n.id===e:n.id.match(e))?n:{type:"idle"}},pe=function(e,t){var n=de(),i=Object(y.a)(n,2),r=i[0],s=i[1];return[Object(a.useCallback)(Object(T.a)(v.a.mark((function n(){var a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s({type:"waitingForApproval",id:e}),n.prev=1,n.next=4,t();case 4:a=n.sent,s({type:"waitingForConfirmation",id:e,tx:a}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),"object"===typeof(i=n.t0)&&null!==i&&"message"in i&&"string"===typeof i.message&&n.t0.message.includes("User denied transaction signature")?s({type:"cancelled",id:e}):(console.error(n.t0),s({type:"failed",id:e,error:new Error("Failed to send transaction (try again)")}));case 11:case"end":return n.stop()}var i}),n,null,[[1,8]])}))),[t,e,s]),r]};function be(e){var t,n=e.id,a=e.tooltip,r=e.tooltipPlacement,s=e.showFailure,o=e.requires,u=e.send,c=e.children,d=pe(n,u),l=Object(y.a)(d,2),p=l[0],b=l[1],f=i.a.Children.only(c),m=(o||[]).filter((function(e){return!Object(y.a)(e,1)[0]})).map((function(e){return Object(y.a)(e,2)[1]}));"waitingForApproval"!==b.type&&"waitingForConfirmation"!==b.type||m.push("You must wait for confirmation");var h="asChildText"===(s=m.length>0?null!==(t=s)&&void 0!==t?t:a?"asTooltip":"asChildText":void 0)?i.a.cloneElement(f,{disabled:!0,variant:"danger"},m[0]):"asTooltip"===s?i.a.cloneElement(f,{disabled:!0}):i.a.cloneElement(f,{onClick:p});return"asTooltip"===s&&(a=m[0]),a?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ee,{message:a,placement:r||"right",children:h})}):h}var ye,fe,me=function(){var e=Object(T.a)(v.a.mark((function e(t,n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.call(n,n.blockNumber);case 3:if(a=e.sent,Object(J.hexDataLength)(a)%32!==4||"0x08c379a0"!==Object(J.hexDataSlice)(a,0,4)){e.next=6;break}return e.abrupt("return",X.b.decode(["string"],Object(J.hexDataSlice)(a,4))[0]);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=L().provider,t=de(),n=Object(y.a)(t,2),i=n[0],r=n[1],s="idle"!==i.type?i.id:void 0,o="waitingForConfirmation"===i.type?i.tx:void 0;return Object(a.useEffect)((function(){if(s&&o){var t=!1,n=!1,a=o.rawSentTransaction.hash,i=function(){var i=Object(T.a)(v.a.mark((function i(){var u,c,d,l;return v.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,o.waitForReceipt();case 3:if(u=i.sent,!t){i.next=6;break}return i.abrupt("return");case 6:if(c=u.rawReceipt.confirmations,d=u.rawReceipt.blockNumber+c-1,console.log("Block #".concat(d," ").concat(c,"-confirms tx ").concat(a)),console.log("Finish monitoring tx ".concat(a)),n=!0,"succeeded"!==u.status){i.next=16;break}console.log("".concat(u)),r({type:"confirmedOneShot",id:s}),i.next=24;break;case 16:return i.next=18,me(e,u.rawReceipt);case 18:if(l=i.sent,!t){i.next=21;break}return i.abrupt("return");case 21:console.error("Tx ".concat(a," failed")),l&&console.error("Revert reason: ".concat(l)),r({type:"failed",id:s,error:new Error(l?"Reverted: ".concat(l):"Failed")});case 24:i.next=32;break;case 26:if(i.prev=26,i.t0=i.catch(0),!t){i.next=30;break}return i.abrupt("return");case 30:n=!0,i.t0 instanceof m.EthersTransactionCancelledError?(console.log("Cancelled tx ".concat(a)),r({type:"cancelled",id:s})):(console.error("Failed to get receipt for tx ".concat(a)),console.error(i.t0),r({type:"failed",id:s,error:new Error("Failed")}));case 32:case"end":return i.stop()}}),i,null,[[0,26]])})));return function(){return i.apply(this,arguments)}}();return console.log("Start monitoring tx ".concat(a)),i(),function(){n||(r({type:"idle"}),console.log("Cancel monitoring tx ".concat(a)),t=!0)}}}),[e,s,o,r]),Object(a.useEffect)((function(){if("confirmedOneShot"===i.type&&s)r({type:"confirmed",id:s});else if("confirmed"===i.type||"failed"===i.type||"cancelled"===i.type){var e=!1;return setTimeout((function(){e||r({type:"idle"})}),5e3),function(){e=!0}}}),[i.type,r,s]),"idle"===i.type||"waitingForApproval"===i.type?null:Object(E.jsx)(oe,{state:i.type,message:"failed"===i.type?i.error.message:void 0})},ve="#1542cd",Te="#745ddf",je="#2eb6ea",xe="#28c081",ge="#fd9d28",Oe="#dc2c10",we="#ff755f",_e={primary:ve,secondary:Te,accent:je,success:xe,warning:ge,danger:Oe,dangerHover:we,info:ve,invalid:"pink",text:"rgb(255, 255, 255)",background:"rgb(10, 10, 30)",muted:"#eaebed",highlight:"#efeffe"},Se={display:"flex",alignItems:"center",justifyContent:"center",":enabled":{cursor:"pointer"}},ke=Object(j.a)(Object(j.a)({},Se),{},{px:"32px",py:"12px",color:"white",border:1,fontWeight:"bold",":disabled":{opacity:.5}}),De=function(e,t){return{color:e,borderColor:e,background:"none",":enabled:hover":{color:"background",bg:t,borderColor:t}}},Ee=Object(j.a)(Object(j.a)({},Se),{},{padding:0,width:"40px",height:"40px",background:"none",":disabled":{color:"text",opacity:.25}}),Me=18.7167,Ae=[0,3,4],Ce=[3,3,4],Le={position:"relative",mt:Ce,border:1,boxShadow:[1,null,2]},Re=Object(j.a)(Object(j.a)({},Le),{},{padding:3,borderColor:"rgba(122,199,240,0.4)",background:"linear-gradient(200deg, #d4d9fc, #cae9f9)",h2:{mb:2,fontSize:Me}}),Ie={display:"block",width:"auto",flexShrink:0,padding:2,fontSize:3},Pe=Object(j.a)(Object(j.a)({},Ie),{},{bg:"background",border:1,borderColor:"muted",borderRadius:0,boxShadow:[1,2]}),Be={position:"fixed",left:0,top:0,width:"100vw",height:"100vh"},Fe={background:"linear-gradient(90deg, ".concat(_e.background,", ").concat(_e.muted,")")},Ne={breakpoints:["48em","52em","64em"],space:[0,4,8,16,32,64,128,256,512],fonts:{body:["system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"sans-serif"].join(", "),heading:"inherit",monospace:"Menlo, monospace"},fontSizes:[12,14,16,20,24,32,48,64,96],fontWeights:{body:400,heading:600,light:200,medium:500,bold:600},lineHeights:{body:1.5,heading:1.25},colors:_e,borders:[0,"1px solid","2px solid"],shadows:["0","0px 4px 8px rgba(41, 49, 71, 0.1)","0px 8px 16px rgba(41, 49, 71, 0.1)"],text:{address:{fontFamily:"monospace",fontSize:1}},buttons:{primary:Object(j.a)(Object(j.a)({},ke),{},{bg:"primary",borderColor:"primary",":enabled:hover":{bg:"secondary",borderColor:"secondary"}}),outline:Object(j.a)(Object(j.a)({},ke),De("primary","secondary")),cancel:Object(j.a)(Object(j.a)(Object(j.a)({},ke),De("text","text")),{},{opacity:.8}),danger:Object(j.a)(Object(j.a)({},ke),{},{bg:"danger",borderColor:"danger",":enabled:hover":{bg:"dangerHover",borderColor:"dangerHover"}}),icon:Object(j.a)(Object(j.a)({},Ee),{},{color:"primary",":enabled:hover":{color:"accent"}}),dangerIcon:Object(j.a)(Object(j.a)({},Ee),{},{color:"danger",":enabled:hover":{color:"dangerHover"}}),titleIcon:Object(j.a)(Object(j.a)({},Ee),{},{color:"text",":enabled:hover":{color:"success"}}),close:{cursor:"pointer"}},cards:{primary:Object(j.a)(Object(j.a)({},Le),{},{padding:0,borderColor:"muted",bg:"background","> h2":{display:"flex",justifyContent:"space-between",alignItems:"center",height:"56px",pl:3,py:2,pr:2,bg:"muted",fontSize:Me}}),info:Object(j.a)(Object(j.a)({},Re),{},{display:["none","block"]}),infoPopup:Object(j.a)(Object(j.a)({},Re),{},{position:"fixed",top:0,right:3,left:3,mt:"72px",height:"80%",overflowY:"scroll"}),tooltip:{padding:2,border:1,borderColor:"muted",borderRadius:"4px",bg:"background",boxShadow:2,fontSize:1,color:"text",fontWeight:"body",zIndex:1}},forms:{label:Object(j.a)({},Ie),radioLabel:{mr:3,width:"unset",svg:{mr:1}},unit:Object(j.a)(Object(j.a)({},Pe),{},{textAlign:"center",bg:"muted"}),input:Object(j.a)(Object(j.a)({},Pe),{},{flex:1}),editor:{}},layout:{header:Object(j.a)(Object(j.a)({display:"flex",justifyContent:"space-between",alignItems:"stretch",position:["fixed","relative"],top:0,zIndex:1,px:[2,"12px","12px",5],py:[2,"12px","12px"]},Fe),{},{boxShadow:[1,"none"]}),footer:{display:"flex",alignItems:"center",justifyContent:"center",mt:Ce,px:3,minHeight:"72px",bg:"muted"},main:{width:"100%",maxWidth:"1280px",mx:"auto",mt:["40px",0],mb:["40px","40px"],px:Ae},columns:{display:"flex",flexWrap:"wrap",justifyItems:"center"},left:{pr:Ae,width:["100%","58%"]},right:{width:["100%","42%"]},actions:{justifyContent:"flex-end",mt:2,button:{ml:2}},disabledOverlay:Object(j.a)(Object(j.a)({},{position:"absolute",left:0,top:0,width:"100%",height:"100%"}),{},{bg:"rgba(255, 255, 255, 0.5)"}),modalOverlay:Object(j.a)(Object(j.a)({},Be),{},{bg:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center"}),modal:{padding:3,width:["100%","40em"]},infoOverlay:Object(j.a)(Object(j.a)({},Be),{},{display:["block","none"],bg:"rgba(255, 255, 255, 0.8)"}),infoMessage:{display:"flex",justifyContent:"center",m:3,alignItems:"center",minWidth:"128px"},sidenav:Object(j.a)({display:["flex","none"],flexDirection:"column",p:0,m:0,borderColor:"muted",mr:"25vw",height:"100%"},Fe),badge:{border:0,borderRadius:3,p:1,px:2,backgroundColor:"muted",color:"slate",fontSize:1,fontWeight:"body"}},styles:{root:{fontFamily:"body",lineHeight:"body",fontWeight:"body",height:"100%","#root":{height:"100%"}},a:{color:"primary",":hover":{color:"accent"},textDecoration:"none",fontWeight:"bold"},progress:{color:_e.success}},links:{nav:{px:2,py:1,fontWeight:"medium",fontSize:2,textTransform:"uppercase",letterSpacing:"2px",width:["100%","auto"],mt:[3,"auto"]}}},Ue=Ne,qe=n(11),Ye=n(12),Ge=n(84),Qe=n(7),We=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;Object(qe.a)(this,e),this.url=void 0,this.id=0,this.wallet=void 0,this.funderWallet=void 0,this.ethAmount=void 0,this.haveFunded=!1,this.url=t,this.wallet=Ge.a.createRandom(),this.funderWallet=new Ge.a(n),this.ethAmount=Qe.Decimal.from(a)}return Object(Ye.a)(e,[{key:"findWallet",value:function(e){var t=[this.wallet,this.funderWallet].find((function(t){return t.address.toLowerCase()===e.toLowerCase()}));if(!t)throw new Error("Unknow account ".concat(e));return t}},{key:"fund",value:function(){var e=Object(T.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.send("eth_sendTransaction",[{from:this.funderWallet.address,to:this.wallet.address,value:this.ethAmount.hex,gas:Object(J.hexlify)(21e3)}]));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=Object(T.a)(v.a.mark((function e(t,n){var a,i,r,s,o,u,c=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.haveFunded){e.next=4;break}return this.haveFunded=!0,e.next=4,this.fund();case 4:e.t0=t,e.next="eth_accounts"===e.t0||"eth_requestAccounts"===e.t0?7:"eth_sendTransaction"===e.t0?8:13;break;case 7:return e.abrupt("return",[this.wallet.address]);case 8:return e.t1=this,e.next=11,Promise.all(n.map(function(){var e=Object(T.a)(v.a.mark((function e(t){var n,a,i,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.from,a=t.nonce,i=t.gas,r=Object(I.a)(t,["from","nonce","gas"]),void 0!==a){e.next=5;break}return e.next=4,c.send("eth_getTransactionCount",[n]);case 4:a=e.sent;case 5:return e.abrupt("return",c.findWallet(n).signTransaction(Object(j.a)(Object(j.a)({from:n,nonce:a},void 0!==i?{gasLimit:i}:{}),r)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return e.t2=e.sent,e.abrupt("return",e.t1.send.call(e.t1,"eth_sendRawTransaction",e.t2));case 13:return e.next=15,fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:t,params:n,id:this.id++,jsonrpc:"2.0"})});case 15:return a=e.sent,e.next=18,a.json();case 18:if(!(i=e.sent).error){e.next=23;break}throw r=i.error,s=r.message,o=Object(I.a)(r,["message"]),u=new Error("".concat(s," ").concat(JSON.stringify(o))),Object.assign(u,o);case 23:return e.abrupt("return",i.result);case 24:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"request",value:function(e){var t=e.method,n=e.params;return this.send(t,n)}}]),e}(),He=n(132),Ve=n(52),Ze=n(23),ze="MSD",Ke="MADDY",Je=function(e){return e.substr(0,6)+"..."+e.substr(-4)},Xe={term:"Bonds",description:"List of your pending bonds and bonds you have claimed or cancelled in the past."},$e="You don't have any pending bonds.",et="You can bond MSD to obtain Boosted MSD (bMSD) - a yield-amplified derivative of MSD.",tt="Bond created",nt="The date you created your bond.",at="Bonds are represented as unique visual NFTs. The NFT image evolves when your bond is claimed or cancelled.",it={term:"Break-even time",description:"Estimated time at which the bond will have accrued enough bMSD to offset the MSD cost of the bond, under current market prices."},rt={term:"Rebond time",description:"Estimated optimum time to claim the bond, sell the bMSD for MSD, and then bond again, to maximize your return under current market prices."},st={term:"".concat(rt.term," return"),description:"Estimated return from selling your accrued bMSD to MSD at the ".concat(rt.term,", minus the initial MSD cost of the bond, under current market prices.")},ot={term:"".concat(rt.term," ROI"),description:"Estimated ROI of selling your accrued bMSD to MSD at the ".concat(rt.term,", minus the initial MSD cost of the bond, under current market prices.")},ut={term:"Max APR",description:"Estimated APY of continuously bonding and claiming at the ".concat(rt.term,", under current market prices. Rebonding at other times could lead to a lower APY.")},ct=("The required amount of bMSD to accrue for the ".concat(rt.term,", under current market prices."),{term:"Deposit",description:"The amount deposited into the bond, which can be fully recovered by cancelling the bond."}),dt={term:"Accruing",description:"The amount of bMSD this bond has accrued so far."},lt={term:"Accrued value",description:"Current market value of the accrued bMSD. The bMSD market price can fluctuate but will always be higher than the floor price under rational market conditions."},pt="Claim-now return",bt="Expected MSD gained from claiming the bond now and selling the bMSD for MSD and deducting the initial cost of the bond, under current market prices.",yt="Cancel bond",ft="Claim bond",mt="Market price",ht="The current price of bMSD according to the bMSD/MSD Curve pool.",vt="Fair price",Tt="An estimation of the market price for bMSD based on the current yield amplification.",jt="Total bonds",xt="The total number of bonds, historic and current.",gt="Pending bonds",Ot="The current number of active bonds in the system which are not yet claimed or cancelled.",wt="Cancelled bonds",_t="The total number of bonds which were cancelled.",St="Claimed bonds",kt="The total number of bonds which were claimed.",Dt="Total supply",Et="The total amount of bMSD in circulation. Not including pending bonds accrued bMSD.",Mt="Floor price",At="The amount of MSD that an arbitrageur could redeem bMSD for thus creating a lower bound bMSD market price.",Ct="Total",Lt="The total amount of MSD held by the protocol within the three buckets (Pending, Reserve, Permanent).",Rt="Pending",It="Contains the deposited MSD of the users while they bond. Pending bonds can be claimed or cancelled any time, moving the MSD into the Reserve and Permanent buckets, or back to the bonder, respectively.",Pt="Reserve",Bt="Contains a portion of the MSD obtained from claimed bonds and captures the yield from the entire Treasury. It acts as a reserve backing the bMSD supply. bMSD can be redeemed for a pro-rata share of the MSD held in the acquired bucket.",Ft="Permanent",Nt="Contains a portion of the MSD obtained from claimed bonds which contributes a permanent price premium over MSD. The MSD in this bucket is not redeemable.",Ut=Object(a.createContext)(null),qt=function(){var e=Object(a.useContext)(Ut);if(null===e)throw new Error("You must add a <BondViewProvider> into the React tree");return e},Yt={PENDING:"Pending",CANCELLED:"Cancelled",CLAIMED:"Claimed",NON_EXISTENT:"NON_EXISTENT"},Gt=n(57),Qt=function(e){return{accountBalance:e.accountBalance,lusdBalance:e.lusdBalance,lqtyBalance:e.lqtyBalance}},Wt=function(){var e=L().account,t=Object(Ze.useLiquitySelector)(Qt),n=t.accountBalance,a=t.lusdBalance,i=t.lqtyBalance,r=qt(),s=r.bLusdBalance,o=r.lusdBalance,u=null===Gt.LUSD_OVERRIDE_ADDRESS?a:o;return Object(E.jsxs)(d.b,{sx:{display:["none","flex"]},children:[Object(E.jsxs)(d.h,{sx:{alignItems:"center"},children:[Object(E.jsx)(q,{name:"user-circle",size:"lg"}),Object(E.jsxs)(d.h,{sx:{ml:3,mr:4,flexDirection:"column"},children:[Object(E.jsx)(d.j,{sx:{fontSize:1},children:"Connected as"}),Object(E.jsx)(d.t,{as:"span",sx:{fontSize:1},children:Je(e)})]})]}),Object(E.jsxs)(d.h,{sx:{alignItems:"center"},children:[Object(E.jsx)(q,{name:"wallet",size:"lg"}),[["ETH",n],[ze,Qe.Decimal.from(u||0)],[Ke,Qe.Decimal.from(i)],["bMSD",Qe.Decimal.from(s||0)]].map((function(e,t){var n=Object(y.a)(e,2),a=n[0],i=n[1];return Object(E.jsxs)(d.h,{sx:{ml:3,flexDirection:"column"},children:[Object(E.jsx)(d.j,{sx:{fontSize:1},children:a}),Object(E.jsx)(d.t,{sx:{fontSize:1},children:i.prettify()})]},t)}))]})]})},Ht=n(338),Vt=function(e){var t=e.placement,n=void 0===t?"right":t,a=e.tooltip,i=e.size,r=void 0===i?"1x":i;return Object(E.jsx)(Ht.a,{interactive:!0,placement:n,content:a,maxWidth:"268px",children:Object(E.jsxs)("span",{children:["\xa0",Object(E.jsx)(q,{name:"question-circle",size:r})]})})},Zt=function(e){var t=e.name,n=e.tooltip,a=e.children;return Object(E.jsxs)(d.h,{sx:{borderBottom:1,borderColor:"rgba(0, 0, 0, 0.1)"},children:[Object(E.jsxs)(d.h,{sx:{alignItems:"center",justifyContent:"flex-start",flex:1.2,fontWeight:200},children:[Object(E.jsx)(d.h,{children:t}),n&&Object(E.jsx)(Vt,{size:"xs",tooltip:Object(E.jsx)(d.d,{variant:"tooltip",children:n})})]}),Object(E.jsx)(d.h,{sx:{justifyContent:"flex-end",flex:.8,alignItems:"center"},children:a})]})},zt=function(e){return{accountBalance:e.accountBalance,lusdBalance:e.lusdBalance,lqtyBalance:e.lqtyBalance}},Kt=function(){var e=Object(Ze.useLiquitySelector)(zt),t=e.accountBalance,n=e.lusdBalance,a=e.lqtyBalance;return Object(E.jsxs)(d.b,{sx:{mb:3},children:[Object(E.jsx)(d.j,{children:"My Account Balances"}),Object(E.jsxs)(Zt,{name:"ETH",children:[" ",t.prettify(4)]}),Object(E.jsxs)(Zt,{name:ze,children:[" ",n.prettify()]}),Object(E.jsx)(Zt,{name:Ke,children:a.prettify()})]})},Jt=function(e){var t=e.children;return(null===t||void 0===t?void 0:t.match(/[0-9a-f]{40}/))?Object(E.jsx)(d.n,{href:"https://github.com/liquity/dev/commit/".concat(t),children:t.substr(0,7)}):Object(E.jsx)(E.Fragment,{children:"unknown"})},Xt=function(e){var t=e.numberOfTroves,n=e.price,a=e.total,i=e.lusdInStabilityPool,r=e.borrowingRate,s=e.redemptionRate,o=e.totalStakedLQTY,u=e.frontend;return{numberOfTroves:t,price:n,total:a,lusdInStabilityPool:i,borrowingRate:r,redemptionRate:s,totalStakedLQTY:o,kickbackRate:"registered"===u.status?u.kickbackRate:null}},$t=function(e){var t=e.variant,n=void 0===t?"info":t,a=e.showBalances,i=L().liquity.connection,r=i.version,s=i.deploymentDate,o=i.frontendTag,u=Object(Ze.useLiquitySelector)(Xt),c=u.numberOfTroves,l=u.price,p=u.lusdInStabilityPool,b=u.total,y=u.borrowingRate,f=u.totalStakedLQTY,m=u.kickbackRate,h=b.debt.nonZero&&new Qe.Percent(p.div(b.debt)),v=new Qe.Percent(b.collateralRatio(l)),T=new Qe.Percent(y),j=o===x.a?"100":null===m||void 0===m?void 0:m.mul(100).prettify();return Object(E.jsxs)(d.d,{variant:n,children:[a&&Object(E.jsx)(Kt,{}),Object(E.jsx)(d.j,{children:"Liquity statistics"}),Object(E.jsx)(d.j,{as:"h2",sx:{mt:3,fontWeight:"body"},children:"Protocol"}),Object(E.jsx)(Zt,{name:"Borrowing Fee",tooltip:"The Borrowing Fee is a one-off fee charged as a percentage of the borrowed amount (in LUSD) and is part of a Trove's debt. The fee varies between 0.5% and 5% depending on MSD redemption volumes.",children:T.toString(2)}),Object(E.jsxs)(Zt,{name:"TVL",tooltip:"The Total Value Locked (TVL) is the total value of Ether locked as collateral in the system, given in ETH and USD.",children:[b.collateral.shorten()," ",Object(E.jsx)(d.t,{sx:{fontSize:1},children:"\xa0ETH"}),Object(E.jsxs)(d.t,{sx:{fontSize:1},children:["\xa0($",Qe.Decimal.from(b.collateral.mul(l)).shorten(),")"]})]}),Object(E.jsx)(Zt,{name:"Troves",tooltip:"The total number of active Troves in the system.",children:Qe.Decimal.from(c).prettify(0)}),Object(E.jsx)(Zt,{name:"MSD supply",tooltip:"The total MSD minted by the Maddy Protocol.",children:b.debt.shorten()}),h&&Object(E.jsxs)(Zt,{name:"MSD in Stability Pool",tooltip:"The total MSD currently held in the Stability Pool, expressed as an amount and a fraction of the MSD supply. ",children:[p.shorten(),Object(E.jsxs)(d.t,{sx:{fontSize:1},children:["\xa0(",h.toString(1),")"]})]}),Object(E.jsx)(Zt,{name:"Staked MADDY",tooltip:"The total amount of MADDY that is staked for earning fee revenue.",children:f.shorten()}),Object(E.jsx)(Zt,{name:"Total Collateral Ratio",tooltip:"The ratio of the Dollar value of the entire system collateral at the current ETH:USD price, to the entire system debt.",children:v.prettify()}),Object(E.jsx)(Zt,{name:"Recovery Mode",tooltip:"Recovery Mode is activated when the Total Collateral Ratio (TCR) falls below 150%. When active, your Trove can be liquidated if its collateral ratio is below the TCR. The maximum collateral you can lose from liquidation is capped at 110% of your Trove's debt. Operations are also restricted that would negatively impact the TCR.",children:b.collateralRatioIsBelowCritical(l)?Object(E.jsx)(d.b,{color:"danger",children:"Yes"}):"No"}),Object(E.jsx)(d.j,{as:"h2",sx:{mt:3,fontWeight:"body"},children:"Frontend"}),j&&Object(E.jsxs)(Zt,{name:"Kickback Rate",tooltip:"A rate between 0 and 100% set by the Frontend Operator that determines the fraction of MADDY that will be paid out as a kickback to the Stability Providers using the frontend.",children:[j,"%"]}),Object(E.jsxs)(d.b,{sx:{mt:3,opacity:.66},children:[Object(E.jsxs)(d.b,{sx:{fontSize:0},children:["Contracts version: ",Object(E.jsx)(Jt,{children:r})]}),Object(E.jsxs)(d.b,{sx:{fontSize:0},children:["Deployed: ",s.toLocaleString()]}),Object(E.jsxs)(d.b,{sx:{fontSize:0},children:["Frontend version:"," ",Object(E.jsx)(Jt,{children:"17f50abc59a99ef867aed539ecd5e263"})]})]})]})},en=function(e){return{total:e.total,price:e.price}},tn=function(){var e=Object(Ze.useLiquitySelector)(en),t=e.price,n=e.total,i=Object(a.useState)(!1),r=Object(y.a)(i,2),s=r[0],o=r[1],u=Object(a.useRef)(null);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(d.c,{onClick:function(){return o(!s)},variant:"icon",sx:{position:"relative",display:["block","none"]},children:[Object(E.jsx)(q,{name:"info-circle",size:"2x"}),n.collateralRatioIsBelowCritical(t)&&Object(E.jsx)(d.h,{sx:{position:"absolute",right:0,top:0,width:"100%",height:"100%",alignItems:"flex-start",justifyContent:"flex-end",pt:"2px",color:"danger"},children:Object(E.jsx)(q,{name:"exclamation-circle",size:"xs"})})]}),s&&Object(E.jsx)(d.g,{variant:"infoOverlay",ref:u,onClick:function(e){e.target===u.current&&o(!1)},children:Object(E.jsx)($t,{variant:"infoPopup",showBalances:!0})})]})},nn=function(e){var t=e.height,n=Object(I.a)(e,["height"]);return Object(E.jsx)(d.b,Object(j.a)(Object(j.a)({sx:{lineHeight:0}},n),{},{children:Object(E.jsx)(d.k,{src:"./logo192.png",sx:{height:t}})}))},an=function(e){return Object(E.jsx)(He.b,Object(j.a)({exact:!0},e))},rn=function(e){return Object(E.jsx)(d.o,Object(j.a)(Object(j.a)({},e),{},{as:an}))},sn=function(){return new Date<new Date("2022-10-01")?Object(E.jsx)(d.a,{ml:1,sx:{fontSize:"12px"},children:"New"}):null},on=function(){return Object(E.jsxs)(d.b,{as:"nav",sx:{display:["none","flex"],alignItems:"center",flex:1},children:[Object(E.jsxs)(d.h,{children:[Object(E.jsx)(rn,{to:"/",children:"Dashboard"}),Object(E.jsx)(rn,{to:"/bonds",children:Object(E.jsxs)(d.h,{sx:{alignItems:"center"},children:[Object(E.jsx)(d.t,{children:"Bonds"}),Object(E.jsx)(sn,{})]})})]}),Object(E.jsxs)(d.h,{sx:{justifyContent:"flex-end",mr:3,flex:1},children:[Object(E.jsx)(rn,{sx:{fontSize:1},to:"/risky-troves",children:"Risky Troves"}),Object(E.jsx)(rn,{sx:{fontSize:1},to:"/redemption",children:"Redemption"})]})]})},un=function(){var e=Object(a.useState)(!1),t=Object(y.a)(e,2),n=t[0],i=t[1],r=Object(a.useRef)(null);return n?Object(E.jsx)(d.g,{variant:"infoOverlay",ref:r,onClick:function(e){e.target===r.current&&i(!1)},children:Object(E.jsxs)(d.h,{variant:"layout.sidenav",children:[Object(E.jsx)(d.c,{sx:{position:"fixed",right:"25vw",m:2},variant:"icon",onClick:function(){return i(!1)},children:Object(E.jsx)(q,{name:"times",size:"2x"})}),Object(E.jsx)(nn,{height:"32px",p:2}),Object(E.jsxs)(d.b,{as:"nav",sx:{m:3,mt:1,p:0},onClick:function(){return i(!1)},children:[Object(E.jsx)(rn,{to:"/",children:"Dashboard"}),Object(E.jsx)(rn,{to:"/bonds",children:"Bonds"}),Object(E.jsx)(rn,{to:"/risky-troves",children:"Risky Troves"}),Object(E.jsx)(rn,{to:"/redemption",children:"Redemption"})]})]})}):Object(E.jsx)(d.c,{sx:{display:["flex","none"]},variant:"icon",onClick:function(){return i(!0)},children:Object(E.jsx)(q,{name:"bars",size:"lg"})})},cn=function(e){return{frontend:e.frontend}},dn=function(e){var t=e.children,n=L().config.frontendTag,a=Object(Ze.useLiquitySelector)(cn).frontend,i=n===x.a||"registered"===a.status;return Object(E.jsxs)(d.g,{variant:"header",children:[Object(E.jsxs)(d.h,{sx:{alignItems:"center",flex:1},children:[Object(E.jsx)(nn,{height:"32px"}),Object(E.jsx)(d.b,{sx:{mx:[2,3],width:"0px",height:"100%",borderLeft:["none","1px solid lightgrey"]}}),i&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(un,{}),Object(E.jsx)(on,{})]})]}),t]})},ln=function(e){var t=e.children;return Object(E.jsx)(d.b,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-around",mb:[2,3],p:3,border:1,borderRadius:"8px",borderColor:"accent",boxShadow:2,bg:"rgba(46, 182, 234, 0.05)"},children:Object(E.jsxs)(d.h,{sx:{alignItems:"center"},children:[Object(E.jsx)(q,{name:"info-circle",size:"lg"}),Object(E.jsx)(d.t,{sx:{ml:2},children:t})]})})},pn=function(e){var t=e.children;return Object(E.jsx)(d.t,{sx:{fontWeight:"bold",whiteSpace:"nowrap"},children:t})},bn=function(e){var t=e.sx,n=e.label,a=e.labelId,i=e.labelFor,r=e.children,s=e.infoIcon;return Object(E.jsxs)(d.h,{sx:Object(j.a)({alignItems:"stretch"},t),children:[Object(E.jsx)(d.m,{id:a,htmlFor:i,sx:{p:0,pl:3,pt:"12px",position:"absolute",fontSize:1,border:1,borderColor:"transparent"},children:Object(E.jsxs)(d.h,{sx:{alignItems:"center"},children:[n,s&&s]})}),r]})},yn=function(e){var t=e.sx,n=e.value;return Object(E.jsxs)(d.t,{sx:t,children:["(","++"===n?Object(E.jsx)(q,{name:"angle-double-up"}):"--"===n?Object(E.jsx)(q,{name:"angle-double-down"}):(null===n||void 0===n?void 0:n.startsWith("+"))?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(q,{name:"angle-up"})," ",n.substr(1)]}):(null===n||void 0===n?void 0:n.startsWith("-"))?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(q,{name:"angle-down"})," ",n.substr(1)]}):n,")"]})},fn=function(e){var t=e.sx,n=e.inputId,a=e.labelledBy,i=e.amount,r=e.unit,s=e.color,o=e.pendingAmount,u=e.pendingColor,c=e.onClick,l=e.children;return Object(E.jsxs)(d.h,{id:n,"aria-labelledby":a,onClick:c,sx:Object(j.a)(Object(j.a)(Object(j.a)({justifyContent:"space-between",alignItems:"center"},c?{cursor:"text"}:{}),mn),t),children:[i&&Object(E.jsxs)(d.h,{sx:{alignItems:"center"},children:[Object(E.jsx)(d.t,{sx:{color:s,fontWeight:"medium"},children:i}),r&&Object(E.jsxs)(E.Fragment,{children:["\xa0",Object(E.jsx)(d.t,{sx:{fontWeight:"light",opacity:.8},children:r})]}),o&&Object(E.jsxs)(E.Fragment,{children:["\xa0",Object(E.jsx)(yn,{sx:{color:u,opacity:.8,fontSize:"0.666em"},value:o})]})]}),l]})},mn={flexGrow:1,mb:0,pl:3,pr:"11px",pb:0,pt:"28px",fontSize:3,border:1,borderColor:"transparent"},hn={flexGrow:1,mb:[2,3],pl:3,pr:"11px",pb:2,pt:"28px",fontSize:4,boxShadow:[1,2],border:1,borderColor:"muted"},vn=function(e){var t=e.label,n=e.labelId,a=e.labelFor,i=e.infoIcon,r=Object(I.a)(e,["label","labelId","labelFor","infoIcon"]);return Object(E.jsx)(bn,{label:t,labelId:n,labelFor:a,infoIcon:i,sx:{mt:[-2,-3],pb:[2,3]},children:Object(E.jsx)(fn,Object(j.a)({},r))})},Tn=function(e){var t=e.inputId,n=e.label,a=e.unit,i=e.amount,r=e.color,s=e.pendingAmount,o=e.pendingColor,u=e.children;return Object(E.jsx)(bn,{labelId:"".concat(t,"-label"),label:n,children:Object(E.jsx)(fn,{sx:Object(j.a)(Object(j.a)({},hn),{},{boxShadow:0}),labelledBy:"".concat(t,"-label"),inputId:t,amount:i,unit:a,color:r,pendingAmount:s,pendingColor:o,children:u})})},jn=function(e){var t=e.label,n=e.inputId,i=e.unit,r=e.amount,s=e.color,o=e.pendingAmount,u=e.pendingColor,c=e.editingState,l=e.editedAmount,p=e.setEditedAmount,b=e.maxAmount,f=e.maxedOut,m=Object(y.a)(c,2),h=m[0],v=m[1],T=Object(a.useState)(!1),x=Object(y.a)(T,2),g=x[0],O=x[1];return h===n?Object(E.jsx)(bn,{label:t,labelFor:n,unit:i,children:Object(E.jsx)(d.l,{autoFocus:!0,id:n,type:"number",step:"any",defaultValue:l,invalid:g,onChange:function(e){try{p(e.target.value),O(!1)}catch(t){O(!0)}},onBlur:function(){v(void 0),O(!1)},variant:"editor",sx:Object(j.a)(Object(j.a)({},hn),{},{fontWeight:"medium",bg:g?"invalid":"background"})})}):Object(E.jsx)(bn,{labelId:"".concat(n,"-label"),label:t,unit:i,children:Object(E.jsx)(fn,{sx:Object(j.a)(Object(j.a)({},hn),{},{bg:g?"invalid":"background"}),labelledBy:"".concat(n,"-label"),onClick:function(){return v(n)},inputId:n,amount:r,unit:i,color:s,pendingAmount:o,pendingColor:u,invalid:g,children:b&&Object(E.jsx)(d.c,{sx:{fontSize:1,p:1,px:3},onClick:function(e){p(b),e.stopPropagation()},disabled:f,children:"max"})})})},xn=function(){return Object(E.jsx)(d.g,{variant:"disabledOverlay",sx:{p:"14px",display:"flex",justifyContent:"flex-end"},children:Object(E.jsx)(d.s,{size:"28px",sx:{color:"text"}})})},gn=function(e){var t,n,a,i,r,s=e.value,o=e.change,u=new Qe.Percent(null!==s&&void 0!==s?s:{toString:function(){return"N/A"}}),c=o&&new Qe.Percent(o);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(d.h,{children:[Object(E.jsx)(d.b,{sx:{mt:[2,0],ml:3,mr:-2,fontSize:"24px"},children:Object(E.jsx)(q,{name:"heartbeat"})}),Object(E.jsx)(vn,{label:"Collateral ratio",inputId:"trove-collateral-ratio",amount:u.prettify(),color:(null===s||void 0===s?void 0:s.gt(Qe.CRITICAL_COLLATERAL_RATIO))?"success":(null===s||void 0===s?void 0:s.gt(1.2))?"warning":(null===s||void 0===s?void 0:s.lte(1.2))?"danger":"muted",pendingAmount:(null===o||void 0===o||null===(t=o.positive)||void 0===t||null===(n=t.absoluteValue)||void 0===n?void 0:n.gt(10))?"++":(null===o||void 0===o||null===(a=o.negative)||void 0===a||null===(i=a.absoluteValue)||void 0===i?void 0:i.gt(10))?"--":null===c||void 0===c||null===(r=c.nonZeroish(2))||void 0===r?void 0:r.prettify(),pendingColor:(null===o||void 0===o?void 0:o.positive)?"success":"danger",infoIcon:Object(E.jsx)(Vt,{tooltip:Object(E.jsx)(d.d,{variant:"tooltip",sx:{width:"220px"},children:"The ratio between the dollar value of the collateral and the debt (in MSD) you are depositing. While the Minimum Collateral Ratio is 110% during normal operation, it is recommended to keep the Collateral Ratio always above 150% to avoid liquidation under Recovery Mode. A Collateral Ratio above 200% or 250% is recommended for additional safety."})})})]}),(null===s||void 0===s?void 0:s.lt(1.5))&&Object(E.jsx)(ln,{children:"Keeping your CR above 150% can help avoid liquidation under Recovery Mode."})]})},On=function(e){return{price:e.price}},wn=function(e){var t=e.children,n=e.original,a=e.edited,i=e.fee,r=e.borrowingRate,s=e.changePending,o=Object(Ze.useLiquitySelector)(On).price,u=new Qe.Percent(r),c=n.isEmpty?void 0:n.collateralRatio(o),l=a.isEmpty?void 0:a.collateralRatio(o),p=Qe.Difference.between(l,c);return Object(E.jsxs)(d.d,{children:[Object(E.jsx)(d.j,{children:"Trove"}),Object(E.jsxs)(d.b,{sx:{p:[2,3]},children:[Object(E.jsx)(vn,{label:"Collateral",inputId:"trove-collateral",amount:a.collateral.prettify(4),unit:"ETH"}),Object(E.jsx)(vn,{label:"Debt",inputId:"trove-debt",amount:a.debt.prettify(),unit:ze}),n.isEmpty&&Object(E.jsx)(vn,{label:"Liquidation Reserve",inputId:"trove-liquidation-reserve",amount:"".concat(Qe.LUSD_LIQUIDATION_RESERVE),unit:ze,infoIcon:Object(E.jsx)(Vt,{tooltip:Object(E.jsx)(d.d,{variant:"tooltip",sx:{width:"200px"},children:"An amount set aside to cover the liquidator\u2019s gas costs if your Trove needs to be liquidated. The amount increases your debt and is refunded if you close your Trove by fully paying off its net debt."})})}),Object(E.jsx)(vn,{label:"Borrowing Fee",inputId:"trove-borrowing-fee",amount:i.toString(2),pendingAmount:u.toString(2),unit:ze,infoIcon:Object(E.jsx)(Vt,{tooltip:Object(E.jsx)(d.d,{variant:"tooltip",sx:{width:"240px"},children:"This amount is deducted from the borrowed amount as a one-time fee. There are no recurring fees for borrowing, which is thus interest-free."})})}),Object(E.jsx)(gn,{value:l,change:p}),t]}),s&&Object(E.jsx)(xn,{})]})},_n=function(e){var t=e.children,n=e.transactionId,a=e.change,i=e.maxBorrowingRate,r=e.borrowingFeeDecayToleranceMinutes,s=L().liquity,o=pe(n,"creation"===a.type?s.send.openTrove.bind(s.send,a.params,{maxBorrowingRate:i,borrowingFeeDecayToleranceMinutes:r}):"closure"===a.type?s.send.closeTrove.bind(s.send):s.send.adjustTrove.bind(s.send,a.params,{maxBorrowingRate:i,borrowingFeeDecayToleranceMinutes:r})),u=Object(y.a)(o,1)[0];return Object(E.jsx)(d.c,{onClick:u,children:t})},Sn=Object(a.createContext)(null),kn=function(){var e=Object(a.useContext)(Sn);if(null===e)throw new Error("You must add a <TroveViewProvider> into the React tree");return e},Dn=function(e){var t=e.children;return Object(E.jsx)(d.b,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-around",mb:[2,3],p:3,border:1,borderRadius:"8px",borderColor:"danger",boxShadow:2,bg:"rgba(220, 44, 16, 0.05)"},children:Object(E.jsxs)(d.h,{sx:{alignItems:"center"},children:[Object(E.jsx)(q,{name:"exclamation-triangle",size:"lg"}),Object(E.jsx)(d.t,{sx:{ml:2},children:t})]})})},En=new Qe.Percent(Qe.MINIMUM_COLLATERAL_RATIO).toString(0),Mn=new Qe.Percent(Qe.CRITICAL_COLLATERAL_RATIO).toString(0),An=function(e){var t=e.params;return Object(E.jsxs)(ln,{children:[t.depositCollateral&&t.borrowLUSD?Object(E.jsxs)(E.Fragment,{children:["You will deposit ",Object(E.jsxs)(pn,{children:[t.depositCollateral.prettify()," ETH"]})," and receive"," ",Object(E.jsxs)(pn,{children:[t.borrowLUSD.prettify()," ",ze]})]}):t.repayLUSD&&t.withdrawCollateral?Object(E.jsxs)(E.Fragment,{children:["You will pay"," ",Object(E.jsxs)(pn,{children:[t.repayLUSD.prettify()," ",ze]})," ","and receive ",Object(E.jsxs)(pn,{children:[t.withdrawCollateral.prettify()," ETH"]})]}):t.depositCollateral&&t.repayLUSD?Object(E.jsxs)(E.Fragment,{children:["You will deposit ",Object(E.jsxs)(pn,{children:[t.depositCollateral.prettify()," ETH"]})," and pay"," ",Object(E.jsxs)(pn,{children:[t.repayLUSD.prettify()," ",ze]})]}):t.borrowLUSD&&t.withdrawCollateral?Object(E.jsxs)(E.Fragment,{children:["You will receive ",Object(E.jsxs)(pn,{children:[t.withdrawCollateral.prettify()," ETH"]})," and"," ",Object(E.jsxs)(pn,{children:[t.borrowLUSD.prettify()," ",ze]})]}):t.depositCollateral?Object(E.jsxs)(E.Fragment,{children:["You will deposit ",Object(E.jsxs)(pn,{children:[t.depositCollateral.prettify()," ETH"]})]}):t.withdrawCollateral?Object(E.jsxs)(E.Fragment,{children:["You will receive ",Object(E.jsxs)(pn,{children:[t.withdrawCollateral.prettify()," ETH"]})]}):t.borrowLUSD?Object(E.jsxs)(E.Fragment,{children:["You will receive"," ",Object(E.jsxs)(pn,{children:[t.borrowLUSD.prettify()," ",ze]})]}):Object(E.jsxs)(E.Fragment,{children:["You will pay"," ",Object(E.jsxs)(pn,{children:[t.repayLUSD.prettify()," ",ze]})]}),"."]})},Cn=function(e){return{price:e.price,total:e.total,accountBalance:e.accountBalance,lusdBalance:e.lusdBalance,numberOfTroves:e.numberOfTroves}},Ln=function(e,t,n,a){var i=a.total,r=a.price,s=e.whatChanged(t,n);if(!s)return[void 0,void 0];var o=e.apply(s,n),u=i.collateralRatioIsBelowCritical(r),c=i.subtract(e).add(o).collateralRatioIsBelowCritical(r),d=Object(j.a)(Object(j.a)({},a),{},{originalTrove:e,resultingTrove:o,recoveryMode:u,wouldTriggerRecoveryMode:c});if("invalidCreation"===s.type)return[void 0,Object(E.jsxs)(Dn,{children:["Total debt must be at least"," ",Object(E.jsxs)(pn,{children:[Qe.LUSD_MINIMUM_DEBT.toString()," ",ze]}),"."]})];var l="creation"===s.type?Rn(s.params,d):"closure"===s.type?Pn(s.params,d):In(s.params,d);return l?[void 0,l]:[s,Object(E.jsx)(An,{params:s.params})]},Rn=function(e,t){var n=e.depositCollateral,a=e.borrowLUSD,i=t.resultingTrove,r=t.recoveryMode,s=t.wouldTriggerRecoveryMode,o=t.accountBalance,u=t.price;if(a.lt(Qe.LUSD_MINIMUM_NET_DEBT))return Object(E.jsxs)(Dn,{children:["You must borrow at least"," ",Object(E.jsxs)(pn,{children:[Qe.LUSD_MINIMUM_NET_DEBT.toString()," ",ze]}),"."]});if(r){if(!i.isOpenableInRecoveryMode(u))return Object(E.jsxs)(Dn,{children:["You're not allowed to open a Trove with less than ",Object(E.jsx)(pn,{children:Mn})," Collateral Ratio during recovery mode. Please increase your Trove's Collateral Ratio."]})}else{if(i.collateralRatioIsBelowMinimum(u))return Object(E.jsxs)(Dn,{children:["Collateral ratio must be at least ",Object(E.jsx)(pn,{children:En}),"."]});if(s)return Object(E.jsxs)(Dn,{children:["You're not allowed to open a Trove that would cause the Total Collateral Ratio to fall below ",Object(E.jsx)(pn,{children:Mn}),". Please increase your Trove's Collateral Ratio."]})}return n.gt(o)?Object(E.jsxs)(Dn,{children:["The amount you're trying to deposit exceeds your balance by"," ",Object(E.jsxs)(pn,{children:[n.sub(o).prettify()," ETH"]}),"."]}):null},In=function(e,t){var n=e.depositCollateral,a=e.withdrawCollateral,i=e.borrowLUSD,r=e.repayLUSD,s=t.originalTrove,o=t.resultingTrove,u=t.recoveryMode,c=t.wouldTriggerRecoveryMode,d=t.price,l=t.accountBalance,p=t.lusdBalance;if(u){if(a)return Object(E.jsx)(Dn,{children:"You're not allowed to withdraw collateral during recovery mode."});if(i){if(o.collateralRatioIsBelowCritical(d))return Object(E.jsxs)(Dn,{children:["Your collateral ratio must be at least ",Object(E.jsx)(pn,{children:Mn})," to borrow during recovery mode. Please improve your collateral ratio."]});if(o.collateralRatio(d).lt(s.collateralRatio(d)))return Object(E.jsx)(Dn,{children:"You're not allowed to decrease your collateral ratio during recovery mode."})}}else{if(o.collateralRatioIsBelowMinimum(d))return Object(E.jsxs)(Dn,{children:["Collateral ratio must be at least ",Object(E.jsx)(pn,{children:En}),"."]});if(c)return Object(E.jsxs)(Dn,{children:["The adjustment you're trying to make would cause the Total Collateral Ratio to fall below"," ",Object(E.jsx)(pn,{children:Mn}),". Please increase your Trove's Collateral Ratio."]})}if(r){if(o.debt.lt(Qe.LUSD_MINIMUM_DEBT))return Object(E.jsxs)(Dn,{children:["Total debt must be at least"," ",Object(E.jsxs)(pn,{children:[Qe.LUSD_MINIMUM_DEBT.toString()," ",ze]}),"."]});if(r.gt(p))return Object(E.jsxs)(Dn,{children:["The amount you're trying to repay exceeds your balance by"," ",Object(E.jsxs)(pn,{children:[r.sub(p).prettify()," ",ze]}),"."]})}return(null===n||void 0===n?void 0:n.gt(l))?Object(E.jsxs)(Dn,{children:["The amount you're trying to deposit exceeds your balance by"," ",Object(E.jsxs)(pn,{children:[n.sub(l).prettify()," ETH"]}),"."]}):null},Pn=function(e,t){var n=e.repayLUSD,a=t.recoveryMode,i=t.wouldTriggerRecoveryMode,r=t.numberOfTroves,s=t.lusdBalance;return 1===r?Object(E.jsx)(Dn,{children:"You're not allowed to close your Trove when there are no other Troves in the system."}):a?Object(E.jsx)(Dn,{children:"You're not allowed to close your Trove during recovery mode."}):(null===n||void 0===n?void 0:n.gt(s))?Object(E.jsxs)(Dn,{children:["You need"," ",Object(E.jsxs)(pn,{children:[n.sub(s).prettify()," ",ze]})," ","more to close your Trove."]}):i?Object(E.jsxs)(Dn,{children:["You're not allowed to close a Trove if it would cause the Total Collateralization Ratio to fall below ",Object(E.jsx)(pn,{children:Mn}),". Please wait until the Total Collateral Ratio increases."]}):null},Bn=function(e){var t=e.trove;return{original:t,edited:new Qe.Trove(t.collateral,t.debt),changePending:!1,debtDirty:!1,addedMinimumDebt:!1}},Fn=function(e){return function(t){return Gn(t,e)}},Nn=Fn({type:"addMinimumDebt"}),Un=Fn({type:"removeMinimumDebt"}),qn=Fn({type:"finishChange"}),Yn=Fn({type:"revert"}),Gn=function(e,t){var n=e.original,a=e.edited,i=e.changePending,r=e.debtDirty,s=e.addedMinimumDebt;switch(t.type){case"startChange":return console.log("starting change"),Object(j.a)(Object(j.a)({},e),{},{changePending:!0});case"finishChange":return Object(j.a)(Object(j.a)({},e),{},{changePending:!1});case"setCollateral":var o=Qe.Decimal.from(t.newValue),u=Object(j.a)(Object(j.a)({},e),{},{edited:a.setCollateral(o)});if(!r){if(a.isEmpty&&o.nonZero)return Nn(u);if(s&&o.isZero)return Un(u)}return u;case"setDebt":return Object(j.a)(Object(j.a)({},e),{},{edited:a.setDebt(t.newValue),debtDirty:!0});case"addMinimumDebt":return Object(j.a)(Object(j.a)({},e),{},{edited:a.setDebt(Qe.LUSD_MINIMUM_DEBT),addedMinimumDebt:!0});case"removeMinimumDebt":return Object(j.a)(Object(j.a)({},e),{},{edited:a.setDebt(0),addedMinimumDebt:!1});case"revert":return Object(j.a)(Object(j.a)({},e),{},{edited:new Qe.Trove(n.collateral,n.debt),debtDirty:!1,addedMinimumDebt:!1});case"updateStore":var c=t.newState.trove,d=t.stateChange.troveBeforeRedistribution,l=Object(j.a)(Object(j.a)({},e),{},{original:c});if(i&&d)return qn(Yn(l));var p=n.whatChanged(a,0);return"creation"===(null===p||void 0===p?void 0:p.type)&&!c.isEmpty||"closure"===(null===p||void 0===p?void 0:p.type)&&c.isEmpty?Yn(l):Object(j.a)(Object(j.a)({},l),{},{edited:c.apply(p,0)})}},Qn=function(e,t,n){var a=e.whatChanged(t,n);return a&&"invalidCreation"!==a.type&&a.params.borrowLUSD?a.params.borrowLUSD.mul(n):Qe.Decimal.ZERO},Wn=function(e){return{fees:e.fees,validationContext:Cn(e)}},Hn="trove-",Vn=new RegExp("^".concat(Hn)),Zn=function(e){var t=e.collateral,n=e.debt,i=Object(Ze.useLiquityReducer)(Gn,Bn),r=Object(y.a)(i,2),s=r[0],o=s.original,u=s.edited,c=s.changePending,l=r[1],p=Object(Ze.useLiquitySelector)(Wn),b=p.fees,f=p.validationContext;Object(a.useEffect)((function(){void 0!==t&&l({type:"setCollateral",newValue:t}),void 0!==n&&l({type:"setDebt",newValue:n})}),[t,n,l]);var m=b.borrowingRate(),h=m.add(.005),v=Ln(o,u,m,f),T=Object(y.a)(v,2),j=T[0],x=T[1],g=kn().dispatchEvent,O=Object(a.useCallback)((function(){g("CANCEL_ADJUST_TROVE_PRESSED")}),[g]),w=o.isEmpty,_=le(Vn);return Object(a.useEffect)((function(){"waitingForApproval"===_.type||"waitingForConfirmation"===_.type?l({type:"startChange"}):"failed"===_.type||"cancelled"===_.type?l({type:"finishChange"}):"confirmedOneShot"===_.type&&(_.id==="".concat(Hn,"closure")?g("TROVE_CLOSED"):g("TROVE_ADJUSTED"))}),[_,l,g]),Object(E.jsxs)(wn,{original:o,edited:u,fee:Qn(o,u,m),borrowingRate:m,changePending:c,dispatch:l,children:[null!==x&&void 0!==x?x:w?Object(E.jsx)(ln,{children:"Start by entering the amount of ETH you'd like to deposit as collateral."}):Object(E.jsx)(ln,{children:"Adjust your Trove by modifying its collateral, debt, or both."}),Object(E.jsxs)(d.h,{variant:"layout.actions",children:[Object(E.jsx)(d.c,{variant:"cancel",onClick:O,children:"Cancel"}),j?Object(E.jsx)(_n,{transactionId:"".concat(Hn).concat(j.type),change:j,maxBorrowingRate:h,borrowingFeeDecayToleranceMinutes:60,children:"Confirm"}):Object(E.jsx)(d.c,{disabled:!0,children:"Confirm"})]})]})},zn=function(e){return{trove:e.trove,price:e.price}},Kn=function(){var e=kn().dispatchEvent,t=Object(a.useCallback)((function(){e("ADJUST_TROVE_PRESSED")}),[e]),n=Object(a.useCallback)((function(){e("CLOSE_TROVE_PRESSED")}),[e]),i=Object(Ze.useLiquitySelector)(zn),r=i.trove,s=i.price;return Object(E.jsxs)(d.d,{children:[Object(E.jsx)(d.j,{children:"Trove"}),Object(E.jsxs)(d.b,{sx:{p:[2,3]},children:[Object(E.jsxs)(d.b,{children:[Object(E.jsx)(Tn,{label:"Collateral",inputId:"trove-collateral",amount:r.collateral.prettify(4),unit:"ETH"}),Object(E.jsx)(Tn,{label:"Debt",inputId:"trove-debt",amount:r.debt.prettify(),unit:ze}),Object(E.jsx)(gn,{value:r.collateralRatio(s)})]}),Object(E.jsxs)(d.h,{variant:"layout.actions",children:[Object(E.jsx)(d.c,{variant:"outline",onClick:n,children:"Close Trove"}),Object(E.jsxs)(d.c,{onClick:t,children:[Object(E.jsx)(q,{name:"pen",size:"sm"}),"\xa0Adjust"]})]})]})]})},Jn=function(e){var t=e.title,n=e.children,a=e.icon;return Object(E.jsxs)(d.b,{sx:{mx:1,mb:3},children:[Object(E.jsxs)(d.h,{sx:{alignItems:"center",mb:"10px"},children:[Object(E.jsx)(d.b,{sx:{mr:"12px",fontSize:"20px"},children:a||Object(E.jsx)(q,{name:"info-circle"})}),Object(E.jsx)(d.j,{as:"h3",children:t})]}),Object(E.jsx)(d.t,{sx:{fontSize:2},children:n})]})},Xn=function(e){var t=kn().dispatchEvent,n=Object(a.useCallback)((function(){t("OPEN_TROVE_PRESSED")}),[t]);return Object(E.jsxs)(d.d,{children:[Object(E.jsx)(d.j,{children:"Trove"}),Object(E.jsxs)(d.b,{sx:{p:[2,3]},children:[Object(E.jsx)(Jn,{title:"You haven't borrowed any MSD yet.",children:"You can borrow MSD by opening a Trove."}),Object(E.jsx)(d.h,{variant:"layout.actions",children:Object(E.jsx)(d.c,{onClick:n,children:"Open Trove"})})]})]})},$n=function(e,t){return e&&t?e.eq(t):!e&&!t},ea=function(e){var t=Object(a.useState)(e),n=Object(y.a)(t,2),i=n[0],r=n[1];return Object(a.useEffect)((function(){var t,n;!!i!==!!e?r(e):!i||!e||(n=e,(t=i).type===n.type&&$n(t.params.borrowLUSD,n.params.borrowLUSD)&&$n(t.params.repayLUSD,n.params.repayLUSD)&&$n(t.params.depositCollateral,n.params.depositCollateral)&&$n(t.params.withdrawCollateral,n.params.withdrawCollateral))||r(e)}),[i,e]),i},ta=function(e){var t=e.children;return Object(E.jsx)(d.b,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-around",mb:[2,3],p:3,border:1,borderRadius:"8px",borderColor:"warning",boxShadow:2},children:Object(E.jsxs)(d.h,{sx:{alignItems:"center"},children:[Object(E.jsx)(q,{name:"exclamation-triangle",size:"lg"}),Object(E.jsx)(d.t,{sx:{ml:2},children:t})]})})},na=function(e){var t=e.troveChange,n=e.maxBorrowingRate,i=e.borrowingFeeDecayToleranceMinutes,r=e.gasEstimationState,s=e.setGasEstimationState,o=L().liquity;return Object(a.useEffect)((function(){if(t&&"closure"!==t.type){s({type:"inProgress"});var e=!1,a=setTimeout(Object(T.a)(v.a.mark((function a(){var r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,"creation"===t.type?o.populate.openTrove(t.params,{maxBorrowingRate:n,borrowingFeeDecayToleranceMinutes:i}):o.populate.adjustTrove(t.params,{maxBorrowingRate:n,borrowingFeeDecayToleranceMinutes:i});case 2:r=a.sent,e||(s({type:"complete",populatedTx:r}),console.log("Estimated TX cost: "+Qe.Decimal.from("".concat(r.rawPopulatedTransaction.gasLimit)).prettify(0)));case 4:case"end":return a.stop()}}),a)}))),333);return function(){clearTimeout(a),e=!0}}s({type:"idle"})}),[t]),t&&"complete"===r.type&&void 0!==r.populatedTx.gasHeadroom&&r.populatedTx.gasHeadroom>=2e5?"creation"===t.type?Object(E.jsx)(ta,{children:"The cost of opening a Trove in this collateral ratio range is rather high. To lower it, choose a slightly different collateral ratio."}):Object(E.jsx)(ta,{children:"The cost of adjusting a Trove into this collateral ratio range is rather high. To lower it, choose a slightly different collateral ratio."}):null},aa=function(e){return{fees:e.fees,price:e.price,accountBalance:e.accountBalance,validationContext:Cn(e)}},ia=new Qe.Trove(Qe.Decimal.ZERO,Qe.Decimal.ZERO),ra="trove-creation",sa=Qe.Decimal.from(.1),oa=function(){var e=kn().dispatchEvent,t=Object(Ze.useLiquitySelector)(aa),n=t.fees,i=t.price,r=t.accountBalance,s=t.validationContext,o=n.borrowingRate(),u=Object(a.useState)(),c=Object(a.useState)(Qe.Decimal.ZERO),l=Object(y.a)(c,2),p=l[0],b=l[1],f=Object(a.useState)(Qe.Decimal.ZERO),m=Object(y.a)(f,2),h=m[0],v=m[1],T=o.add(.005),j=h.mul(o),x=new Qe.Percent(o),g=h.add(Qe.LUSD_LIQUIDATION_RESERVE).add(j),O=!p.isZero||!h.isZero,w=O?new Qe.Trove(p,g):ia,_=r.gt(sa)?r.sub(sa):Qe.Decimal.ZERO,S=p.eq(_),k=p.isZero||h.isZero?void 0:w.collateralRatio(i),D=Ln(ia,w,o,s),M=Object(y.a)(D,2),A=M[0],C=M[1],L=ea(A),R=Object(a.useState)({type:"idle"}),I=Object(y.a)(R,2),P=I[0],B=I[1],F=le(ra),N="waitingForApproval"===F.type||"waitingForConfirmation"===F.type,U=Object(a.useCallback)((function(){e("CANCEL_ADJUST_TROVE_PRESSED")}),[e]),Y=Object(a.useCallback)((function(){b(Qe.Decimal.ZERO),v(Qe.Decimal.ZERO)}),[]);return Object(a.useEffect)((function(){!p.isZero&&h.isZero&&v(Qe.LUSD_MINIMUM_NET_DEBT)}),[p,h]),Object(E.jsxs)(d.d,{children:[Object(E.jsxs)(d.j,{children:["Trove",O&&!N&&Object(E.jsx)(d.c,{variant:"titleIcon",sx:{":enabled:hover":{color:"danger"}},onClick:Y,children:Object(E.jsx)(q,{name:"history",size:"lg"})})]}),Object(E.jsxs)(d.b,{sx:{p:[2,3]},children:[Object(E.jsx)(jn,{label:"Collateral",inputId:"trove-collateral",amount:p.prettify(4),maxAmount:_.toString(),maxedOut:S,editingState:u,unit:"ETH",editedAmount:p.toString(4),setEditedAmount:function(e){return b(Qe.Decimal.from(e))}}),Object(E.jsx)(jn,{label:"Borrow",inputId:"trove-borrow-amount",amount:h.prettify(),unit:ze,editingState:u,editedAmount:h.toString(2),setEditedAmount:function(e){return v(Qe.Decimal.from(e))}}),Object(E.jsx)(vn,{label:"Liquidation Reserve",inputId:"trove-liquidation-reserve",amount:"".concat(Qe.LUSD_LIQUIDATION_RESERVE),unit:ze,infoIcon:Object(E.jsx)(Vt,{tooltip:Object(E.jsx)(d.d,{variant:"tooltip",sx:{width:"200px"},children:"An amount set aside to cover the liquidator\u2019s gas costs if your Trove needs to be liquidated. The amount increases your debt and is refunded if you close your Trove by fully paying off its net debt."})})}),Object(E.jsx)(vn,{label:"Borrowing Fee",inputId:"trove-borrowing-fee",amount:j.prettify(2),pendingAmount:x.toString(2),unit:ze,infoIcon:Object(E.jsx)(Vt,{tooltip:Object(E.jsx)(d.d,{variant:"tooltip",sx:{width:"240px"},children:"This amount is deducted from the borrowed amount as a one-time fee. There are no recurring fees for borrowing, which is thus interest-free."})})}),Object(E.jsx)(vn,{label:"Total debt",inputId:"trove-total-debt",amount:g.prettify(2),unit:ze,infoIcon:Object(E.jsx)(Vt,{tooltip:Object(E.jsxs)(d.d,{variant:"tooltip",sx:{width:"240px"},children:["The total amount of MSD your Trove will hold."," ",O&&Object(E.jsxs)(E.Fragment,{children:["You will need to repay ",g.sub(Qe.LUSD_LIQUIDATION_RESERVE).prettify(2)," ","MSD to reclaim your collateral (",Qe.LUSD_LIQUIDATION_RESERVE.toString()," MSD Liquidation Reserve excluded)."]})]})})}),Object(E.jsx)(gn,{value:k}),null!==C&&void 0!==C?C:Object(E.jsx)(ln,{children:"Start by entering the amount of ETH you'd like to deposit as collateral."}),Object(E.jsx)(na,{troveChange:L,maxBorrowingRate:T,borrowingFeeDecayToleranceMinutes:60,gasEstimationState:P,setGasEstimationState:B}),Object(E.jsxs)(d.h,{variant:"layout.actions",children:[Object(E.jsx)(d.c,{variant:"cancel",onClick:U,children:"Cancel"}),"inProgress"===P.type?Object(E.jsx)(d.c,{disabled:!0,children:Object(E.jsx)(d.s,{size:"24px",sx:{color:"background"}})}):L?Object(E.jsx)(_n,{transactionId:ra,change:L,maxBorrowingRate:T,borrowingFeeDecayToleranceMinutes:60,children:"Confirm"}):Object(E.jsx)(d.c,{disabled:!0,children:"Confirm"})]})]}),N&&Object(E.jsx)(xn,{})]})},ua=function(e){return{trove:e.trove,fees:e.fees,price:e.price,accountBalance:e.accountBalance,validationContext:Cn(e)}},ca="trove-adjustment",da=Qe.Decimal.from(.1),la=function(){var e=kn().dispatchEvent,t=Object(Ze.useLiquitySelector)(ua),n=t.trove,i=t.fees,r=t.price,s=t.accountBalance,o=t.validationContext,u=Object(a.useState)(),c=Object(a.useRef)(n),l=Object(a.useState)(n.collateral),p=Object(y.a)(l,2),b=p[0],f=p[1],m=Object(a.useState)(n.netDebt),h=Object(y.a)(m,2),v=h[0],T=h[1],j=le(ca),x=i.borrowingRate();Object(a.useEffect)((function(){"confirmedOneShot"===j.type&&e("TROVE_ADJUSTED")}),[j.type,e]),Object(a.useEffect)((function(){if(!c.current.collateral.eq(n.collateral)){var e=function(e,t){return e.absoluteValue?e.positive?t.collateral.add(e.absoluteValue):e.negative&&e.absoluteValue.lt(t.collateral)?t.collateral.sub(e.absoluteValue):t.collateral:t.collateral}(Qe.Difference.between(b,c.current.collateral),n);f(e)}if(!c.current.netDebt.eq(n.netDebt)){var t=function(e,t){return e.absoluteValue?e.positive?t.netDebt.add(e.absoluteValue):e.negative&&e.absoluteValue.lt(t.netDebt)?t.netDebt.sub(e.absoluteValue):t.netDebt:t.netDebt}(Qe.Difference.between(v,c.current.netDebt),n);T(t)}c.current=n}),[n,b,v]);var g=Object(a.useCallback)((function(){e("CANCEL_ADJUST_TROVE_PRESSED")}),[e]),O=Object(a.useCallback)((function(){f(n.collateral),T(n.netDebt)}),[n.collateral,n.netDebt]),w=!b.eq(n.collateral)||!v.eq(n.netDebt),_=v.gt(n.netDebt),S=_?v.sub(n.netDebt):Qe.Decimal.ZERO,k=_?function(e,t,n){var a=e.whatChanged(t,n);return a&&"invalidCreation"!==a.type&&a.params.borrowLUSD?a.params.borrowLUSD.mul(n):Qe.Decimal.ZERO}(n,new Qe.Trove(n.collateral,n.debt.add(S)),x):Qe.Decimal.ZERO,D=v.add(Qe.LUSD_LIQUIDATION_RESERVE).add(k),M=x.add(.005),A=w?new Qe.Trove(b,D):n,C=new Qe.Percent(x),L=s.gt(da)?s.sub(da):Qe.Decimal.ZERO,R=n.collateral.add(L),I=b.eq(R),P=b.isZero||v.isZero?void 0:A.collateralRatio(r),B=Qe.Difference.between(P,n.collateralRatio(r)),F=Ln(n,A,x,o),N=Object(y.a)(F,2),U=N[0],Y=N[1],G=ea(U),Q=Object(a.useState)({type:"idle"}),W=Object(y.a)(Q,2),H=W[0],V=W[1],Z="waitingForApproval"===j.type||"waitingForConfirmation"===j.type;return"open"!==n.status?null:Object(E.jsxs)(d.d,{children:[Object(E.jsxs)(d.j,{children:["Trove",w&&!Z&&Object(E.jsx)(d.c,{variant:"titleIcon",sx:{":enabled:hover":{color:"danger"}},onClick:O,children:Object(E.jsx)(q,{name:"history",size:"lg"})})]}),Object(E.jsxs)(d.b,{sx:{p:[2,3]},children:[Object(E.jsx)(jn,{label:"Collateral",inputId:"trove-collateral",amount:b.prettify(4),maxAmount:R.toString(),maxedOut:I,editingState:u,unit:"ETH",editedAmount:b.toString(4),setEditedAmount:function(e){return f(Qe.Decimal.from(e))}}),Object(E.jsx)(jn,{label:"Net debt",inputId:"trove-net-debt-amount",amount:v.prettify(),unit:ze,editingState:u,editedAmount:v.toString(2),setEditedAmount:function(e){return T(Qe.Decimal.from(e))}}),Object(E.jsx)(vn,{label:"Liquidation Reserve",inputId:"trove-liquidation-reserve",amount:"".concat(Qe.LUSD_LIQUIDATION_RESERVE),unit:ze,infoIcon:Object(E.jsx)(Vt,{tooltip:Object(E.jsx)(d.d,{variant:"tooltip",sx:{width:"200px"},children:"An amount set aside to cover the liquidator\u2019s gas costs if your Trove needs to be liquidated. The amount increases your debt and is refunded if you close your Trove by fully paying off its net debt."})})}),Object(E.jsx)(vn,{label:"Borrowing Fee",inputId:"trove-borrowing-fee",amount:k.prettify(2),pendingAmount:C.toString(2),unit:ze,infoIcon:Object(E.jsx)(Vt,{tooltip:Object(E.jsx)(d.d,{variant:"tooltip",sx:{width:"240px"},children:"This amount is deducted from the borrowed amount as a one-time fee. There are no recurring fees for borrowing, which is thus interest-free."})})}),Object(E.jsx)(vn,{label:"Total debt",inputId:"trove-total-debt",amount:D.prettify(2),unit:ze,infoIcon:Object(E.jsx)(Vt,{tooltip:Object(E.jsxs)(d.d,{variant:"tooltip",sx:{width:"240px"},children:["The total amount of MSD your Trove will hold."," ",w&&Object(E.jsxs)(E.Fragment,{children:["You will need to repay ",D.sub(Qe.LUSD_LIQUIDATION_RESERVE).prettify(2)," ","MSD to reclaim your collateral (",Qe.LUSD_LIQUIDATION_RESERVE.toString()," MSD Liquidation Reserve excluded)."]})]})})}),Object(E.jsx)(gn,{value:P,change:B}),null!==Y&&void 0!==Y?Y:Object(E.jsx)(ln,{children:"Adjust your Trove by modifying its collateral, debt, or both."}),Object(E.jsx)(na,{troveChange:G,maxBorrowingRate:M,borrowingFeeDecayToleranceMinutes:60,gasEstimationState:H,setGasEstimationState:V}),Object(E.jsxs)(d.h,{variant:"layout.actions",children:[Object(E.jsx)(d.c,{variant:"cancel",onClick:g,children:"Cancel"}),G?Object(E.jsx)(_n,{transactionId:ca,change:G,maxBorrowingRate:M,borrowingFeeDecayToleranceMinutes:60,children:"Confirm"}):Object(E.jsx)(d.c,{disabled:!0,children:"Confirm"})]})]}),Z&&Object(E.jsx)(xn,{})]})},pa=function(e){return{collateralSurplusBalance:e.collateralSurplusBalance}},ba=function(){var e=Object(Ze.useLiquitySelector)(pa).collateralSurplusBalance,t=L().liquity.send,n="claim-coll-surplus",i=le(n),r=kn().dispatchEvent;return Object(a.useEffect)((function(){"confirmedOneShot"===i.type&&r("TROVE_SURPLUS_COLLATERAL_CLAIMED")}),[i.type,r]),"waitingForApproval"===i.type?Object(E.jsx)(d.h,{variant:"layout.actions",children:Object(E.jsxs)(d.c,{disabled:!0,sx:{mx:2},children:[Object(E.jsx)(d.s,{sx:{mr:2,color:"white"},size:"20px"}),"Waiting for your approval"]})}):"waitingForConfirmation"!==i.type&&"confirmed"!==i.type?Object(E.jsx)(d.h,{variant:"layout.actions",children:Object(E.jsx)(be,{id:n,send:t.claimCollateralSurplus.bind(t,void 0),children:Object(E.jsxs)(d.c,{sx:{mx:2},children:["Claim ",e.prettify()," ETH"]})})}):null},ya=function(e){return{hasSurplusCollateral:!e.collateralSurplusBalance.isZero}},fa=function(){var e=Object(Ze.useLiquitySelector)(ya).hasSurplusCollateral,t=kn().dispatchEvent,n=Object(a.useCallback)((function(){t("OPEN_TROVE_PRESSED")}),[t]);return Object(E.jsxs)(d.d,{children:[Object(E.jsx)(d.j,{children:"Trove"}),Object(E.jsxs)(d.b,{sx:{p:[2,3]},children:[Object(E.jsx)(Jn,{title:"Your Trove has been redeemed.",children:e?"Please reclaim your remaining collateral before opening a new Trove.":"You can borrow MSD by opening a Trove."}),Object(E.jsxs)(d.h,{variant:"layout.actions",children:[e&&Object(E.jsx)(ba,{}),!e&&Object(E.jsx)(d.c,{onClick:n,children:"Open Trove"})]})]})]})},ma=function(e){return{hasSurplusCollateral:!e.collateralSurplusBalance.isZero}},ha=function(){var e=Object(Ze.useLiquitySelector)(ma).hasSurplusCollateral,t=kn().dispatchEvent,n=Object(a.useCallback)((function(){t("OPEN_TROVE_PRESSED")}),[t]);return Object(E.jsxs)(d.d,{children:[Object(E.jsx)(d.j,{children:"Trove"}),Object(E.jsxs)(d.b,{sx:{p:[2,3]},children:[Object(E.jsx)(Jn,{title:"Your Trove has been liquidated.",children:e?"Please reclaim your remaining collateral before opening a new Trove.":"You can borrow MSD by opening a Trove."}),Object(E.jsxs)(d.h,{variant:"layout.actions",children:[e&&Object(E.jsx)(ba,{}),!e&&Object(E.jsx)(d.c,{onClick:n,children:"Open Trove"})]})]})]})},va=function(e){switch(kn().view){case"ACTIVE":return Object(E.jsx)(Kn,Object(j.a)({},e));case"ADJUSTING":return Object(E.jsx)(la,Object(j.a)({},e));case"CLOSING":return Object(E.jsx)(Zn,Object(j.a)(Object(j.a)({},e),{},{collateral:Qe.Decimal.ZERO,debt:Qe.Decimal.ZERO}));case"OPENING":return Object(E.jsx)(oa,Object(j.a)({},e));case"LIQUIDATED":return Object(E.jsx)(ha,Object(j.a)({},e));case"REDEEMED":return Object(E.jsx)(fa,Object(j.a)({},e));case"NONE":return Object(E.jsx)(Xn,Object(j.a)({},e))}},Ta=function(e){return{lusdBalance:e.lusdBalance,lusdInStabilityPool:e.lusdInStabilityPool}},ja=function(e){var t=e.originalDeposit,n=e.editedLUSD,i=e.changePending,r=e.dispatch,s=e.children,o=Object(Ze.useLiquitySelector)(Ta),u=o.lusdBalance,c=o.lusdInStabilityPool,l=Object(a.useState)(),p=!n.eq(t.currentLUSD),b=t.currentLUSD.add(u),y=n.eq(b),f=c.sub(t.currentLUSD).add(n),m=t.currentLUSD.mulDiv(100,c),h=n.mulDiv(100,f),v=t.currentLUSD.nonZero&&Qe.Difference.between(h,m).nonZero;return Object(E.jsxs)(d.d,{children:[Object(E.jsxs)(d.j,{children:["Stability Pool",p&&!i&&Object(E.jsx)(d.c,{variant:"titleIcon",sx:{":enabled:hover":{color:"danger"}},onClick:function(){return r({type:"revert"})},children:Object(E.jsx)(q,{name:"history",size:"lg"})})]}),Object(E.jsxs)(d.b,{sx:{p:[2,3]},children:[Object(E.jsx)(jn,{label:"Deposit",inputId:"deposit-lqty",amount:n.prettify(),maxAmount:b.toString(),maxedOut:y,unit:ze,editingState:l,editedAmount:n.toString(2),setEditedAmount:function(e){return r({type:"setDeposit",newValue:e})}}),h.infinite?Object(E.jsx)(vn,{label:"Pool share",inputId:"deposit-share",amount:"N/A"}):Object(E.jsx)(vn,{label:"Pool share",inputId:"deposit-share",amount:h.prettify(4),pendingAmount:null===v||void 0===v?void 0:v.prettify(4).concat("%"),pendingColor:(null===v||void 0===v?void 0:v.positive)?"success":"danger",unit:"%"}),!t.isEmpty&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(vn,{label:"Liquidation gain",inputId:"deposit-gain",amount:t.collateralGain.prettify(4),color:t.collateralGain.nonZero&&"success",unit:"ETH"}),Object(E.jsx)(vn,{label:"Reward",inputId:"deposit-reward",amount:t.lqtyReward.prettify(),color:t.lqtyReward.nonZero&&"success",unit:Ke,infoIcon:Object(E.jsx)(Vt,{tooltip:Object(E.jsx)(d.d,{variant:"tooltip",sx:{width:"240px"},children:"Although the MADDY rewards accrue every minute, the value on the UI only updates when a user transacts with the Stability Pool. Therefore you may receive more rewards than is displayed when you claim or adjust your deposit."})})})]}),s]}),i&&Object(E.jsx)(xn,{})]})},xa=function(e){return"registered"===e.frontend.status},ga=function(e){var t=e.children,n=e.transactionId,a=e.change,i=L(),r=i.config,s=i.liquity,o=Object(Ze.useLiquitySelector)(xa)?r.frontendTag:void 0,u=pe(n,a.depositLUSD?s.send.depositLUSDInStabilityPool.bind(s.send,a.depositLUSD,o):s.send.withdrawLUSDFromStabilityPool.bind(s.send,a.withdrawLUSD)),c=Object(y.a)(u,1)[0];return Object(E.jsx)(d.c,{onClick:c,children:t})},Oa=Object(a.createContext)(null),wa=function(){var e=Object(a.useContext)(Oa);if(null===e)throw new Error("You must add a <StabilityViewProvider> into the React tree");return e},_a=function(e){var t,n,a=e.originalDeposit,i=e.change,r=null===(t=a.collateralGain.nonZero)||void 0===t?void 0:t.prettify(4).concat(" ETH"),s=null===(n=a.lqtyReward.nonZero)||void 0===n?void 0:n.prettify().concat(" ",Ke);return Object(E.jsxs)(ln,{children:[i.depositLUSD?Object(E.jsxs)(E.Fragment,{children:["You are depositing"," ",Object(E.jsxs)(pn,{children:[i.depositLUSD.prettify()," ",ze]})," ","in the Stability Pool"]}):Object(E.jsxs)(E.Fragment,{children:["You are withdrawing"," ",Object(E.jsxs)(pn,{children:[i.withdrawLUSD.prettify()," ",ze]})," ","to your wallet"]}),(r||s)&&Object(E.jsxs)(E.Fragment,{children:[" ","and claiming at least"," ",r&&s?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(pn,{children:r})," and ",Object(E.jsx)(pn,{children:s})]}):Object(E.jsx)(pn,{children:null!==r&&void 0!==r?r:s})]}),"."]})},Sa=function(e){var t=e.trove,n=e.lusdBalance,a=e.ownFrontend,i=e.haveUndercollateralizedTroves;return{trove:t,lusdBalance:n,haveOwnFrontend:"registered"===a.status,haveUndercollateralizedTroves:i}},ka=function(e){var t=e.stabilityDeposit;return{originalDeposit:t,editedLUSD:t.currentLUSD,changePending:!1}},Da=function(e){return function(t){return Aa(t,e)}},Ea=Da({type:"finishChange"}),Ma=Da({type:"revert"}),Aa=function(e,t){var n=e.originalDeposit,a=e.editedLUSD,i=e.changePending;switch(t.type){case"startChange":return console.log("changeStarted"),Object(j.a)(Object(j.a)({},e),{},{changePending:!0});case"finishChange":return Object(j.a)(Object(j.a)({},e),{},{changePending:!1});case"setDeposit":return Object(j.a)(Object(j.a)({},e),{},{editedLUSD:Qe.Decimal.from(t.newValue)});case"revert":return Object(j.a)(Object(j.a)({},e),{},{editedLUSD:n.currentLUSD});case"updateStore":var r=t.stateChange.stabilityDeposit;if(!r)return e;var s=Object(j.a)(Object(j.a)({},e),{},{originalDeposit:r}),o=!r.initialLUSD.eq(n.initialLUSD)||r.currentLUSD.gt(n.currentLUSD)||r.collateralGain.lt(n.collateralGain)||r.lqtyReward.lt(n.lqtyReward);return i&&o?Ea(Ma(s)):Object(j.a)(Object(j.a)({},s),{},{editedLUSD:r.apply(n.whatChanged(a))})}},Ca="stability-deposit",La=function(){var e=Object(Ze.useLiquityReducer)(Aa,ka),t=Object(y.a)(e,2),n=t[0],i=n.originalDeposit,r=n.editedLUSD,s=n.changePending,o=t[1],u=Object(Ze.useLiquitySelector)(Sa),c=wa().dispatchEvent,l=Object(a.useCallback)((function(){c("CANCEL_PRESSED")}),[c]),p=function(e,t,n){var a,i=n.lusdBalance,r=n.haveOwnFrontend,s=n.haveUndercollateralizedTroves,o=e.whatChanged(t);return r?[void 0,Object(E.jsx)(Dn,{children:"You can\u2019t deposit using a wallet address that is registered as a frontend."})]:o?(null===(a=o.depositLUSD)||void 0===a?void 0:a.gt(i))?[void 0,Object(E.jsxs)(Dn,{children:["The amount you're trying to deposit exceeds your balance by"," ",Object(E.jsxs)(pn,{children:[o.depositLUSD.sub(i).prettify()," ",ze]}),"."]})]:o.withdrawLUSD&&s?[void 0,Object(E.jsx)(Dn,{children:"You're not allowed to withdraw MSD from your Stability Deposit when there are undercollateralized Troves. Please liquidate those Troves or try again later."})]:[o,Object(E.jsx)(_a,{originalDeposit:e,change:o})]:[void 0,void 0]}(i,r,u),b=Object(y.a)(p,2),f=b[0],m=b[1],h=i.isEmpty,v=le(Ca);return Object(a.useEffect)((function(){"waitingForApproval"===v.type||"waitingForConfirmation"===v.type?o({type:"startChange"}):"failed"===v.type||"cancelled"===v.type?o({type:"finishChange"}):"confirmedOneShot"===v.type&&c("DEPOSIT_CONFIRMED")}),[v.type,o,c]),Object(E.jsxs)(ja,{originalDeposit:i,editedLUSD:r,changePending:s,dispatch:o,children:[null!==m&&void 0!==m?m:h?Object(E.jsxs)(ln,{children:["Enter the amount of ",ze," you'd like to deposit."]}):Object(E.jsxs)(ln,{children:["Adjust the ",ze," amount to deposit or withdraw."]}),Object(E.jsxs)(d.h,{variant:"layout.actions",children:[Object(E.jsx)(d.c,{variant:"cancel",onClick:l,children:"Cancel"}),f?Object(E.jsx)(ga,{transactionId:Ca,change:f,children:"Confirm"}):Object(E.jsx)(d.c,{disabled:!0,children:"Confirm"})]})]})},Ra=function(e){var t=e.disabled,n=e.children,a=L().liquity,i=pe("stability-deposit",a.send.transferCollateralGainToTrove.bind(a.send)),r=Object(y.a)(i,1)[0];return Object(E.jsx)(d.c,{variant:"outline",sx:{mt:3,width:"100%"},onClick:r,disabled:t,children:n})},Ia=function(e){var t=e.disabled,n=e.children,a=L().liquity,i=pe("stability-deposit",a.send.withdrawGainsFromStabilityPool.bind(a.send)),r=Object(y.a)(i,1)[0];return Object(E.jsx)(d.c,{onClick:r,disabled:t,children:n})},Pa=function(e){return{remainingStabilityPoolLQTYReward:e.remainingStabilityPoolLQTYReward}},Ba=function(){var e=Object(Ze.useLiquitySelector)(Pa).remainingStabilityPoolLQTYReward;return Object(E.jsxs)(d.h,{sx:{mr:2,fontSize:2,fontWeight:"medium"},children:[e.prettify(0)," MADDY remaining"]})},Fa=function(e){var t=e.children;return Object(E.jsx)(d.h,{variant:"layout.badge",children:t})},Na=n(48),Ua=function(e,t){return t in e},qa=function(e,t,n){if("object"!==typeof n||null===n)throw new Error("unexpected response from CoinGecko");var a,i=Object(Na.a)(e);try{for(i.s();!(a=i.n()).done;){var r=a.value;if(!Ua(n,r))throw new Error('coin "'.concat(r,'" missing from CoinGecko response'));var s,o=n[r],u=Object(Na.a)(t);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(!Ua(o,c))throw new Error('currency "'.concat(c,'" missing from CoinGecko response'));if("number"!==typeof o[c])throw new Error('price of coin "'.concat(r,'" in currency "').concat(c,'" is not a number'))}}catch(d){u.e(d)}finally{u.f()}}}catch(d){i.e(d)}finally{i.f()}return n},Ya=function(){var e=Object(T.a)(v.a.mark((function e(t,n){var a,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.coingecko.com/api/v3/simple/price?"+new URLSearchParams({ids:t.join(","),vs_currencies:n.join(",")}),e.next=3,window.fetch(a,{headers:{accept:"application/json"}});case 3:if((i=e.sent).ok){e.next=6;break}throw new Error("couldn't fetch price from CoinGecko: got status ".concat(i.status));case 6:return e.t0=qa,e.t1=t,e.t2=n,e.next=11,i.json();case 11:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ga=function(){var e=Object(T.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ya(["liquity"],["usd"]);case 2:return t=e.sent,e.abrupt("return",{lqtyPriceUSD:Qe.Decimal.from(t.liquity.usd)});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qa=function(e){return{lusdInStabilityPool:e.lusdInStabilityPool,remainingStabilityPoolLQTYReward:e.remainingStabilityPoolLQTYReward}},Wa=Qe.Decimal.from(1-Math.pow(.5,1/365)),Ha=Wa.mul(100),Va=function(){var e=Object(Ze.useLiquitySelector)(Qa),t=e.lusdInStabilityPool,n=e.remainingStabilityPoolLQTYReward,i=Object(a.useState)(void 0),r=Object(y.a)(i,2),s=r[0],o=r[1],u=n.isZero||t.isZero;if(Object(a.useEffect)((function(){Object(T.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ga();case 3:t=e.sent,n=t.lqtyPriceUSD,o(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]),u||void 0===s)return null;var c=n.mul(Wa).mul(s).mulDiv(36500,t),l=n.mul(s);return c.isZero?null:Object(E.jsxs)(Fa,{children:[Object(E.jsxs)(d.t,{children:["LQTY APR ",c.toString(2),"%"]}),Object(E.jsx)(Vt,{tooltip:Object(E.jsxs)(d.d,{variant:"tooltip",sx:{width:["220px","518px"]},children:[Object(E.jsxs)(d.p,{children:["An ",Object(E.jsx)(d.t,{sx:{fontWeight:"bold"},children:"estimate"})," of the LQTY return on the LUSD deposited to the Stability Pool over the next year, not including your ETH gains from liquidations."]}),Object(E.jsxs)(d.p,{sx:{fontSize:"12px",fontFamily:"monospace",mt:2},children:["($LQTY_REWARDS * DAILY_ISSUANCE% / DEPOSITED_LUSD) * 365 * 100 ="," ",Object(E.jsx)(d.t,{sx:{fontWeight:"bold"},children:" APR"})]}),Object(E.jsxs)(d.p,{sx:{fontSize:"12px",fontFamily:"monospace"},children:["($",l.shorten()," * ",Ha.toString(4),"% / $",t.shorten(),") * 365 * 100 =",Object(E.jsxs)(d.t,{sx:{fontWeight:"bold"},children:[" ",c.toString(2),"%"]})]})]})})]})},Za=function(e){return{stabilityDeposit:e.stabilityDeposit,trove:e.trove,lusdInStabilityPool:e.lusdInStabilityPool}},za=function(){var e=wa().dispatchEvent,t=Object(Ze.useLiquitySelector)(Za),n=t.stabilityDeposit,i=t.trove,r=t.lusdInStabilityPool,s=n.currentLUSD.mulDiv(100,r),o=Object(a.useCallback)((function(){e("ADJUST_DEPOSIT_PRESSED")}),[e]),u=!n.lqtyReward.isZero,c=!n.collateralGain.isZero,l=!i.isEmpty,p=le("stability-deposit"),b="waitingForApproval"===p.type||"waitingForConfirmation"===p.type;return Object(a.useEffect)((function(){"confirmedOneShot"===p.type&&e("REWARDS_CLAIMED")}),[p.type,e]),Object(E.jsxs)(d.d,{children:[Object(E.jsxs)(d.j,{children:["Stability Pool",!b&&Object(E.jsx)(d.h,{sx:{justifyContent:"flex-end"},children:Object(E.jsx)(Ba,{})})]}),Object(E.jsxs)(d.b,{sx:{p:[2,3]},children:[Object(E.jsxs)(d.b,{children:[Object(E.jsx)(Tn,{label:"Deposit",inputId:"deposit-lusd",amount:n.currentLUSD.prettify(),unit:ze}),Object(E.jsx)(vn,{label:"Pool share",inputId:"deposit-share",amount:s.prettify(4),unit:"%"}),Object(E.jsx)(vn,{label:"Liquidation gain",inputId:"deposit-gain",amount:n.collateralGain.prettify(4),color:n.collateralGain.nonZero&&"success",unit:"ETH"}),Object(E.jsxs)(d.h,{sx:{alignItems:"center"},children:[Object(E.jsx)(vn,{label:"Reward",inputId:"deposit-reward",amount:n.lqtyReward.prettify(),color:n.lqtyReward.nonZero&&"success",unit:Ke,infoIcon:Object(E.jsx)(Vt,{tooltip:Object(E.jsx)(d.d,{variant:"tooltip",sx:{width:"240px"},children:"Although the MADDY rewards accrue every minute, the value on the UI only updates when a user transacts with the Stability Pool. Therefore you may receive more rewards than is displayed when you claim or adjust your deposit."})})}),Object(E.jsx)(d.h,{sx:{justifyContent:"flex-end",flex:1},children:Object(E.jsx)(Va,{})})]})]}),Object(E.jsxs)(d.h,{variant:"layout.actions",children:[Object(E.jsxs)(d.c,{variant:"outline",onClick:o,children:[Object(E.jsx)(q,{name:"pen",size:"sm"}),"\xa0Adjust"]}),Object(E.jsx)(Ia,{disabled:!c&&!u,children:"Claim ETH and MADDY"})]}),l&&Object(E.jsx)(Ra,{disabled:!c,children:"Claim MADDY and move ETH to Trove"})]}),b&&Object(E.jsx)(xn,{})]})},Ka=function(e){var t=wa().dispatchEvent,n=Object(a.useCallback)((function(){t("DEPOSIT_PRESSED")}),[t]);return Object(E.jsxs)(d.d,{children:[Object(E.jsxs)(d.j,{children:["Stability Pool",Object(E.jsx)(d.h,{sx:{justifyContent:"flex-end"},children:Object(E.jsx)(Ba,{})})]}),Object(E.jsxs)(d.b,{sx:{p:[2,3]},children:[Object(E.jsx)(Jn,{title:"You have no MSD in the Stability Pool.",children:"You can earn ETH and MADDY rewards by depositing MSD."}),Object(E.jsxs)(d.h,{variant:"layout.actions",children:[Object(E.jsx)(d.h,{sx:{justifyContent:"flex-start",flex:1,alignItems:"center"},children:Object(E.jsx)(Va,{})}),Object(E.jsx)(d.c,{onClick:n,children:"Deposit"})]})]})]})},Ja=function(e){switch(wa().view){case"NONE":return Object(E.jsx)(Ka,Object(j.a)({},e));case"DEPOSITING":case"ADJUSTING":return Object(E.jsx)(La,Object(j.a)({},e));case"ACTIVE":return Object(E.jsx)(za,Object(j.a)({},e))}},Xa=function(e){return e.price},$a=function(){var e=L().liquity,t=e.send,n=e.connection._priceFeedIsTestnet,i=Object(Ze.useLiquitySelector)(Xa),r=Object(a.useState)(i.toString(2)),s=Object(y.a)(r,2),o=s[0],u=s[1];return Object(a.useEffect)((function(){u(i.toString(2))}),[i]),Object(E.jsxs)(d.d,{children:[Object(E.jsx)(d.j,{children:"Price feed"}),Object(E.jsx)(d.b,{sx:{p:[2,3]},children:Object(E.jsxs)(d.h,{sx:{alignItems:"stretch"},children:[Object(E.jsx)(d.m,{children:"ETH"}),Object(E.jsx)(d.m,{variant:"unit",children:"$"}),Object(E.jsx)(d.l,{type:n?"number":"text",step:"any",value:o,onChange:function(e){return u(e.target.value)},disabled:!n}),n&&Object(E.jsx)(d.h,{sx:{ml:2,alignItems:"center"},children:Object(E.jsx)(be,{id:"set-price",tooltip:"Set",tooltipPlacement:"bottom",send:function(e){if(!o)throw new Error("Invalid price");return t.setPrice(Qe.Decimal.from(o),e)},children:Object(E.jsx)(d.c,{variant:"icon",children:Object(E.jsx)(q,{name:"chart-line",size:"lg"})})})})]})})]})},ei=function(){return Object(E.jsx)(Jn,{title:$e,children:et})},ti=n(8),ni=Xe,ai=ct,ii=dt,ri=lt,si=rt,oi=it,ui=function(){return Object(ti.b)(d.h,{sx:{borderTop:"1px dotted gray",width:"100%",mt:"-20px",mb:0}})},ci=function(e){return e<0?"Elapsed":0===e?"Now":parseFloat(e.toFixed(1))<1?"".concat(e.toFixed(1)," days"):"".concat(e.toFixed(0)," days")},di=function(e){return Array.from(Array(e)).map((function(e,t){return Object(ti.b)(ui,{},t)}))},li=function(){var e=qt().bonds,t=e?e.filter((function(e){return"PENDING"===e.status})):[],n=t.length>0;return Object(ti.c)(d.d,{children:[Object(ti.b)(d.j,{children:Object(ti.c)(d.h,{children:["Pending bonds"," ",Object(ti.b)(Vt,{placement:"left",size:"xs",tooltip:Object(ti.b)(d.d,{variant:"tooltip",children:ni.description})})]})}),Object(ti.c)(d.b,{sx:{p:[2,3]},children:[!n&&Object(ti.b)(ei,{}),n&&Object(ti.c)(d.i,{gap:"12px 0px",columns:[5,"1fr 1fr 1.1fr 1.3fr 1fr"],sx:{alignItems:"center",justifyItems:"center",alignContent:"center"},children:[Object(ti.c)(d.t,{sx:{fontWeight:"bold"},children:[ai.term," ",Object(ti.b)(Vt,{size:"xs",tooltip:Object(ti.b)(d.d,{variant:"tooltip",children:ai.description})})]}),Object(ti.c)(d.t,{sx:{fontWeight:"bold"},children:[ii.term," ",Object(ti.b)(Vt,{size:"xs",tooltip:Object(ti.b)(d.d,{variant:"tooltip",children:ii.description})})]}),Object(ti.c)(d.t,{sx:{fontWeight:"bold"},children:[ri.term," ",Object(ti.b)(Vt,{size:"xs",tooltip:Object(ti.b)(d.d,{variant:"tooltip",children:ri.description})})]}),Object(ti.c)(d.t,{sx:{fontWeight:"bold"},children:[oi.term," ",Object(ti.b)(Vt,{size:"xs",tooltip:Object(ti.b)(d.d,{variant:"tooltip",children:oi.description})})]}),Object(ti.c)(d.t,{sx:{fontWeight:"bold"},children:[si.term," ",Object(ti.b)(Vt,{size:"xs",tooltip:Object(ti.b)(d.d,{variant:"tooltip",children:si.description})})]}),di(5),t.map((function(e,t){var n=(e.breakEvenTime.getTime()-Date.now())/1e3/60/60/24,a=(e.rebondTime.getTime()-Date.now())/1e3/60/60/24;return Object(ti.c)(i.a.Fragment,{children:[Object(ti.c)(d.t,{children:[e.deposit.shorten()," MSD"]}),Object(ti.c)(d.t,{children:[e.accrued.shorten()," bMSD"]}),Object(ti.c)(d.t,{children:[e.marketValue.shorten()," MSD"]}),Object(ti.b)(d.t,{children:ci(n)}),Object(ti.b)(d.t,{children:ci(a)}),di(5)]},t)}))]}),Object(ti.b)(d.h,{variant:"layout.actions",mt:3,children:Object(ti.b)(rn,{to:"/bonds/pending",m:0,p:0,children:Object(ti.b)(d.c,{variant:"primary",children:"Go to bonds"})})})]})]})},pi=function(){return Object(E.jsxs)(d.g,{variant:"columns",children:[Object(E.jsxs)(d.g,{variant:"left",children:[Object(E.jsx)(li,{}),Object(E.jsx)(va,{}),Object(E.jsx)(Ja,{})]}),Object(E.jsxs)(d.g,{variant:"right",children:[Object(E.jsx)($t,{}),Object(E.jsx)($a,{})]})]})},bi=function(){var e=L().config.frontendTag;return Object(E.jsxs)(d.b,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-around",m:3,p:3,maxWidth:"500px",border:1,borderRadius:"8px",borderColor:"warning",boxShadow:2},children:[Object(E.jsxs)(d.h,{sx:{alignItems:"center",mx:3,mb:2},children:[Object(E.jsx)(q,{name:"exclamation-triangle",size:"2x"}),Object(E.jsx)(d.j,{sx:{ml:3,fontSize:"18px"},children:"Frontend not yet registered"})]}),Object(E.jsxs)(d.p,{sx:{fontSize:2},children:["If you're the operator of this frontend, please select ",Object(E.jsx)("b",{children:Je(e)})," ","in your wallet to proceed with the registration."]})]})},yi=function(e){var t=e.kickbackRate,n=L().liquity.send,a="register-frontend",i=le(a);return"waitingForApproval"===i.type?Object(E.jsxs)(d.c,{disabled:!0,children:[Object(E.jsx)(d.s,{sx:{mr:2,color:"white"},size:"20px"}),"Waiting for your approval"]}):"waitingForConfirmation"!==i.type&&"confirmed"!==i.type?Object(E.jsx)(be,{id:a,send:n.registerFrontend.bind(n,t),children:Object(E.jsx)(d.c,{children:"Register"})}):null},fi=function(){var e=L().account,t=Object(a.useState)(Qe.Decimal.from(.8)),n=Object(y.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)(Qe.Decimal.from(.2)),o=Object(y.a)(s,2),u=o[0],c=o[1],l=Object(a.useState)("80"),p=Object(y.a)(l,2),b=p[0],f=p[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(d.d,{children:[Object(E.jsx)(d.j,{children:"Choose a kickback rate"}),Object(E.jsx)(d.b,{sx:{p:[2,3]},children:Object(E.jsxs)(d.h,{children:[Object(E.jsx)(d.m,{children:"Kickback rate"}),Object(E.jsx)(d.m,{variant:"unit",children:"%"}),Object(E.jsx)(d.l,{sx:{maxWidth:"200px"},type:"number",step:"any",value:b,onChange:function(e){f(e.target.value);try{var t=Qe.Decimal.from(e.target.value||0).div(100),n=Qe.Decimal.ONE.sub(t);r(t),c(n)}catch(a){}},onBlur:function(){f(i.mul(100).toString())}})]})})]}),Object(E.jsxs)(d.b,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-around",m:3,mt:[3,null,4],mb:4,p:3,maxWidth:"450px",border:1,borderRadius:"8px",borderColor:"danger",boxShadow:2},children:[Object(E.jsxs)(d.h,{sx:{alignItems:"center",mx:3,fontSize:4},children:[Object(E.jsx)(q,{name:"hand-paper"}),Object(E.jsx)(d.j,{sx:{ml:3,fontSize:"18px"},children:"Before you proceed"})]}),Object(E.jsxs)(d.p,{sx:{fontSize:1,mt:3},children:["You are about to register ",Object(E.jsx)("b",{children:Je(e)})," to receive"," ",Object(E.jsxs)("b",{children:[u.mul(100).toString(),"%"]})," of the MADDY rewards earned through this frontend."]}),Object(E.jsx)(d.p,{sx:{fontSize:1,mt:3,fontWeight:"bold"},children:"You will not be able to change the kickback rate for this address later."}),Object(E.jsx)(d.p,{sx:{fontSize:1,mt:3},children:"If you'd like to use a different kickback rate in the future, you will need to repeat this registration with a different address."})]}),Object(E.jsx)(yi,{kickbackRate:i})]})},mi=function(e){var t=e.onDismiss;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(d.b,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-around",m:3,mt:4,mb:4,p:4,maxWidth:"500px",bg:"rgba(40, 192, 129, 0.05)",color:"success",border:1,borderRadius:"8px",borderColor:"success",boxShadow:2},children:[Object(E.jsxs)(d.h,{sx:{alignItems:"center",mx:3,mb:4,fontSize:5},children:[Object(E.jsx)(q,{name:"check"}),Object(E.jsx)(d.j,{sx:{ml:3,fontSize:4},children:"Success!"})]}),Object(E.jsx)(d.p,{sx:{fontSize:2},children:"Your frontend is now ready to receive MADDY rewards."})]}),Object(E.jsx)(d.c,{onClick:t,children:"Go to Dashboard"})]})},hi=function(e){return e.frontend},vi=function(){var e=L(),t=e.account,n=e.config.frontendTag,i=Object(Ze.useLiquitySelector)(hi),r=n!==x.a&&"unregistered"===i.status,s=Object(a.useState)(!1),o=Object(y.a)(s,2),u=o[0],c=o[1];return Object(a.useEffect)((function(){r&&c(!0)}),[r]),u||r?"registered"===i.status?Object(E.jsx)(mi,{onDismiss:function(){return c(!1)}}):t===n?Object(E.jsx)(fi,{}):Object(E.jsx)(bi,{}):Object(E.jsx)(pi,{})},Ti=function(){var e=L().liquity.send,t=Object(a.useState)("90"),n=Object(y.a)(t,2),i=n[0],r=n[1];return Object(E.jsxs)(d.d,{children:[Object(E.jsx)(d.j,{children:"Liquidate"}),Object(E.jsx)(d.b,{sx:{p:[2,3]},children:Object(E.jsxs)(d.h,{sx:{alignItems:"stretch"},children:[Object(E.jsx)(d.m,{children:"Up to"}),Object(E.jsx)(d.l,{type:"number",min:"1",step:"1",value:i,onChange:function(e){return r(e.target.value)}}),Object(E.jsx)(d.m,{children:"Troves"}),Object(E.jsx)(d.h,{sx:{ml:2,alignItems:"center"},children:Object(E.jsx)(be,{id:"batch-liquidate",tooltip:"Liquidate",tooltipPlacement:"bottom",send:function(t){if(!i)throw new Error("Invalid number");return e.liquidateUpTo(parseInt(i,10),t)},children:Object(E.jsx)(d.c,{variant:"dangerIcon",children:Object(E.jsx)(q,{name:"trash",size:"lg"})})})})]})})]})},ji=n(314),xi=n.n(ji),gi=function(e){var t=e.children,n=e.short,a=Object(I.a)(e,["children","short"]);return Object(E.jsxs)(d.b,Object(j.a)(Object(j.a)({as:"span"},a),{},{children:[Object(E.jsx)(d.b,{as:"span",sx:{display:["none","unset"]},children:t}),Object(E.jsx)(d.b,{as:"span",sx:{display:["unset","none"]},children:n})]}))},Oi="40px",wi=function(e,t){return[e.collateralRatioIsBelowMinimum(t),"Collateral ratio not low enough"]},_i=function(e,t,n,a){var i=e.collateralRatio(t);return i.gte(Qe.MINIMUM_COLLATERAL_RATIO)&&i.lt(n)?[e.debt.lte(a),"There's not enough LUSD in the Stability pool to cover the debt"]:wi(e,t)},Si=function(e){var t=e.numberOfTroves,n=e.price,a=e.total,i=e.lusdInStabilityPool,r=e.blockTag;return{numberOfTroves:t,price:n,recoveryMode:a.collateralRatioIsBelowCritical(n),totalCollateralRatio:a.collateralRatio(n),lusdInStabilityPool:i,blockTag:r}},ki=function(e){var t=e.pageSize,n=Object(Ze.useLiquitySelector)(Si),i=n.blockTag,r=n.numberOfTroves,s=n.recoveryMode,o=n.totalCollateralRatio,u=n.lusdInStabilityPool,c=n.price,l=L().liquity,p=Object(a.useState)(!0),b=Object(y.a)(p,2),f=b[0],m=b[1],h=Object(a.useState)(),v=Object(y.a)(h,2),T=v[0],j=v[1],x=Object(a.useState)({}),g=Object(y.a)(x,2),O=g[0],w=g[1],_=Object(a.useCallback)((function(){return w({})}),[]),S=Object(a.useState)(0),k=Object(y.a)(S,2),D=k[0],M=k[1],A=Math.ceil(r/t)||1,C=Math.min(D,A-1);Object(a.useEffect)((function(){D!==C&&M(C)}),[D,C]),Object(a.useEffect)((function(){var e=!0;return m(!0),l.getTroves({first:t,sortedBy:"ascendingCollateralRatio",startingAt:C*t},{blockTag:i}).then((function(t){e&&(j(t),m(!1))})),function(){e=!1}}),[l,C,t,O]),Object(a.useEffect)((function(){_()}),[_,r]);var R=Object(a.useState)(),I=Object(y.a)(R,2),P=I[0],B=I[1];return Object(a.useEffect)((function(){if(void 0!==P){var e=!1;return setTimeout((function(){e||B(void 0)}),2e3),function(){e=!0}}}),[P]),Object(E.jsxs)(d.d,{sx:{width:"100%"},children:[Object(E.jsxs)(d.j,{children:[Object(E.jsx)(gi,{short:"Troves",children:"Risky Troves"}),Object(E.jsxs)(d.h,{sx:{alignItems:"center"},children:[0!==r&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(gi,{short:"page ".concat(C+1," / ").concat(A),sx:{mr:[0,3],fontWeight:"body",fontSize:[1,2],letterSpacing:[-1,0]},children:[C*t+1,"-",Math.min((C+1)*t,r)," ","of ",r]}),Object(E.jsx)(d.c,{variant:"titleIcon",onClick:function(){C>0&&M(C-1)},disabled:C<=0,children:Object(E.jsx)(q,{name:"chevron-left",size:"lg"})}),Object(E.jsx)(d.c,{variant:"titleIcon",onClick:function(){C<A-1&&M(C+1)},disabled:C>=A-1,children:Object(E.jsx)(q,{name:"chevron-right",size:"lg"})})]}),Object(E.jsx)(d.c,{variant:"titleIcon",sx:{opacity:f?0:1,ml:[0,3]},onClick:_,children:Object(E.jsx)(q,{name:"redo",size:"lg"})})]})]}),T&&0!==T.length?Object(E.jsx)(d.b,{sx:{p:[2,3]},children:Object(E.jsxs)(d.b,{as:"table",sx:{mt:2,pl:[1,4],width:"100%",textAlign:"center",lineHeight:1.15},children:[Object(E.jsxs)("colgroup",{children:[Object(E.jsx)("col",{style:{width:"50px"}}),Object(E.jsx)("col",{}),Object(E.jsx)("col",{}),Object(E.jsx)("col",{}),Object(E.jsx)("col",{style:{width:Oi}})]}),Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Owner"}),Object(E.jsxs)("th",{children:[Object(E.jsx)(gi,{short:"Coll.",children:"Collateral"}),Object(E.jsx)(d.b,{sx:{fontSize:[0,1],fontWeight:"body",opacity:.5},children:"ETH"})]}),Object(E.jsxs)("th",{children:["Debt",Object(E.jsx)(d.b,{sx:{fontSize:[0,1],fontWeight:"body",opacity:.5},children:ze})]}),Object(E.jsxs)("th",{children:["Coll.",Object(E.jsx)("br",{}),"Ratio"]}),Object(E.jsx)("th",{})]})}),Object(E.jsx)("tbody",{children:T.map((function(e){return!e.isEmpty&&Object(E.jsxs)("tr",{children:[Object(E.jsxs)("td",{style:{display:"flex",alignItems:"center",height:Oi},children:[Object(E.jsx)(ee,{message:e.ownerAddress,placement:"top",children:Object(E.jsxs)(d.t,{variant:"address",sx:{width:["73px","unset"],overflow:"hidden",position:"relative"},children:[Je(e.ownerAddress),Object(E.jsx)(d.b,{sx:{display:["block","none"],position:"absolute",top:0,right:0,width:"50px",height:"100%",background:"linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)"}})]})}),Object(E.jsx)(xi.a,{text:e.ownerAddress,onCopy:function(){return B(e.ownerAddress)},children:Object(E.jsx)(d.c,{variant:"icon",sx:{width:"24px",height:"24px"},children:Object(E.jsx)(q,{name:P===e.ownerAddress?"clipboard-check":"clipboard",size:"sm"})})})]}),Object(E.jsx)("td",{children:Object(E.jsx)(gi,{short:e.collateral.shorten(),children:e.collateral.prettify(4)})}),Object(E.jsx)("td",{children:Object(E.jsx)(gi,{short:e.debt.shorten(),children:e.debt.prettify()})}),Object(E.jsx)("td",{children:(t=e.collateralRatio(c),Object(E.jsx)(d.t,{color:t.gt(Qe.CRITICAL_COLLATERAL_RATIO)?"success":t.gt(1.2)?"warning":"danger",children:new Qe.Percent(t).prettify()}))}),Object(E.jsx)("td",{children:Object(E.jsx)(be,{id:"liquidate-".concat(e.ownerAddress),tooltip:"Liquidate",requires:[s?_i(e,c,o,u):wi(e,c)],send:l.send.liquidate.bind(l.send,e.ownerAddress),children:Object(E.jsx)(d.c,{variant:"dangerIcon",children:Object(E.jsx)(q,{name:"trash"})})})})]},e.ownerAddress);var t}))})]})}):Object(E.jsx)(d.b,{sx:{p:[2,3]},children:Object(E.jsx)(d.b,{sx:{p:4,fontSize:3,textAlign:"center"},children:T?"There are no Troves yet":"Loading..."})}),f&&Object(E.jsx)(xn,{})]})},Di=function(){return Object(E.jsxs)(d.g,{variant:"columns",children:[Object(E.jsxs)(d.g,{variant:"left",children:[Object(E.jsx)(d.d,{children:Object(E.jsx)(d.b,{sx:{p:[2,3]},children:Object(E.jsxs)(Jn,{title:"Bot functionality",children:[Object(E.jsx)(d.p,{children:"Liquidation is expected to be carried out by bots."}),Object(E.jsx)(d.p,{children:"Early on you may be able to manually liquidate Troves, but as the system matures this will become less likely."})]})})}),Object(E.jsx)(Ti,{})]}),Object(E.jsx)(d.g,{variant:"right",children:Object(E.jsx)($t,{})}),Object(E.jsx)(ki,{pageSize:10})]})},Ei=function(e){var t=e.disabledDays,n=e.unlockDate;return Object(E.jsxs)(d.d,{children:[Object(E.jsx)(d.j,{children:"Redeem"}),Object(E.jsx)(d.b,{sx:{p:[2,3]},children:Object(E.jsxs)(Jn,{title:"Redemption is not enabled yet.",icon:Object(E.jsx)(d.b,{sx:{color:"warning"},children:Object(E.jsx)(q,{name:"exclamation-triangle"})}),children:[Object(E.jsxs)(d.p,{children:["MSD redemption is disabled for the first ",t," days after launch."]}),Object(E.jsxs)(d.p,{sx:{mt:3},children:["It will be unlocked at"," ",Object(E.jsx)(d.t,{sx:{fontWeight:"medium"},children:n.toLocaleString()}),"."]})]})})]})},Mi=function(e){var t=e.transactionId,n=e.disabled,a=e.lusdAmount,i=e.maxRedemptionRate,r=L().liquity.send,s=pe(t,r.redeemLUSD.bind(r,a,i)),o=Object(y.a)(s,1)[0];return Object(E.jsx)(d.c,{disabled:n,onClick:o,children:"Confirm"})},Ai=new Qe.Percent(Qe.MINIMUM_COLLATERAL_RATIO).toString(0),Ci=function(e){return{price:e.price,fees:e.fees,total:e.total,lusdBalance:e.lusdBalance}},Li="redemption",Ri=function(){var e=Object(Ze.useLiquitySelector)(Ci),t=e.price,n=e.fees,i=e.total,r=e.lusdBalance,s=Object(a.useState)(Qe.Decimal.ZERO),o=Object(y.a)(s,2),u=o[0],c=o[1],l=Object(a.useState)(!1),p=Object(y.a)(l,2),b=p[0],f=p[1],m=Object(a.useState)(),h=!u.isZero,v=u.div(t),T=n.redemptionRate(u.div(i.debt)),j=new Qe.Percent(T),x=v.mul(T),g=T.add(.001),O=le(Li);Object(a.useEffect)((function(){"waitingForApproval"===O.type||"waitingForConfirmation"===O.type?f(!0):"failed"===O.type||"cancelled"===O.type?f(!1):"confirmed"===O.type&&(c(Qe.Decimal.ZERO),f(!1))}),[O.type,f,c]);var w=i.collateralRatioIsBelowMinimum(t)?[!1,Object(E.jsxs)(Dn,{children:["You can't redeem MSD when the total collateral ratio is less than"," ",Object(E.jsx)(pn,{children:Ai}),". Please try again later."]})]:u.gt(r)?[!1,Object(E.jsxs)(Dn,{children:["The amount you're trying to redeem exceeds your balance by"," ",Object(E.jsxs)(pn,{children:[u.sub(r).prettify()," ",ze]}),"."]})]:[!0,Object(E.jsxs)(ln,{children:["You will receive ",Object(E.jsxs)(pn,{children:[v.sub(x).prettify(4)," ETH"]})," in exchange for"," ",Object(E.jsxs)(pn,{children:[u.prettify()," ",ze]}),"."]})],_=Object(y.a)(w,2),S=_[0],k=_[1];return Object(E.jsxs)(d.d,{children:[Object(E.jsxs)(d.j,{children:["Redeem",h&&!b&&Object(E.jsx)(d.c,{variant:"titleIcon",sx:{":enabled:hover":{color:"danger"}},onClick:function(){return c(Qe.Decimal.ZERO)},children:Object(E.jsx)(q,{name:"history",size:"lg"})})]}),Object(E.jsxs)(d.b,{sx:{p:[2,3]},children:[Object(E.jsx)(jn,{label:"Redeem",inputId:"redeem-lusd",amount:u.prettify(),maxAmount:r.toString(),maxedOut:u.eq(r),unit:ze,editingState:m,editedAmount:u.toString(2),setEditedAmount:function(e){return c(Qe.Decimal.from(e))}}),Object(E.jsx)(vn,{label:"Redemption Fee",inputId:"redeem-fee",amount:x.toString(4),pendingAmount:j.toString(2),unit:"ETH",infoIcon:Object(E.jsx)(Vt,{tooltip:Object(E.jsx)(d.d,{variant:"tooltip",sx:{minWidth:"240px"},children:"The Redemption Fee is charged as a percentage of the redeemed Ether. The Redemption Fee depends on MSD redemption volumes and is 0.5% at minimum."})})}),(h||!S)&&k||Object(E.jsxs)(ln,{children:["Enter the amount of ",ze," you'd like to redeem."]}),Object(E.jsx)(d.h,{variant:"layout.actions",children:Object(E.jsx)(Mi,{transactionId:Li,disabled:!h||!S,lusdAmount:u,maxRedemptionRate:g})})]}),b&&Object(E.jsx)(xn,{})]})},Ii=function(e){return e.blockTimestamp},Pi=function(){var e=L().liquity.connection,t=e.deploymentDate,n=e.bootstrapPeriod,a=Object(Ze.useLiquitySelector)(Ii),i=Math.round(n/86400),r=t.getTime()/1e3+n,s=new Date(1e3*r);return a<r?Object(E.jsx)(Ei,{disabledDays:i,unlockDate:s}):Object(E.jsx)(Ri,{})},Bi=function(){var e,t=L().liquity.connection.addresses;return Object(E.jsxs)(d.g,{variant:"columns",children:[Object(E.jsxs)(d.g,{variant:"left",children:[Object(E.jsx)(d.d,{children:Object(E.jsx)(d.b,{sx:{p:[2,3]},children:Object(E.jsxs)(Jn,{title:"Bot functionality",children:[Object(E.jsx)(d.p,{children:"Redemptions are expected to be carried out by bots when arbitrage opportunities emerge."}),Object(E.jsxs)(d.p,{sx:{mt:2},children:["Most of the time you will get a better rate for converting MSD to ETH on"," ",Object(E.jsxs)(d.n,{href:(e=t.lusdToken,"https://app.uniswap.org/#/swap?inputCurrency=".concat(e,"&outputCurrency=ETH")),target:"_blank",children:["Uniswap ",Object(E.jsx)(q,{name:"external-link-alt",size:"xs"})]})," ","or other exchanges."]}),Object(E.jsxs)(d.p,{sx:{mt:2},children:[Object(E.jsx)("strong",{children:"Note"}),": Redemption is not for repaying your loan. To repay your loan, adjust your Trove on the ",Object(E.jsx)(d.n,{href:"#/",children:"Dashboard"}),"."]})]})})}),Object(E.jsx)(Pi,{})]}),Object(E.jsx)(d.g,{variant:"right",children:Object(E.jsx)($t,{})})]})},Fi=n(583),Ni=n(591),Ui=n(169),qi=n(339),Yi=n(328),Gi=["Pending","Reserve","Permanent"],Qi=["#7a77c2","#6d6aad","#5f5c97"],Wi=Math.PI/180,Hi=[{name:"Pending",value:85e4,share:7},{name:"Reserve",value:71e5,share:62},{name:"Permanent",value:36e5,share:31}],Vi=function(e){var t=e.cx,n=e.cy,a=e.midAngle,i=e.innerRadius,r=e.outerRadius,s=e.index,o=i+.5*(r-i),u=t+o*Math.cos(-a*Wi),c=n+o*Math.sin(-a*Wi);return Object(E.jsx)("text",{fontSize:16,fontWeight:300,x:0===s?u+20:u+10,y:c,fill:"white",textAnchor:"middle",dominantBaseline:"central",children:Gi[s]})},Zi=function(e){var t=e.x,n=e.y,a=e.index,i=[{text:{x:-34,y:8},circle:{x:-24,y:8}},{text:{x:-3,y:20},circle:{x:8,y:20}},{text:{x:-22,y:-22},circle:{x:-6,y:-25}}];return Object(E.jsxs)("g",{children:[Object(E.jsx)("circle",{textAnchor:"outside",cx:t+i[a].circle.x,cy:n+i[a].circle.y,r:20,fill:Qi[a]}),Object(E.jsxs)("text",{x:t+i[a].text.x,y:n+i[a].text.y,fill:"white",textAnchor:"outside",dominantBaseline:"middle",children:[Hi[a].share,"%"]})]})},zi=function(){return Object(E.jsx)(Fi.a,{width:"100%",height:320,children:Object(E.jsxs)(Ni.a,{width:100,height:250,children:[Object(E.jsx)(Ui.a,{isAnimationActive:!1}),Object(E.jsx)(qi.a,{data:Hi,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:110,label:Vi,isAnimationActive:!1,strokeOpacity:"0.55",children:Hi.map((function(e,t){return Object(E.jsx)(Yi.a,{fill:Qi[t]},"label-".concat(t))}))}),Object(E.jsx)(qi.a,{data:Hi,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:110,outerRadius:136,isAnimationActive:!1,strokeOpacity:"0.55",label:Zi,labelLine:!1,children:Hi.map((function(e,t){return Object(E.jsx)(Yi.a,{fill:Qi[t]},"share-".concat(t))}))})]})})},Ki=function(e){var t=e.value,n=e.unit;return Object(E.jsxs)(E.Fragment,{children:[t,"\xa0",n&&Object(E.jsx)(d.t,{sx:{fontWeight:"light",fontSize:1},children:n})]})},Ji=function(){var e=qt(),t=e.treasury,n=e.stats,a=e.protocolInfo;return void 0===t||void 0===n||void 0===a?null:Object(E.jsxs)(d.d,{variant:"info",children:[Object(E.jsx)(d.j,{sx:{fontweight:"bold"},children:"MSD bonds"}),Object(E.jsx)(d.j,{as:"h2",sx:{mt:3,fontWeight:"body"},children:"bMSD"}),Object(E.jsx)(Zt,{name:mt,tooltip:ht,children:Object(E.jsx)(Ki,{value:a.marketPrice.prettify(2),unit:"MSD"})}),Object(E.jsx)(Zt,{name:vt,tooltip:Tt,children:Object(E.jsx)(Ki,{value:a.fairPrice.prettify(2),unit:"MSD"})}),Object(E.jsx)(Zt,{name:Mt,tooltip:At,children:Object(E.jsx)(Ki,{value:a.floorPrice.prettify(2),unit:"MSD"})}),Object(E.jsx)(Zt,{name:Dt,tooltip:Et,children:Object(E.jsx)(Ki,{value:a.bLusdSupply.shorten(),unit:"BMSD"})}),Object(E.jsx)(Zt,{name:"Yield amplification",tooltip:"TODO",children:Object(E.jsx)(Ki,{value:"1.1",unit:"x"})}),Object(E.jsx)(d.j,{as:"h2",sx:{mt:3,fontWeight:"body"},children:"Statistics"}),Object(E.jsx)(Zt,{name:gt,tooltip:Ot,children:Object(E.jsx)(Ki,{value:n.pendingBonds.prettify(0)})}),Object(E.jsx)(Zt,{name:wt,tooltip:_t,children:Object(E.jsx)(Ki,{value:n.cancelledBonds.prettify(0)})}),Object(E.jsx)(Zt,{name:St,tooltip:kt,children:Object(E.jsx)(Ki,{value:n.claimedBonds.prettify(0)})}),Object(E.jsx)(Zt,{name:jt,tooltip:xt,children:Object(E.jsx)(Ki,{value:n.totalBonds.prettify(0)})}),Object(E.jsx)(d.j,{as:"h2",sx:{mt:3,fontWeight:"body"},children:"Treasury"}),Object(E.jsx)(Zt,{name:Rt,tooltip:It,children:Object(E.jsx)(Ki,{value:t.pending.shorten(),unit:"MSD"})}),Object(E.jsx)(Zt,{name:Pt,tooltip:Bt,children:Object(E.jsx)(Ki,{value:t.reserve.shorten(),unit:"MSD"})}),Object(E.jsx)(Zt,{name:Ft,tooltip:Nt,children:Object(E.jsx)(Ki,{value:t.permanent.shorten(),unit:"MSD"})}),Object(E.jsx)(Zt,{name:Ct,tooltip:Lt,children:Object(E.jsx)(Ki,{value:t.total.shorten(),unit:"MSD"})}),Object(E.jsx)(zi,{})]})},Xi=n(331),$i=n(77),er=Object($i.c)(ye||(ye=Object(Xi.a)(["\n  from {\n    left: -25%;\n  }\n  to {\n    left: 100%;\n  }\n"]))),tr=function(e){var t=e.style;return Object(E.jsxs)(d.h,{sx:Object(j.a)({position:"relative",backgroundColor:"rgb(225, 230, 230)",overflow:"hidden",borderRadius:"5px",height:"100%",width:"100%"},t),children:[Object(E.jsx)(d.h,{sx:{position:"absolute",left:"-25%",height:"100%",width:"45%",backgroundImage:"linear-gradient(to left, rgba(251,251,251, .05), rgba(251,251,251, .3), rgba(251,251,251, .6), rgba(251,251,251, .3), rgba(251,251,251, .05))",animation:"".concat(er," 1s infinite")}}),"\xa0"]})},nr="#d9d9d9",ar={height:"12px",width:"12px",mx:"-1px",borderRadius:"50%",border:"2px solid",borderColor:nr,background:"none",zIndex:1},ir={backgroundColor:"gray",borderColor:"gray"},rr={width:"0px",mx:"-2px",opacity:0},sr={height:4,flexGrow:1,border:0,backgroundColor:nr,margin:0,padding:0},or={backgroundColor:"gray",opacity:1},ur=function(e,t){return{background:"linear-gradient(to right, ".concat(e,", ").concat(t,")")}},cr=function(e){var t=e.style;return Object(E.jsx)(d.b,{sx:Object(j.a)(Object(j.a)({},ar),t)})},dr=function(e){var t=e.style;return Object(E.jsx)(d.b,{sx:Object(j.a)(Object(j.a)({},sr),t)})},lr=new Date(864e13),pr=function(e){var t=e.style,n=e.children;return Object(E.jsx)(d.h,{sx:Object(j.a)({fontWeight:200,fontSize:"0.98em",alignSelf:"center",justifyContent:"center",flexGrow:1},t),children:n})},br=function(e){var t=e.children,n=e.description,a=e.style;return Object(E.jsxs)(d.h,{sx:Object(j.a)({fontWeight:300,alignSelf:"center",alignContent:"center",alignItems:"center"},a),children:[t,"\xa0",n?Object(E.jsx)(Vt,{size:"xs",tooltip:Object(E.jsx)(d.d,{variant:"tooltip",sx:{width:"200px"},children:n})}):null]})},yr=function(e){var t=e.label;return Object(E.jsxs)(d.h,{sx:{flexDirection:"column",flexGrow:1},children:[Object(E.jsx)(d.h,{sx:{justifyContent:"center"},children:Object(E.jsx)(tr,{style:{mx:"20%"}})}),Object(E.jsxs)(d.h,{sx:{my:1,alignItems:"center"},children:[Object(E.jsx)(dr,{style:sr}),Object(E.jsx)(cr,{style:ar}),Object(E.jsx)(dr,{style:sr})]}),Object(E.jsx)(d.h,{sx:{flexDirection:"column"},children:t})]})},fr=function(e){var t=e.isFirst,n=e.isLast,a=e.isPast,i=e.date,r=e.label,s=e.isEndOfLife,o=e.isMilestone,u=void 0===o||o;if(e.isLoading)return Object(E.jsx)(yr,{label:r});var c=i.toLocaleDateString()===(new Date).toLocaleDateString(),l=i.toDateString()===lr.toDateString(),p=Object(j.a)({},ar),b=Object(j.a)({},sr),y=Object(j.a)({},sr);(a||s)&&(p=Object(j.a)({},ir),b=Object(j.a)({},or)),a&&(y=Object(j.a)({},or)),u||(p=Object(j.a)({},rr)),t&&(b=Object(j.a)(Object(j.a)({},b),ur("white","gray"))),n&&(y=Object(j.a)(Object(j.a)({},y),ur(nr,"white")));var f=c&&s?"Now":l?"Unknown":i.toLocaleDateString("en-GB",{month:"short",day:"2-digit",year:"numeric"});return Object(E.jsxs)(d.h,{sx:{flexDirection:"column",flexGrow:1},children:[Object(E.jsx)(d.h,{sx:{justifyContent:"center"},children:Object(E.jsx)(d.t,{sx:{fontWeight:400,alignSelf:"center"},children:f})}),Object(E.jsxs)(d.h,{sx:{my:1,alignItems:"center"},children:[Object(E.jsx)(dr,{style:b}),Object(E.jsx)(cr,{style:p}),Object(E.jsx)(dr,{style:y})]}),Object(E.jsx)(d.h,{sx:{flexDirection:"column"},children:r})]})},mr=function(e){var t=e.events,n=e.style,a=Object(b.a)(t).sort((function(e,t){return e.date.getTime()===t.date.getTime()?Number(e.isEndOfLife)-Number(t.isEndOfLife):e.date.getTime()>t.date.getTime()?1:-1})),i=a.findIndex((function(e){return e.isEndOfLife}));return Object(E.jsx)(d.h,{sx:Object(j.a)({flexGrow:1},n),children:a.map((function(e,t){return Object(E.jsx)(fr,{isFirst:0===t,isLast:t===a.length-1,isPast:t<i,date:e.date,label:e.label,isEndOfLife:e.isEndOfLife,isMilestone:e.isMilestone,isLoading:e.isLoading},t)}))})},hr=function(e){var t=e.name,n=e.description,a=e.value,i=e.type,r=e.style;return Object(E.jsxs)(d.h,{sx:Object(j.a)({flexDirection:"column"},r),children:[Object(E.jsxs)(d.h,{as:"h4",sx:{fontWeight:"300",alignItems:"baseline",justifyContent:"center"},children:[t," ",Object(E.jsx)(Vt,{size:"xs",tooltip:Object(E.jsx)(d.d,{variant:"tooltip",children:n})})]}),Object(E.jsxs)(d.t,{as:"h3",sx:{display:"flex",justifyContent:"center"},children:[a?Object(E.jsx)(d.t,{sx:{fontWeight:"400"},children:a}):Object(E.jsx)(tr,{style:{mx:"20%"}}),"\xa0",a&&Object(E.jsx)(d.t,{sx:{fontWeight:"light",opacity:.8},children:i})]})]})},vr=function(e){var t=e.bondId,n=e.disabled,a=void 0!==n&&n,i=qt().dispatchEvent,r=a?"auto":"url(\"data:image/svg+xml;utf8, <svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'  style='font-size: 24px'><text y='20'>\ud83d\udc14</text></svg>\"), auto";return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(d.c,{disabled:a,variant:"outline",sx:{height:"44px"},style:{cursor:r},onClick:function(){i("CANCEL_BOND_PRESSED",{bondId:t})},children:yt}),Object(E.jsx)(d.c,{disabled:a,variant:"outline",sx:{height:"44px"},style:{cursor:r},onClick:function(){console.log("CLAIM",t),i("CLAIM_BOND_PRESSED",{bondId:t})},children:ft})]})},Tr={IDLE:{CREATE_BOND_PRESSED:"CREATING",CANCEL_BOND_PRESSED:"CANCELLING",CLAIM_BOND_PRESSED:"CLAIMING",SWAP_PRESSED:"SWAPPING",ADD_LIQUIDITY_PRESSED:"ADDING_LIQUIDITY",MANAGE_LIQUIDITY_PRESSED:"MANAGING_LIQUIDITY"},CREATING:{ABORT_PRESSED:"IDLE",CREATE_BOND_CONFIRMED:"IDLE",BACK_PRESSED:"IDLE",APPROVE_PRESSED:"CREATING",CONFIRM_PRESSED:"CREATING"},CLAIMING:{ABORT_PRESSED:"IDLE",BACK_PRESSED:"IDLE",CONFIRM_PRESSED:"CLAIMING",CLAIM_BOND_CONFIRMED:"IDLE"},CANCELLING:{ABORT_PRESSED:"IDLE",BACK_PRESSED:"IDLE",CONFIRM_PRESSED:"CANCELLING",CANCEL_BOND_CONFIRMED:"IDLE"},SWAPPING:{ABORT_PRESSED:"IDLE",BACK_PRESSED:"IDLE",APPROVE_PRESSED:"SWAPPING",CONFIRM_PRESSED:"SWAPPING",SWAP_CONFIRMED:"IDLE"},ADDING_LIQUIDITY:{ABORT_PRESSED:"IDLE",BACK_PRESSED:"IDLE",APPROVE_PRESSED:"ADDING_LIQUIDITY",CONFIRM_PRESSED:"ADDING_LIQUIDITY",MANAGE_LIQUIDITY_CONFIRMED:"IDLE"},MANAGING_LIQUIDITY:{ABORT_PRESSED:"IDLE",BACK_PRESSED:"IDLE",APPROVE_PRESSED:"MANAGING_LIQUIDITY",CONFIRM_PRESSED:"MANAGING_LIQUIDITY",MANAGE_LIQUIDITY_CONFIRMED:"IDLE"}};!function(e){e[e.BLUSD=0]="BLUSD",e[e.LUSD=1]="LUSD"}(fe||(fe={}));var jr=function(e){var t,n,a=e.bond,i=e.style,r=function(e){var t,n,a,i,r;return[{date:new Date(e.startTime),label:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(br,{description:"bMSD accrual starts off at 0 and increases over time.",children:tt}),Object(E.jsx)(pr,{children:"0.00 bMSD"})]})},{date:new Date("PENDING"===e.status?Date.now():null!==(t=null===e||void 0===e?void 0:e.endTime)&&void 0!==t?t:0),label:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(br,{description:dt.description,style:{fontWeight:500},children:"PENDING"===e.status?dt.term:Yt[e.status]}),Object(E.jsx)(pr,{style:{fontWeight:400},children:"PENDING"===e.status?"".concat(e.accrued.prettify(2)," bMSD"):""})]}),isEndOfLife:!0,isMilestone:"PENDING"!==e.status},{date:new Date(e.breakEvenTime),label:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(br,{description:"How many bMSD are required to break-even at the current market price.",children:it.term}),Object(E.jsx)(pr,{children:"".concat(null!==(n=null===e||void 0===e||null===(a=e.breakEvenAccrual)||void 0===a?void 0:a.prettify(2))&&void 0!==n?n:"?"," bMSD")})]})},{date:new Date(e.rebondTime),label:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(br,{description:"How many bMSD are recommended before claiming the bond, selling the bMSD for MSD, and then opening another bond.",children:rt.term}),Object(E.jsx)(pr,{children:"".concat(null!==(i=null===e||void 0===e||null===(r=e.rebondAccrual)||void 0===r?void 0:r.prettify(2))&&void 0!==i?i:"?"," bMSD")})]})}]}(a),s=qt().dispatchEvent;return Object(E.jsxs)(d.h,{sx:Object(j.a)({justifyContent:"center",alignItems:"center",gap:"12px"},i),children:[Object(E.jsx)(d.h,{sx:{flexShrink:0,boxShadow:2,borderRadius:8.5,border:1,borderColor:"muted",bg:"background"},children:Object(E.jsx)(d.k,{sx:{cursor:"pointer",minWidth:"150px"},src:a.tokenUri,alt:"TODO",onClick:function(){window.open("https://testnets.opensea.io/","_blank")}})}),Object(E.jsx)(d.d,{mt:[0,0,0,0],sx:{borderRadius:12,flexGrow:1},children:Object(E.jsxs)(d.h,{p:[2,3],sx:{flexDirection:"column"},children:[Object(E.jsx)(mr,{style:{fontSize:"14.5px",justifyContent:"center",pt:2,mx:3},events:r}),Object(E.jsxs)(d.h,{mt:4,variant:"layout.actions",sx:{justifyContent:"flex-end"},children:[Object(E.jsxs)(d.h,{sx:{justifyContent:"flex-start",flexGrow:1,alignItems:"center",pl:4,gap:"0 28px",fontSize:"14.5px"},children:[Object(E.jsx)(hr,{name:ct.term,value:a.deposit.prettify(2),type:"MSD",description:ct.description}),"PENDING"===a.status&&Object(E.jsx)(hr,{name:lt.term,value:null!==(t=null===a||void 0===a||null===(n=a.marketValue)||void 0===n?void 0:n.prettify(2))&&void 0!==t?t:"0",type:"MSD",description:lt.description})]}),"PENDING"===a.status&&Object(E.jsx)(vr,{bondId:a.id}),"PENDING"!==a.status&&"CLAIMED"===a.status&&Object(E.jsx)(d.c,{variant:"outline",sx:{height:"44px"},onClick:function(){s("SWAP_PRESSED",{inputToken:fe.BLUSD})},children:"Sell bMSD"})]})]})})]})},xr=function(e){var t=e.bond,n=e.style,a=function(e){return[{date:new Date(e.startTime),label:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(br,{description:"bMSD accrual starts off at 0 and increases over time.",children:tt}),Object(E.jsx)(pr,{children:"0.00 bMSD"})]})},{date:new Date(Date.now()),label:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(br,{description:dt.description,style:{fontWeight:500},children:dt.term}),Object(E.jsx)(pr,{style:{fontWeight:400}})]}),isEndOfLife:!0},{date:lr,label:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(br,{description:"How many bMSD are required to break-even at the current market price.",children:it.term}),Object(E.jsx)(pr,{style:{fontWeight:400}})]}),isLoading:!0},{date:lr,label:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(br,{description:"How many bMSD are recommended before claiming the bond, selling the bMSD for MSD, and then opening another bond.",children:rt.term}),Object(E.jsx)(pr,{style:{fontWeight:400}})]}),isLoading:!0}]}(t);return Object(E.jsxs)(d.h,{sx:Object(j.a)({justifyContent:"center",alignItems:"center",gap:"12px"},n),children:[Object(E.jsx)(d.h,{sx:{width:150,height:210},children:Object(E.jsx)(tr,{})}),Object(E.jsx)(d.d,{mt:[0,0,0,0],sx:{borderRadius:12,flexGrow:1},children:Object(E.jsxs)(d.h,{p:[2,3],sx:{flexDirection:"column"},children:[Object(E.jsx)(mr,{style:{fontSize:"14.5px",justifyContent:"center",pt:2,mx:3},events:a}),Object(E.jsxs)(d.h,{mt:4,variant:"layout.actions",sx:{justifyContent:"flex-end"},children:[Object(E.jsxs)(d.h,{sx:{justifyContent:"flex-start",flexGrow:1,alignItems:"center",pl:4,gap:"0 28px",fontSize:"14.5px"},children:[Object(E.jsx)(hr,{name:ct.term,value:t.deposit.prettify(2),type:"MSD",description:ct.description}),Object(E.jsx)(hr,{name:lt.term,type:"MSD",description:lt.description})]}),Object(E.jsx)(vr,{bondId:t.id,disabled:!0})]})]})})]})},gr={pending:"PENDING",claimed:"CLAIMED",cancelled:"CANCELLED"},Or=function(){var e=qt(),t=e.bonds,n=e.optimisticBond,a=Object(Ve.g)().bondFilter;if(void 0===t)return null;var i=void 0!==n&&("all"===a||"pending"===a),r="all"===a?t:function(e,t){return e.filter((function(e){return e.status===gr[t]}))}(t,a);return Object(E.jsxs)(E.Fragment,{children:[i&&Object(E.jsx)(xr,{bond:n,style:{mt:"16px"}}),r.map((function(e,t){var n={mt:0===t&&!i?"16px":"32px"};return Object(E.jsx)(jr,{bond:e,style:n},t)}))]})},wr=function(){var e=qt().bonds,t=Object(Ve.h)(),n=t.url,a=t.path;return Object(E.jsxs)(E.Fragment,{children:[e&&Object(E.jsxs)(d.h,{as:"nav",mt:2,children:[Object(E.jsx)(rn,{to:"".concat(n,"/all"),p:2,children:"All"}),Object(E.jsx)(rn,{to:"".concat(n,"/pending"),p:2,children:"Pending"}),Object(E.jsx)(rn,{to:"".concat(n,"/claimed"),p:2,children:"Claimed"}),Object(E.jsx)(rn,{to:"".concat(n,"/cancelled"),p:2,children:"Cancelled"})]}),Object(E.jsxs)(Ve.d,{children:[Object(E.jsx)(Ve.b,{exact:!0,path:a,children:Object(E.jsx)(Ve.a,{to:"".concat(a,"/all")})}),Object(E.jsx)(Ve.b,{path:"".concat(a,"/:bondFilter"),children:Object(E.jsx)(Or,{})})]})]})},_r=function(){var e=qt(),t=e.dispatchEvent,n=e.bonds,a=e.getLusdFromFaucet,i=e.lusdBalance,r=e.lpTokenBalance,s=void 0!==n&&n.length>0,o=null!==Gt.LUSD_OVERRIDE_ADDRESS&&(null===i||void 0===i?void 0:i.eq(0));return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(d.h,{variant:"layout.actions",sx:{mt:4,mb:3},children:[(null===r||void 0===r?void 0:r.nonZero)?Object(E.jsx)(d.c,{variant:"outline",onClick:function(){return t("MANAGE_LIQUIDITY_PRESSED")},children:"Manage liquidity"}):Object(E.jsx)(d.c,{variant:"outline",onClick:function(){return t("ADD_LIQUIDITY_PRESSED")},children:"Add liquidity"}),Object(E.jsx)(d.c,{variant:"outline",onClick:function(){return t("SWAP_PRESSED",{inputToken:fe.LUSD})},children:"Buy bMSD"}),Object(E.jsx)(d.c,{variant:"outline",onClick:function(){return t("SWAP_PRESSED",{inputToken:fe.BLUSD})},children:"Sell bMSD"}),o&&Object(E.jsx)(d.c,{variant:s?"outline":"primary",onClick:function(){return a()},children:"Get 10k MSD"}),s&&Object(E.jsx)(d.c,{variant:"primary",onClick:function(){return t("CREATE_BOND_PRESSED")},children:"Create another bond"})]}),!s&&Object(E.jsxs)(d.d,{children:[Object(E.jsx)(d.j,{children:Object(E.jsxs)(d.h,{children:[Xe.term,Object(E.jsx)(Vt,{placement:"left",size:"xs",tooltip:Object(E.jsx)(d.d,{variant:"tooltip",children:Xe.description})})]})}),Object(E.jsxs)(d.b,{sx:{p:[2,3]},children:[Object(E.jsx)(ei,{}),Object(E.jsx)(d.h,{variant:"layout.actions",mt:4,children:Object(E.jsx)(d.c,{variant:"primary",onClick:function(){return t("CREATE_BOND_PRESSED")},children:"Create bond"})})]})]}),s&&Object(E.jsx)(wr,{})]})},Sr=function(){var e=qt(),t=e.dispatchEvent,n=e.selectedBond,a="PENDING"===e.statuses.CANCEL;return void 0===n?null:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ln,{children:["You will receive your bonded"," ",Object(E.jsxs)(d.t,{sx:{fontWeight:"bold"},children:[n.deposit.prettify(2)," MSD"]})," back and forgo"," ",Object(E.jsxs)(d.t,{sx:{fontWeight:"bold"},children:[n.accrued.shorten()," bMSD"]})]}),Object(E.jsxs)(d.h,{variant:"layout.actions",children:[Object(E.jsx)(d.c,{variant:"cancel",onClick:function(){t("BACK_PRESSED")},disabled:a,children:"Back"}),Object(E.jsxs)(d.c,{variant:"primary",onClick:function(){t("CONFIRM_PRESSED")},disabled:a,children:[!a&&Object(E.jsx)(E.Fragment,{children:"Confirm"}),a&&Object(E.jsx)(d.s,{size:"28px",sx:{color:"white"}})]})]})]})},kr=function(){var e=qt(),t=e.dispatchEvent,n=e.selectedBond,a="PENDING"===e.statuses.CLAIM;return void 0===n?null:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ln,{children:["You will receive ",Object(E.jsxs)(d.t,{sx:{fontWeight:"bold"},children:[n.accrued.prettify(2)," bMSD"]})," ","and forgo your bonded"," ",Object(E.jsxs)(d.t,{sx:{fontWeight:"bold"},children:[n.deposit.prettify(2)," MSD"]})]}),Object(E.jsxs)(d.h,{variant:"layout.actions",children:[Object(E.jsx)(d.c,{variant:"cancel",onClick:function(){t("BACK_PRESSED")},disabled:a,children:"Back"}),Object(E.jsxs)(d.c,{variant:"primary",onClick:function(){t("CONFIRM_PRESSED")},disabled:a,children:[!a&&Object(E.jsx)(E.Fragment,{children:"Confirm"}),a&&Object(E.jsx)(d.s,{size:"28px",sx:{color:"white"}})]})]})]})},Dr={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",maxWidth:"620px",width:"580px",maxHeight:"94vh"},overlay:{zIndex:2}},Er=function(e){var t=e.children,n=e.onDismiss,a=e.style;return Object(E.jsx)(u.a,{isOpen:!0,onRequestClose:function(){return n()},style:Object(j.a)(Object(j.a)({},Dr),{},{content:Object(j.a)(Object(j.a)({},Dr.content),a)}),contentLabel:"TODO",children:t})},Mr=function(e){return 1e3*e},Ar=function(e){return parseFloat(e.toString())},Cr=function(e){return e.toNumber()},Lr=function(e){return Qe.Decimal.fromBigNumberString(e.toHexString())},Rr=function(e){return 100*e},Ir=function(e){return(Date.now()-e)/1e3/60/60/24},Pr=function(e,t,n){var a=e.mul(n);return parseFloat(a.toString())-parseFloat(t.toString())},Br=function(e){var t,n=e.indexOf("base64,")+"base64,".length;if(-1===n)return"TODO:";var a=atob(e.slice(n)).replace('"background_color":',',"background_color":').replace(",,",",");return null===(t=JSON.parse(a))||void 0===t?void 0:t.image},Fr=function(e,t,n){var a=t.mul(Qe.Decimal.ONE.sub(n));return a.lte(Qe.Decimal.ONE)?Qe.Decimal.INFINITY:e.div(a.sub(Qe.Decimal.ONE))},Nr=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qe.Decimal.ZERO,i=t.sub(a);return Qe.Decimal.ONE.div(e).mul(i.div(i.add(n)))},Ur=function(e,t,n){var a=Qe.Decimal.ONE.sub(n).mul(t);if(a.lte(Qe.Decimal.ONE))return Qe.Decimal.INFINITY;var i=Qe.Decimal.from(Math.sqrt(parseFloat(a.toString()))),r=Qe.Decimal.ONE.add(i),s=a.sub(Qe.Decimal.ONE);return e.mul(r.div(s))},qr=function(e){return new Date(Math.round(Date.now()+function(e){return 60*e*60*24*1e3}(e)))},Yr=function(){var e,t=qt(),n=t.dispatchEvent,a=t.view,i=t.selectedBond,r=function(){n("ABORT_PRESSED")};if(void 0===i)return null;switch(a){case"CANCELLING":e=Object(ti.b)(Sr,{});break;case"CLAIMING":e=Object(ti.b)(kr,{})}var s=[{date:new Date(i.startTime),label:Object(ti.c)(ti.a,{children:[Object(ti.b)(br,{children:tt}),Object(ti.b)(pr,{children:"0 bMSD"})]})},{date:new Date(i.breakEvenTime),label:Object(ti.c)(ti.a,{children:[Object(ti.b)(br,{children:it.term}),Object(ti.b)(pr,{children:"".concat(i.breakEvenAccrual.prettify(2)," bMSD")})]})},{date:new Date(i.rebondTime),label:Object(ti.c)(ti.a,{children:[Object(ti.b)(br,{children:rt.term}),Object(ti.b)(pr,{children:"".concat(i.rebondAccrual.prettify(2)," bMSD")})]})},{date:new Date(Date.now()),label:Object(ti.c)(ti.a,{children:[Object(ti.b)(br,{description:dt.description,style:{fontWeight:500},children:dt.term}),Object(ti.b)(pr,{style:{fontWeight:400},children:"".concat(i.accrued.prettify(2)," bMSD")})]}),isEndOfLife:!0,isMilestone:!1}];return Object(ti.c)(Er,{onDismiss:r,children:[Object(ti.c)(d.j,{as:"h2",sx:{pt:2,pb:3,px:2},children:[Object(ti.b)(d.h,{sx:{justifyContent:"center"},children:"CANCELLING"===a?yt:ft}),Object(ti.b)(d.f,{onClick:r,sx:{position:"absolute",right:"24px",top:"24px"}})]}),Object(ti.b)(d.h,{m:4,sx:{justifyContent:"center"},children:Object(ti.b)(mr,{events:s})}),Object(ti.c)(d.i,{gap:"12px",columns:3,sx:{my:4,justifyItems:"center"},children:[Object(ti.b)(hr,{name:ct.term,value:i.deposit.prettify(2),type:"MSD",description:ct.description}),Object(ti.b)(hr,{name:lt.term,value:i.marketValue.prettify(2),type:"MSD",description:lt.description}),"CLAIMING"===a&&Object(ti.b)(hr,{name:pt,value:i.claimNowReturn.toFixed(2),type:"LUSD",description:bt})]}),Object(ti.c)("details",{children:[Object(ti.b)("summary",{sx:{pl:2,mt:4,cursor:"pointer"},children:"Rebond estimations"}),Object(ti.c)(d.i,{gap:"20px",columns:3,sx:{my:2,justifyItems:"center"},children:[Object(ti.b)(hr,{name:st.term,value:i.rebondReturn.toFixed(2),type:"MSD",description:st.description}),Object(ti.b)(hr,{name:ot.term,value:Rr(i.rebondRoi).toFixed(2)+"%",type:"",description:ot.description}),Object(ti.b)(hr,{name:ut.term,value:Rr(i.rebondApr).toFixed(2)+"%",type:"",description:ut.description})]})]}),Object(ti.c)(d.b,{mt:3,children:["CLAIMING"===a&&i.claimNowReturn<0&&Object(ti.b)(ta,{children:"You are claiming a bond which currently has a negative return"}),"CLAIMING"===a&&i.accrued.gte(i.rebondAccrual)&&Object(ti.b)(ta,{children:"Your bond is ready to rebond - you've accrued more bMSD than required"}),"CANCELLING"===a&&i.accrued.gte(i.breakEvenAccrual)&&Object(ti.b)(ta,{children:"Your are cancelling a bond which has accrued a positive return"})]}),e]})},Gr=Object(a.createContext)(null),Qr=function(){var e=Object(a.useContext)(Gr);return null===e?{next:null,back:null,go:null}:e},Wr=function(e){var t=e.children,n=e.onCancel,i=e.onFinish,r=Object(a.useState)(0),s=Object(y.a)(r,2),o=s[0],u=s[1],c=Object(a.useState)([]),d=Object(y.a)(c,2),l=d[0],p=d[1],b={next:function(){if(o===t.length-1&&i)return i();var e=Math.min(t.length-1,o+1);u(e),p(l.concat(o))},back:function(){var e;if(0===o&&n)return n();var t=null!==(e=l.slice(l.length-1)[0])&&void 0!==e?e:0;u(t),p(l.slice(0,l.length-1))},go:function(e){var n=t.findIndex((function(t){return t.type.name===e.name}));-1!==n&&(u(n),p(l.concat(o)))}};return Object(E.jsx)(Gr.Provider,{value:b,children:t[o]})},Hr=function(e){var t=e.children,n=e.onFinish,a=e.onCancel;return Object(E.jsx)(Wr,{onFinish:n,onCancel:a,children:t})},Vr=function(e){var t=e.children,n=e.onDismiss,a=e.style;return Object(E.jsx)(Er,{onDismiss:function(){return n()},style:a,children:Object(E.jsx)(Hr,{onCancel:n,children:t})})},Zr=n(97),zr=n(92),Kr=n(105),Jr=["NON_EXISTENT","PENDING","CANCELLED","CLAIMED"],Xr=function(){var e=Object(T.a)(v.a.mark((function e(t,n,a,i,r,s,o,u){var c,d,l,p,y,f,m,h,T,j,x;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.balanceOf(t);case 2:return c=e.sent.toNumber(),d=Array.from(Array(c)).map((function(e,a){return n.tokenOfOwnerByIndex(t,a)})),e.next=6,Promise.all(d);case 6:return l=e.sent,p={deposits:l.map((function(e){return n.getBondAmount(e)})),accrueds:l.map((function(e){return a.calcAccruedBLUSD(e)})),startTimes:l.map((function(e){return n.getBondStartTime(e)})),endTimes:l.map((function(e){return n.getBondEndTime(e)})),statuses:l.map((function(e){return n.getBondStatus(e)})),tokenUris:l.map((function(e){return n.tokenURI(e)}))},e.next=10,Promise.all(p.deposits);case 10:return y=e.sent,e.next=13,Promise.all(p.accrueds);case 13:return f=e.sent,e.next=16,Promise.all(p.startTimes);case 16:return m=e.sent,e.next=19,Promise.all(p.endTimes);case 19:return h=e.sent,e.next=22,Promise.all(p.statuses);case 22:return T=e.sent,e.next=25,Promise.all(p.tokenUris);case 25:return j=e.sent,x=l.reduce((function(e,t,n){var a=Cr(l[n]).toString(),c=Lr(y[n]),d=Lr(f[n]),p=Mr(Cr(m[n])),v=Mr(Cr(h[n])),x=Jr[T[n]],g=Br(j[n]),O=Ir(p),w=Ur(r,s,o),_=Fr(r,s,o),S=Qe.Decimal.ONE.sub(o).mul(c),k=w===Qe.Decimal.INFINITY?Qe.Decimal.INFINITY:Nr(u,w,r).mul(S),D=_===Qe.Decimal.INFINITY?Qe.Decimal.INFINITY:Nr(u,_,r).mul(S),E=_===Qe.Decimal.INFINITY?lr:qr(Ar(_)-O),M=w===Qe.Decimal.INFINITY?lr:qr(Ar(w)-O),A=Lr(f[n]).mul(i),C=d.isZero?0:Pr(d,c,i),L=d.isZero?0:Pr(k,c,i),R=L/Ar(c),I=R*(365/Ar(w));return[].concat(Object(b.a)(e),[{id:a,deposit:c,accrued:d,startTime:p,endTime:v,status:x,tokenUri:g,breakEvenAccrual:D,rebondAccrual:k,breakEvenTime:E,rebondTime:M,marketValue:A,rebondReturn:L,claimNowReturn:C,rebondRoi:R,rebondApr:I}])}),[]).sort((function(e,t){return e.startTime>t.startTime?-1:e.startTime<t.startTime?1:0})),e.abrupt("return",x);case 28:case"end":return e.stop()}}),e)})));return function(t,n,a,i,r,s,o,u){return e.apply(this,arguments)}}(),$r=function(e,t,n,a){var i=e.div(t),r=i.mul(Qe.Decimal.ONE.sub(n)).gt(Qe.Decimal.ONE),s=Fr(a,i,n),o=qr(Ar(s)),u=Ur(a,i,n);return{marketPricePremium:i,breakEvenTime:o,rebondTime:qr(Ar(u)),hasMarketPremium:r,breakEvenAccrualFactor:Nr(t,s,a),rebondAccrualFactor:Nr(t,u,a),breakEvenDays:s,rebondDays:u}},es=function(){var e=Object(T.a)(v.a.mark((function e(t,n,a,i){var r,s,o,u,c,d,l,p,b,y,f,m,h,T,j,x;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Lr,e.next=3,t.totalSupply();case 3:return e.t1=e.sent,r=(0,e.t0)(e.t1),e.t2=Qe.Decimal.ONE,e.t3=Lr,e.next=9,n.price_oracle();case 9:return e.t4=e.sent,e.t5=(0,e.t3)(e.t4),s=e.t2.div.call(e.t2,e.t5),o=s.mul(1.1),u=r.isZero?Qe.Decimal.ONE:i.div(r),e.t6=Lr,e.next=17,a.CHICKEN_IN_AMM_FEE();case 17:return e.t7=e.sent,c=(0,e.t6)(e.t7),e.t8=Lr,e.next=22,a.accrualParameter();case 22:return e.t9=e.sent,d=(0,e.t8)(e.t9).div(86400),l=$r(s,u,c,d),p=l.marketPricePremium,b=l.breakEvenTime,y=l.rebondTime,f=l.hasMarketPremium,m=l.breakEvenAccrualFactor,h=l.rebondAccrualFactor,T=l.breakEvenDays,j=l.rebondDays,x=f?s:u.mul(1.1),e.abrupt("return",{bLusdSupply:r,marketPrice:s,fairPrice:o,floorPrice:u,claimBondFee:c,alphaAccrualFactor:d,marketPricePremium:p,breakEvenTime:b,rebondTime:y,hasMarketPremium:f,breakEvenAccrualFactor:m,rebondAccrualFactor:h,breakEvenDays:T,rebondDays:j,simulatedMarketPrice:x});case 27:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),ts=function(){var e=Object(T.a)(v.a.mark((function e(t){var n,a,i,r,s,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.getOpenBondCount(),t.countChickenOut(),t.countChickenIn()]);case 2:return n=e.sent,a=Object(y.a)(n,3),i=a[0],r=a[1],s=a[2],o=i.add(r).add(s),e.abrupt("return",{pendingBonds:Qe.Decimal.from(i.toString()),cancelledBonds:Qe.Decimal.from(r.toString()),claimedBonds:Qe.Decimal.from(s.toString()),totalBonds:Qe.Decimal.from(o.toString())});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ns=function(){var e=Object(T.a)(v.a.mark((function e(t){var n,a,i,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getTreasury();case 2:return n=e.sent,a=Object(y.a)(n,3),i=a[0],r=a[1],s=a[2],e.abrupt("return",{pending:Lr(i),reserve:Lr(r),permanent:Lr(s),total:Lr(i.add(r).add(s))});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),as=function(e,t){return new zr.Contract(e,["function balanceOf(address) view returns (uint256)","function totalSupply() view returns (uint256)"],t)},is=function(){var e=Object(T.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=as,e.next=3,t.token();case 3:return e.t1=e.sent,e.t2=null!==(n=t.signer)&&void 0!==n?n:t.provider,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rs=function(){var e=Object(T.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Lr,e.next=3,n.balanceOf(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ss=function(){var e=Object(T.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Lr,e.next=3,t.totalSupply();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),os=function(){var e=Object(T.a)(v.a.mark((function e(t,n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.allowance(t,Gt.CHICKEN_BOND_MANAGER_ADDRESS);case 2:return a=e.sent,e.abrupt("return",a.gt(Kr.constants.MaxInt256));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),us=function(){var e=Object(T.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}throw new Error("approveInfiniteBond() failed: a dependency is null");case 2:return console.log("approveInfiniteBond() started"),e.prev=3,e.next=6,t.approve(Gt.CHICKEN_BOND_MANAGER_ADDRESS,Kr.constants.MaxUint256._hex);case 6:return e.next=8,e.sent.wait();case 8:console.log("approveInfiniteBond() succceeded"),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(3),new Error("approveInfiniteBond() failed: ".concat(e.t0));case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),cs=function(){var e=Object(T.a)(v.a.mark((function e(t,n){var a,i,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n){e.next=2;break}throw new Error("createBond() failed: a dependency is null");case 2:return e.next=4,n.createBond(t.hex);case 4:return e.next=6,e.sent.wait();case 6:if(i=e.sent,void 0!==(r=null===i||void 0===i||null===(a=i.events)||void 0===a?void 0:a.find((function(e){return"BondCreated"===e.event})))){e.next=10;break}throw new Error("createBond() failed: couldn't find BondCreated event");case 10:return console.log("createBond() finished:",r.args),e.abrupt("return",r.args);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ds=function(){var e=Object(T.a)(v.a.mark((function e(t,n,a){var i,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==a){e.next=2;break}throw new Error("cancelBond() failed: a dependency is null");case 2:return console.log("cancelBond() started:",t,n.toString()),e.next=5,a.chickenOut(t,n.hex);case 5:return e.next=7,e.sent.wait();case 7:if(r=e.sent,void 0!==(s=null===r||void 0===r||null===(i=r.events)||void 0===i?void 0:i.find((function(e){return"BondCancelled"===e.event})))){e.next=11;break}throw new Error("cancelBond() failed: couldn't find BondCancelled event");case 11:return console.log("cancelBond() finished:",s.args),e.abrupt("return",s.args);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ls=function(){var e=Object(T.a)(v.a.mark((function e(t,n){var a,i,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==n){e.next=3;break}throw new Error("claimBond() failed: a dependency is null");case 3:return console.log("claimBond() started",t),e.next=6,n.chickenIn(t);case 6:return e.next=8,e.sent.wait();case 8:if(i=e.sent,void 0!==(r=null===(a=i.events)||void 0===a?void 0:a.find((function(e){return"BondClaimed"===e.event})))){e.next=12;break}throw new Error("claimBond() failed: couldn't find BondClaimed event");case 12:return console.log("claimBond() finished",r.args),e.abrupt("return",r.args);case 16:throw e.prev=16,e.t0=e.catch(0),console.error("claimBond() failed:",e.t0),e.t0;case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),ps=function(){var e=Object(T.a)(v.a.mark((function e(t,n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.allowance(t,Gt.BLUSD_AMM_ADDRESS);case 2:return a=e.sent,e.abrupt("return",a.gt(Kr.constants.MaxInt256));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),bs=function(){var e=Object(T.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}throw new Error("approveTokenWithBLusdAmm() failed: a dependency is null");case 2:return e.next=4,t.approve(Gt.BLUSD_AMM_ADDRESS,Kr.constants.MaxUint256);case 4:return e.next=6,e.sent.wait();case 6:return e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ys=function(e){return e===fe.BLUSD?fe.LUSD:fe.BLUSD},fs=function(){var e=Object(T.a)(v.a.mark((function e(t,n,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Lr,e.next=3,a.get_dy(t,ys(t),n.hex);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ms=function(){var e=Object(T.a)(v.a.mark((function e(t,n,a,i){var r,s,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==i){e.next=2;break}throw new Error("swapTokens() failed: a dependency is null");case 2:return e.next=4,i["exchange(uint256,uint256,uint256,uint256)"](t,ys(t),n.hex,a.hex);case 4:return e.next=6,e.sent.wait();case 6:if(s=e.sent,void 0!==(o=null===s||void 0===s||null===(r=s.events)||void 0===r?void 0:r.find((function(e){return"TokenExchange"===e.event})))){e.next=10;break}throw new Error("swapTokens() failed: couldn't find TokenExchange event");case 10:return console.log("swapTokens() finished:",o.args),e.abrupt("return",o.args);case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),hs=function(e,t){var n;return Array.from((n={length:2},Object(Zr.a)(n,fe.BLUSD,e.hex),Object(Zr.a)(n,fe.LUSD,t.hex),n))},vs=function(){var e=Object(T.a)(v.a.mark((function e(t,n,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Lr,e.next=3,a.calc_token_amount(hs(t,n));case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ts=function(){var e=Object(T.a)(v.a.mark((function e(t,n,a,i){var r,s,o,u,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==i){e.next=2;break}throw new Error("addLiquidity() failed: a dependency is null");case 2:return s=hs(t,n),e.next=5,i.estimateGas["add_liquidity(uint256[2],uint256)"](s,a.hex);case 5:return o=e.sent,e.next=8,i["add_liquidity(uint256[2],uint256)"](s,a.hex,{gasLimit:o.mul(6).div(5)});case 8:return e.next=10,e.sent.wait();case 10:if(u=e.sent,void 0!==(c=null===u||void 0===u||null===(r=u.events)||void 0===r?void 0:r.find((function(e){return"AddLiquidity"===e.event})))){e.next=14;break}throw new Error("addLiquidity() failed: couldn't find AddLiquidity event");case 14:return console.log("addLiquidity() finished:",c.args),e.abrupt("return",c.args);case 16:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),js=function(e){return Promise.all([e.balances(0).then(Lr),e.balances(1).then(Lr)])},xs=function(){var e=Object(T.a)(v.a.mark((function e(t,n,a){var i,r,s,o,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("both"!==n){e.next=15;break}return e.next=3,is(a);case 3:return i=e.sent,e.next=6,Promise.all([ss(i),js(a)]);case 6:if(r=e.sent,s=Object(y.a)(r,2),o=s[0],u=s[1],!o.isZero&&!t.isZero){e.next=12;break}return e.abrupt("return",new Map([[fe.BLUSD,Qe.Decimal.ZERO],[fe.LUSD,Qe.Decimal.ZERO]]));case 12:return e.abrupt("return",new Map(u.map((function(e,n){return[n,e.mulDiv(t,o)]}))));case 15:return e.t0=Map,e.t1=n,e.next=19,a.calc_withdraw_one_coin(t.hex,n).then(Lr);case 19:return e.t2=e.sent,e.t3=[e.t1,e.t2],e.t4=[e.t3],e.abrupt("return",new e.t0(e.t4));case 23:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),gs={getAccountBonds:Xr,getStats:ts,getTreasury:ns,getLpToken:is,getTokenBalance:rs,getTokenTotalSupply:ss,getProtocolInfo:es,approveInfiniteBond:us,isInfiniteBondApproved:os,createBond:cs,cancelBond:ds,claimBond:ls,isTokenApprovedWithBLusdAmm:ps,approveTokenWithBLusdAmm:bs,getExpectedSwapOutput:fs,swapTokens:ms,getCoinBalances:js,getExpectedLpTokens:vs,addLiquidity:Ts,getExpectedWithdrawal:xs,removeLiquidity:function(){var e=Object(T.a)(v.a.mark((function e(t,n,a,i){var r,s,o,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==i){e.next=2;break}throw new Error("removeLiquidity() failed: a dependency is null");case 2:return s=hs(n,a),e.next=5,i["remove_liquidity(uint256,uint256[2])"](t.hex,s);case 5:return e.next=7,e.sent.wait();case 7:if(o=e.sent,void 0!==(u=null===o||void 0===o||null===(r=o.events)||void 0===r?void 0:r.find((function(e){return"RemoveLiquidity"===e.event})))){e.next=11;break}throw new Error("removeLiquidity() failed: couldn't find RemoveLiquidity event");case 11:return console.log("removeLiquidity() finished:",u.args),e.abrupt("return",u.args);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),removeLiquidityOneCoin:function(){var e=Object(T.a)(v.a.mark((function e(t,n,a,i){var r,s,o,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==i){e.next=2;break}throw new Error("removeLiquidityOneCoin() failed: a dependency is null");case 2:return e.next=4,i.estimateGas["remove_liquidity_one_coin(uint256,uint256,uint256)"](t.hex,n,a.hex);case 4:return s=e.sent,e.next=7,i["remove_liquidity_one_coin(uint256,uint256,uint256)"](t.hex,n,a.hex,{gasLimit:s.mul(6).div(5)});case 7:return e.next=9,e.sent.wait();case 9:if(o=e.sent,void 0!==(u=null===o||void 0===o||null===(r=o.events)||void 0===r?void 0:r.find((function(e){return"RemoveLiquidityOne"===e.event})))){e.next=13;break}throw new Error("removeLiquidityOneCoin() failed: couldn't find RemoveLiquidityOne event");case 13:return console.log("removeLiquidityOneCoin() finished:",u.args),e.abrupt("return",u.args);case 15:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}()};function Os(e,t){var n=Object(a.useState)("IDLE"),i=Object(y.a)(n,2),r=i[0],s=i[1];return Object(a.useEffect)((function(){if("CONFIRMED"===r||"FAILED"===r){var e=setTimeout((function(){s("IDLE")}),2600);return function(){return clearTimeout(e)}}}),[r]),[Object(a.useCallback)(Object(T.a)(v.a.mark((function t(){var n,a,i,r=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=r.length,a=new Array(n),i=0;i<n;i++)a[i]=r[i];return t.prev=1,s("PENDING"),t.next=5,e.apply(void 0,a);case 5:s("CONFIRMED"),t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(1),s("FAILED"),new Error("useTransaction(".concat(a,") ").concat(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,8]])}))),[e].concat(Object(b.a)(t))),r]}var ws=function(){return Object(E.jsxs)(d.h,{sx:{alignItems:"center",justifyContent:"center",height:"100vh"},children:[Object(E.jsx)(d.s,{sx:{m:2,color:"text"},size:"32px"}),Object(E.jsx)(d.j,{children:"Maddy is cooking..."})]})},_s=n(141),Ss=n(332),ks=n(333),Ds=n(104);function Es(e,t){var n=L(),i=n.provider,r=n.liquity,s=Object(a.useState)(),o=Object(y.a)(s,2),u=o[0],c=o[1];return Object(a.useEffect)((function(){Object(T.a)(v.a.mark((function n(){var a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,void 0===u&&null!==e){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,i.getCode(e);case 5:if(n.t0=n.sent,"0x"!==n.t0){n.next=9;break}throw new Error("Contract ".concat(e," doesn't exist."));case 9:a=new Ds.ethers.Contract(e,t,r.connection.signer),c({instance:a,status:"LOADED"}),n.next=18;break;case 13:n.prev=13,n.t1=n.catch(0),c({instance:void 0,status:"FAILED"}),console.error(n.t1),console.error("Contract ".concat(e," doesn't appear to be deployed. Did you forget to re-run yarn deploy:chicken-bonds?"));case 18:case"end":return n.stop()}}),n,null,[[0,13]])})))()}),[i,r.connection.signer,e,t,u]),[null===u||void 0===u?void 0:u.instance,(null===u||void 0===u?void 0:u.status)||"UNKNOWN"]}var Ms,As,Cs=function(e,t){return void 0!==Tr[e][t]},Ls=function(e,t){var n;return null!==(n=Tr[e][t])&&void 0!==n?n:e},Rs=function(e){var t=e.children,n=Object(a.useState)("IDLE"),i=Object(y.a)(n,2),r=i[0],s=i[1],o=Object(a.useRef)(r),u=Object(a.useState)(),c=Object(y.a)(u,2),d=c[0],l=c[1],p=Object(a.useState)(),b=Object(y.a)(p,2),f=b[0],m=b[1],h=Object(a.useState)(!0),x=Object(y.a)(h,2),g=x[0],O=x[1],w=Object(a.useState)(),_=Object(y.a)(w,2),S=_[0],k=_[1],D=Object(a.useState)(),M=Object(y.a)(D,2),A=M[0],C=M[1],R=Object(a.useState)(),I=Object(y.a)(R,2),P=I[0],B=I[1],F=Object(a.useState)(),N=Object(y.a)(F,2),U=N[0],q=N[1],Y=Object(a.useState)(),G=Object(y.a)(Y,2),Q=G[0],W=G[1],H=Object(a.useState)(!1),V=Object(y.a)(H,2),Z=V[0],z=V[1],K=Object(a.useState)(!1),J=Object(y.a)(K,2),X=J[0],$=J[1],ee=Object(a.useState)(!1),te=Object(y.a)(ee,2),ne=te[0],ae=te[1],ie=Object(a.useState)(!0),re=Object(y.a)(ie,2),se=re[0],oe=re[1],ue=Object(a.useState)(fe.BLUSD),ce=Object(y.a)(ue,2),de=ce[0],le=ce[1],pe=Object(a.useState)({APPROVE:"IDLE",CREATE:"IDLE",CANCEL:"IDLE",CLAIM:"IDLE",APPROVE_AMM:"IDLE",SWAP:"IDLE",MANAGE_LIQUIDITY:"IDLE"}),be=Object(y.a)(pe,2),ye=be[0],me=be[1],he=Object(a.useState)(),ve=Object(y.a)(he,2),Te=ve[0],je=ve[1],xe=Object(a.useState)(),ge=Object(y.a)(xe,2),Oe=ge[0],we=ge[1],_e=Object(a.useState)(),Se=Object(y.a)(_e,2),ke=Se[0],De=Se[1],Ee=Object(a.useState)(),Me=Object(y.a)(Ee,2),Ae=Me[0],Ce=Me[1],Le=Object(a.useState)(),Re=Object(y.a)(Le,2),Ie=Re[0],Pe=Re[1],Be=Object(a.useState)(),Fe=Object(y.a)(Be,2),Ne=Fe[0],Ue=Fe[1],qe=L(),Ye=qe.account,Ge=qe.liquity,We=function(){var e=Es(L().liquity.connection.addresses.lusdToken,ks),t=Object(y.a)(e,2),n=t[0],i=t[1],r=Es(Gt.LUSD_OVERRIDE_ADDRESS,_s.ERC20Faucet__factory.abi),s=Object(y.a)(r,2),o=s[0],u=s[1],c=null===Gt.LUSD_OVERRIDE_ADDRESS?[n,i]:[o,u],d=Object(y.a)(c,2),l=d[0],p=d[1],b=Es(Gt.BLUSD_TOKEN_ADDRESS,_s.BLUSDToken__factory.abi),f=Object(y.a)(b,2),m=f[0],h=f[1],j=Es(Gt.BOND_NFT_ADDRESS,_s.BondNFT__factory.abi),x=Object(y.a)(j,2),g=x[0],O=x[1],w=Es(Gt.CHICKEN_BOND_MANAGER_ADDRESS,_s.ChickenBondManager__factory.abi),_=Object(y.a)(w,2),S=_[0],k=_[1],D=Es(Gt.BLUSD_AMM_ADDRESS,Ss.CurveCryptoSwap2ETH__factory.abi),E=Object(y.a)(D,2),M=E[0],A=void 0===[p,O,k,h,E[1]].find((function(e){return"FAILED"===e})),C=Object(a.useCallback)(function(){var e=Object(T.a)(v.a.mark((function e(t,n){var a,i,r,s,o,u,c,d,p,b,f,h;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==l&&void 0!==g&&void 0!==S&&void 0!==m&&void 0!==M){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.getTreasury(S);case 4:return a=e.sent,e.next=7,n.getProtocolInfo(m,M,S,a.reserve);case 7:return i=e.sent,e.next=10,n.getAccountBonds(t,g,S,i.marketPrice,i.alphaAccrualFactor,i.marketPricePremium,i.claimBondFee,i.floorPrice);case 10:return r=e.sent,e.next=13,n.getStats(S);case 13:return s=e.sent,e.next=16,n.getLpToken(M);case 16:return o=e.sent,e.next=19,Promise.all([n.getTokenBalance(t,m),n.getTokenBalance(t,l),n.getTokenBalance(t,o),n.getTokenTotalSupply(o),n.getCoinBalances(M)]);case 19:return u=e.sent,c=Object(y.a)(u,5),d=c[0],p=c[1],b=c[2],f=c[3],h=c[4],e.abrupt("return",{treasury:a,protocolInfo:i,bonds:r,stats:s,bLusdBalance:d,lusdBalance:p,lpTokenBalance:b,lpTokenSupply:f,bLusdAmmBLusdBalance:h[fe.BLUSD],bLusdAmmLusdBalance:h[fe.LUSD]});case 27:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[S,g,m,l,M]);return{lusdToken:l,bLusdToken:m,bondNft:g,chickenBondManager:S,bLusdAmm:M,getLatestData:C,hasFoundContracts:A}}(),He=Object(a.useCallback)((function(e){if(void 0!==U){var t=$r(e,U.floorPrice,U.claimBondFee,U.alphaAccrualFactor);W(Object(j.a)(Object(j.a)(Object(j.a)({},U),t),{},{simulatedMarketPrice:e}))}}),[U]),Ve=Object(a.useCallback)((function(){void 0!==U&&W(Object(j.a)({},U))}),[U]),Ze=Object(a.useCallback)((function(e){if(void 0!==S){var t=S.findIndex((function(t){return t.id===e})),n=S.slice(0,t).concat(S.slice(t+1));k(n)}}),[S]),ze=Object(a.useCallback)((function(e){if(void 0!==S){var t=S.findIndex((function(t){return t.id===e})),n=Object(j.a)(Object(j.a)({},S[t]),{},{status:"CLAIMED"}),a=S.slice(0,t).concat(n).concat(S.slice(t+1));k(a)}}),[S]),Ke=Object(a.useCallback)(Object(T.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==We.lusdToken){e.next=2;break}return e.abrupt("return");case 2:if(e.t1=null!==Gt.LUSD_OVERRIDE_ADDRESS,!e.t1){e.next=7;break}return e.next=6,We.lusdToken.balanceOf(Ye);case 6:e.t1=e.sent.eq(0);case 7:if(e.t0=e.t1,!e.t0){e.next=10;break}e.t0="tap"in We.lusdToken;case 10:if(!e.t0){e.next=16;break}return e.next=13,We.lusdToken.tap();case 13:return e.next=15,e.sent.wait();case 15:O(!0);case 16:case"end":return e.stop()}}),e)}))),[We.lusdToken,Ye]);Object(a.useEffect)((function(){Object(T.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==Ye&&void 0!==Ge&&void 0!==We.lusdToken){e.next=2;break}return e.abrupt("return");case 2:if("true"!==Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"17f50abc59a99ef867aed539ecd5e263"}).REACT_APP_DEMO_MODE){e.next=8;break}return e.next=5,Ge.getTrove(Ye);case 5:if(!e.sent.collateral.eq(0)){e.next=8;break}return e.next=8,Ge.openTrove({depositCollateral:"11",borrowLUSD:"1800"});case 8:case"end":return e.stop()}}),e)})))()}),[Ye,Ge,We.lusdToken]),Object(a.useEffect)((function(){Object(T.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==We.lusdToken&&void 0!==Ye&&!Z){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,gs.isInfiniteBondApproved(Ye,We.lusdToken);case 4:t=e.sent,z(t);case 6:case"end":return e.stop()}}),e)})))()}),[We.lusdToken,Ye,Z]),Object(a.useEffect)((function(){Object(T.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==We.lusdToken&&void 0!==Ye&&!X){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,gs.isTokenApprovedWithBLusdAmm(Ye,We.lusdToken);case 4:t=e.sent,$(t);case 6:case"end":return e.stop()}}),e)})))()}),[We.lusdToken,Ye,X]),Object(a.useEffect)((function(){Object(T.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==We.bLusdToken&&void 0!==Ye&&!ne){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,gs.isTokenApprovedWithBLusdAmm(Ye,We.bLusdToken);case 4:t=e.sent,ae(t);case 6:case"end":return e.stop()}}),e)})))()}),[We.bLusdToken,Ye,ne]),Object(a.useEffect)((function(){if(!se){var e=setTimeout((function(){return O(!0)}),15e3);return function(){clearTimeout(e)}}}),[se]),Object(a.useEffect)((function(){Object(T.a)(v.a.mark((function e(){var t,n,a,i,r,s,o,u,c,d,l,p;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==We.lusdToken&&void 0!==We.bondNft&&void 0!==We.chickenBondManager&&void 0!==We.bLusdToken&&void 0!==We.bLusdAmm&&g){e.next=3;break}return e.abrupt("return");case 3:return O(!1),oe(!0),e.next=7,We.getLatestData(Ye,gs);case 7:if(void 0!==(t=e.sent)){e.next=11;break}return oe(!1),e.abrupt("return");case 11:n=t.treasury,a=t.protocolInfo,i=t.bonds,r=t.stats,s=t.bLusdBalance,o=t.lusdBalance,u=t.lpTokenBalance,c=t.lpTokenSupply,d=t.bLusdAmmBLusdBalance,l=t.bLusdAmmLusdBalance,q(a),void 0===Q&&(p=$r(a.simulatedMarketPrice,a.floorPrice,a.claimBondFee,a.alphaAccrualFactor),W(Object(j.a)(Object(j.a)(Object(j.a)({},a),p),{},{simulatedMarketPrice:a.simulatedMarketPrice}))),je(s),we(o),De(u),Ce(c),Pe(d),Ue(l),B(r),C(n),k(i),oe(!1),m(void 0),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),console.error("Caught exception",e.t0);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})))()}),[g,Ye,We,Q]);var Je=Os(Object(T.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gs.approveInfiniteBond(We.lusdToken);case 2:z(!0);case 3:case"end":return e.stop()}}),e)}))),[We.lusdToken]),Xe=Object(y.a)(Je,2),$e=Xe[0],et=Xe[1],tt=Os(function(){var e=Object(T.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(Na.a)(t),e.prev=1,n.s();case 3:if((a=n.n()).done){e.next=16;break}if(a.value!==fe.BLUSD){e.next=11;break}return e.next=8,gs.approveTokenWithBLusdAmm(We.bLusdToken);case 8:ae(!0),e.next=14;break;case 11:return e.next=13,gs.approveTokenWithBLusdAmm(We.lusdToken);case 13:$(!0);case 14:e.next=3;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),n.e(e.t0);case 21:return e.prev=21,n.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,18,21,24]])})));return function(t){return e.apply(this,arguments)}}(),[We.bLusdToken,We.lusdToken]),nt=Object(y.a)(tt,2),at=nt[0],it=nt[1],rt=Os(function(){var e=Object(T.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gs.createBond(t,We.chickenBondManager);case 2:n={id:"OPTIMISTIC_BOND",deposit:t,startTime:Date.now(),status:"PENDING"},m(n),O(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[We.chickenBondManager]),st=Object(y.a)(rt,2),ot=st[0],ut=st[1],ct=Os(function(){var e=Object(T.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gs.cancelBond(t,n,We.chickenBondManager);case 2:Ze(t),O(!0);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[We.chickenBondManager,Ze]),dt=Object(y.a)(ct,2),lt=dt[0],pt=dt[1],bt=Os(function(){var e=Object(T.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gs.claimBond(t,We.chickenBondManager);case 2:ze(t),O(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[We.chickenBondManager,ze]),yt=Object(y.a)(bt,2),ft=yt[0],mt=yt[1],ht=Object(a.useCallback)(function(){var e=Object(T.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",We.bLusdAmm?gs.getExpectedSwapOutput(t,n,We.bLusdAmm):Qe.Decimal.ZERO);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[We.bLusdAmm]),vt=Os(function(){var e=Object(T.a)(v.a.mark((function e(t,n,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gs.swapTokens(t,n,a,We.bLusdAmm);case 2:O(!0);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[We.bLusdAmm]),Tt=Object(y.a)(vt,2),jt=Tt[0],xt=Tt[1],gt=Object(a.useCallback)(function(){var e=Object(T.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",We.bLusdAmm?gs.getExpectedLpTokens(t,n,We.bLusdAmm):Qe.Decimal.ZERO);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[We.bLusdAmm]),Ot=Os(function(){var e=Object(T.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("addLiquidity"!==t.action){e.next=5;break}return e.next=3,gs.addLiquidity(t.bLusdAmount,t.lusdAmount,t.minLpTokens,We.bLusdAmm);case 3:e.next=12;break;case 5:if("removeLiquidity"!==t.action){e.next=10;break}return e.next=8,gs.removeLiquidity(t.burnLpTokens,t.minBLusdAmount,t.minLusdAmount,We.bLusdAmm);case 8:e.next=12;break;case 10:return e.next=12,gs.removeLiquidityOneCoin(t.burnLpTokens,t.output,t.minAmount,We.bLusdAmm);case 12:O(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[We.bLusdAmm]),wt=Object(y.a)(Ot,2),_t=wt[0],St=wt[1],kt=Object(a.useCallback)(function(){var e=Object(T.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",We.bLusdAmm?gs.getExpectedWithdrawal(t,n,We.bLusdAmm):new Map);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[We.bLusdAmm]),Dt=Object(a.useMemo)((function(){return null===S||void 0===S?void 0:S.find((function(e){return e.id===d}))}),[S,d]),Et=Object(a.useCallback)(function(){var e=Object(T.a)(v.a.mark((function e(t,n){var a,i,r,u,c,p;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Cs(o.current,t)){e.next=3;break}return console.error("invalid event",t,n,"in view",o.current),e.abrupt("return");case 3:if(a=Ls(o.current,t),s(a),n&&"bondId"in n&&n.bondId!==d&&l(n.bondId),n&&"inputToken"in n&&n.inputToken!==de&&le(n.inputToken),i=function(e,n){return o.current===e&&t===n},e.prev=8,!i("CREATING","APPROVE_PRESSED")){e.next=14;break}return e.next=12,$e();case 12:e.next=65;break;case 14:if(!i("CREATING","CONFIRM_PRESSED")){e.next=21;break}return e.next=17,ot(n.deposit);case 17:return e.next=19,Et("CREATE_BOND_CONFIRMED");case 19:e.next=65;break;case 21:if(!i("CANCELLING","CONFIRM_PRESSED")){e.next=31;break}if(void 0!==Dt){e.next=25;break}return console.error("dispatchEvent() handler: attempted to cancel a bond without selecting a bond"),e.abrupt("return");case 25:return e.next=27,lt(Dt.id,Dt.deposit);case 27:return e.next=29,Et("CANCEL_BOND_CONFIRMED");case 29:e.next=65;break;case 31:if(!i("CLAIMING","CONFIRM_PRESSED")){e.next=41;break}if(void 0!==Dt){e.next=35;break}return console.error("dispatchEvent() handler: attempted to claim a bond without selecting a bond"),e.abrupt("return");case 35:return e.next=37,ft(Dt.id);case 37:return e.next=39,Et("CLAIM_BOND_CONFIRMED");case 39:e.next=65;break;case 41:if(!i("SWAPPING","APPROVE_PRESSED")){e.next=46;break}return e.next=44,at([de]);case 44:e.next=65;break;case 46:if(!i("SWAPPING","CONFIRM_PRESSED")){e.next=54;break}return u=(r=n).inputAmount,c=r.minOutputAmount,e.next=50,jt(de,u,c);case 50:return e.next=52,Et("SWAP_CONFIRMED");case 52:e.next=65;break;case 54:if(!i("ADDING_LIQUIDITY","APPROVE_PRESSED")&&!i("MANAGING_LIQUIDITY","APPROVE_PRESSED")){e.next=60;break}return p=n.tokensNeedingApproval,e.next=58,at(p);case 58:e.next=65;break;case 60:if(!i("ADDING_LIQUIDITY","CONFIRM_PRESSED")&&!i("MANAGING_LIQUIDITY","CONFIRM_PRESSED")){e.next=65;break}return e.next=63,_t(n);case 63:return e.next=65,Et("MANAGE_LIQUIDITY_CONFIRMED");case 65:e.next=70;break;case 67:e.prev=67,e.t0=e.catch(8),console.error("dispatchEvent(), event handler failed\n\n",e.t0);case 70:case"end":return e.stop()}}),e,null,[[8,67]])})));return function(t,n){return e.apply(this,arguments)}}(),[d,$e,ot,lt,ft,Dt,at,jt,de,_t]);Object(a.useEffect)((function(){me((function(e){return Object(j.a)(Object(j.a)({},e),{},{APPROVE:et,CREATE:ut,CANCEL:pt,CLAIM:mt,APPROVE_AMM:it,SWAP:xt,MANAGE_LIQUIDITY:St})}))}),[et,ut,pt,mt,it,xt,St]),Object(a.useEffect)((function(){o.current=r}),[r]);var Mt={view:r,dispatchEvent:Et,selectedBondId:d,optimisticBond:f,protocolInfo:U,stats:P,treasury:A,bonds:S,createBond:ot,cancelBond:lt,claimBond:ft,statuses:ye,selectedBond:Dt,bLusdBalance:Te,lusdBalance:Oe,lpTokenBalance:ke,lpTokenSupply:Ae,bLusdAmmBLusdBalance:Ie,bLusdAmmLusdBalance:Ne,isInfiniteBondApproved:Z,isSynchronizing:se,getLusdFromFaucet:Ke,setSimulatedMarketPrice:He,resetSimulatedMarketPrice:Ve,simulatedProtocolInfo:Q,hasFoundContracts:We.hasFoundContracts,isBLusdApprovedWithBlusdAmm:ne,isLusdApprovedWithBlusdAmm:X,inputToken:de,isInputTokenApprovedWithBLusdAmm:de===fe.BLUSD?ne:X,getExpectedSwapOutput:ht,getExpectedLpTokens:gt,getExpectedWithdrawal:kt};return window.bonds=Mt,void 0===U&&We.hasFoundContracts?Object(E.jsx)(ws,{}):Object(E.jsx)(Ut.Provider,{value:Mt,children:t})},Is=function(e){var t=e.name,n=e.description,a=e.value,i=e.type,r=e.min,s=e.max,o=e.step,u=void 0===o?.01:o,c=e.onSliderChange,l=e.onReset;return Object(E.jsxs)(d.h,{mb:2,sx:{flexDirection:"column"},children:[Object(E.jsxs)(d.h,{as:"h4",sx:{fontWeight:"300",alignItems:"center",justifyContent:"center"},children:[l&&Object(E.jsx)(d.c,{variant:"icon",sx:{position:"absolute",left:"66%",mt:"6px",fontSize:1},onClick:l,children:"Reset"}),t,Object(E.jsx)(Vt,{size:"xs",tooltip:Object(E.jsx)(d.d,{variant:"tooltip",children:n})})]}),Object(E.jsxs)(d.h,{sx:{flexGrow:1,alignItems:"center"},children:[Object(E.jsx)(d.t,{mr:2,sx:{fontSize:1},children:r}),Object(E.jsx)(d.r,{value:Ar(a),min:r,max:s,step:u,onChange:function(e){return c(Qe.Decimal.from(e.target.value))}}),Object(E.jsx)(d.t,{ml:2,sx:{fontSize:1},children:s})]}),Object(E.jsx)(d.h,{sx:{fontWeight:"400",justifyContent:"center",alignItems:"center"},children:Object(E.jsxs)(d.t,{children:[a.prettify(2)," ",i]})})]})},Ps=function(e){var t,n=e.onBack,i=qt(),r=i.dispatchEvent,s=i.statuses,o=i.isInfiniteBondApproved,u=i.lusdBalance,c=i.simulatedProtocolInfo,l=i.setSimulatedMarketPrice,p=i.resetSimulatedMarketPrice,b=i.protocolInfo,f=Qr().back,m=Object(a.useState)(null!==u&&void 0!==u?u:Qe.Decimal.ZERO),h=Object(y.a)(m,2),v=h[0],T=h[1],j=Object(a.useState)(),x=Object(a.useMemo)((function(){return"PENDING"===s.APPROVE||"PENDING"===s.CREATE}),[s.APPROVE,s.CREATE]),g=null!==(t=null!==f&&void 0!==f?f:n)&&void 0!==t?t:function(){return r("BACK_PRESSED")};if(Object(a.useEffect)((function(){return function(){return p()}}),[]),void 0===b||void 0===c||void 0===u)return null;var O,w=Qe.Decimal.ONE.sub(b.claimBondFee).mul(v),_=Pr(w.mul(c.rebondAccrualFactor),v,c.simulatedMarketPrice),S=_/Ar(v)||0,k=b.floorPrice.add(.015).prettify(2),D=Qe.Decimal.max(b.marketPrice.mul(1.1),b.floorPrice.mul(1.5)).prettify(2),E=Ur(c.alphaAccrualFactor,c.marketPricePremium,b.claimBondFee);return Object(ti.c)(ti.a,{children:[Object(ti.c)(d.j,{as:"h2",sx:{pt:1,pb:3,px:2},children:[Object(ti.b)(d.h,{sx:{justifyContent:"center"},children:"Bond MSD"}),Object(ti.b)(d.f,{onClick:function(){r("ABORT_PRESSED")},sx:{position:"absolute",right:"24px",top:"24px"}})]}),Object(ti.c)(d.h,{sx:{justifyContent:"center",alignItems:"center"},children:[Object(ti.b)(d.k,{sx:{height:180,border:"10px solid white",borderRadius:"14%",borderColor:"white"},src:"./bonds/egg-nft.png"}),Object(ti.b)(Vt,{tooltip:Object(ti.b)(d.d,{variant:"tooltip",sx:{width:"200px"},children:at})})]}),Object(ti.b)(d.h,{my:4,sx:{justifyContent:"center"},children:Object(ti.b)(mr,{events:[{date:new Date((O=Date.now(),new Date(new Date(O).toDateString()))),label:Object(ti.c)(ti.a,{children:[Object(ti.b)(br,{subLabel:"0 bMSD",description:nt,children:tt}),Object(ti.b)(pr,{children:"0 bMSD"})]}),isEndOfLife:!0},{date:c.breakEvenTime,label:Object(ti.c)(ti.a,{children:[Object(ti.b)(br,{description:it.description,children:it.term}),Object(ti.b)(pr,{children:"".concat(w.mul(c.breakEvenAccrualFactor).prettify(2)," bMSD")})]})},{date:c.rebondTime,label:Object(ti.c)(ti.a,{children:[Object(ti.b)(br,{description:rt.description,children:rt.term}),Object(ti.b)(pr,{children:"".concat(w.mul(c.rebondAccrualFactor).prettify(2)," bMSD")})]})}]})}),Object(ti.b)(jn,{label:ct.term,inputId:"bond-deposit-amount",amount:v.prettify(2),unit:"MSD",editingState:j,editedAmount:v.toString(),setEditedAmount:function(e){return T(Qe.Decimal.min(u,Qe.Decimal.from(e)))},maxAmount:u.toString(),maxedOut:v.eq(u)}),Object(ti.c)(d.i,{sx:{my:1,mb:3,justifyItems:"center",pl:2},gap:"20px",columns:3,children:[Object(ti.b)(hr,{name:st.term,value:_.toFixed(2),type:"MSD",description:st.description}),Object(ti.b)(hr,{name:ot.term,value:Rr(S).toFixed(2)+"%",type:"",description:ot.description}),Object(ti.b)(hr,{name:ut.term,value:Rr(S*(365/Ar(E))).toFixed(2)+"%",type:"",description:ut.description})]}),Object(ti.b)(Is,{name:"Simulate market price",description:'\n                The market price of bMSD impacts how long it will take to rebond and break even. The\n                market price has a minimum value ("floor price") which is determined by the\n                Treasury\'s Reserve bucket relative to the bMSD supply.',value:c.simulatedMarketPrice,min:k,max:D,type:"MSD",onSliderChange:function(e){return l(e)},onReset:function(){return l(b.marketPrice)}}),!o&&Object(ti.b)(ln,{children:Object(ti.b)(d.t,{children:"You are approving MSD for bonding"})}),"FAILED"===s.APPROVE&&Object(ti.b)(ta,{children:"Failed to approve spend of MSD. Please try again."}),"FAILED"===s.CREATE&&Object(ti.b)(ta,{children:"Failed to create bond. Please try again."}),o&&Object(ti.c)(ln,{children:["You are bonding ",Object(ti.c)(d.t,{sx:{fontWeight:"bold"},children:[v.prettify(2)," MSD"]})]}),Object(ti.b)(d.h,{pb:2,sx:{fontSize:"15.5px",justifyContent:"center",fontStyle:"italic"},children:"You can cancel your bond at any time to recover your deposited MSD"}),Object(ti.c)(d.h,{variant:"layout.actions",children:[Object(ti.b)(d.c,{variant:"cancel",onClick:g,disabled:x,children:"Back"}),!o&&Object(ti.c)(d.c,{onClick:function(){r("APPROVE_PRESSED")},disabled:x,children:[!x&&Object(ti.b)(ti.a,{children:"Approve"}),x&&Object(ti.b)(d.s,{size:"28px",sx:{color:"white",position:"absolute"}})]}),o&&Object(ti.c)(d.c,{onClick:function(){r("CONFIRM_PRESSED",{deposit:v})},disabled:x,children:[!x&&Object(ti.b)(ti.a,{children:"Confirm"}),x&&Object(ti.b)(d.s,{size:"28px",sx:{color:"white"}})]})]})]})},Bs=function(e){var t=e.children,n=qt().dispatchEvent;return Object(ti.c)(ti.a,{children:[Object(ti.c)(d.j,{as:"h2",sx:{pt:2,pb:3,px:2},children:[Object(ti.b)(d.h,{sx:{justifyContent:"center"},children:"Bond MSD"}),Object(ti.b)(d.f,{onClick:function(){return n("ABORT_PRESSED")},sx:{position:"absolute",right:"24px",top:"24px"}})]}),Object(ti.b)(d.h,{sx:{justifyContent:"center"},children:Object(ti.b)(q,{name:"question-circle",size:"6x"})}),t]})},Fs=function(){var e=Object(a.useRef)(null),t=Qr(),n=t.go,i=t.back;return Object(ti.c)(Bs,{children:[Object(ti.c)(d.b,{sx:{p:[2,3]},children:[Object(ti.b)(d.p,{sx:{mt:2},children:"Deposit MSD to create a bond which exchanges MSD to bMSD over time."}),Object(ti.b)(d.p,{sx:{mt:2},children:"Bonds can be cancelled at any time to fully recover the initially deposited MSD."}),Object(ti.b)(d.p,{sx:{mt:2},children:"Please take some time to understand how MSD bonds work:"}),Object(ti.c)("ul",{children:[Object(ti.b)("li",{children:Object(ti.b)(d.n,{sx:{cursor:"pointer"},href:"http://google.com",target:"external",children:"What is a principal-protected investment?"})}),Object(ti.b)("li",{children:Object(ti.b)(d.n,{sx:{cursor:"pointer"},href:"http://google.com",target:"external",children:"How do traditional bonds work?"})}),Object(ti.b)("li",{children:Object(ti.b)(d.n,{sx:{cursor:"pointer"},href:"http://google.com",target:"external",children:"How do existing DeFi bonds work?"})}),Object(ti.b)("li",{children:Object(ti.b)(d.n,{sx:{cursor:"pointer"},href:"http://google.com",target:"external",children:"How do MSD bonds work?"})}),Object(ti.b)("li",{children:Object(ti.b)(d.n,{sx:{cursor:"pointer"},href:"http://google.com",target:"external",children:"What is the MSD bonding process?"})})]})]}),Object(ti.c)(d.h,{variant:"layout.actions",children:[Object(ti.b)(d.h,{sx:{justifyContent:"flex-end",flexDirection:"column"},children:Object(ti.b)(d.m,{sx:{fontSize:"14px"},children:Object(ti.c)(d.h,{children:[Object(ti.b)(d.e,{ref:e}),"Don't show this message again"]})})}),Object(ti.b)(d.c,{variant:"cancel",onClick:i||function(){},children:"Back"}),Object(ti.b)(d.c,{onClick:function(){var t;(null===e||void 0===e||null===(t=e.current)||void 0===t?void 0:t.checked)&&window.localStorage.setItem("LIQUITY.BOND_FAQ.VISISBLE","true"),n&&n(Ps)},children:"I understand"})]})]})},Ns=function(){var e=qt().dispatchEvent,t=function(){e("ABORT_PRESSED")};return"true"===window.localStorage.getItem("LIQUITY.BOND_FAQ.VISISBLE")?Object(E.jsx)(Er,{onDismiss:t,children:Object(E.jsx)(Ps,{})}):Object(E.jsxs)(Vr,{onDismiss:t,children:[Object(E.jsx)(Fs,{}),Object(E.jsx)(Ps,{})]})},Us=(Ms={},Object(Zr.a)(Ms,fe.BLUSD,"bMSD"),Object(Zr.a)(Ms,fe.LUSD,"MSD"),Ms),qs=(As={},Object(Zr.a)(As,fe.BLUSD,fe.LUSD),Object(Zr.a)(As,fe.LUSD,fe.BLUSD),As),Ys=Qe.Decimal.ONE.div(1e3),Gs=function(){var e,t=qt(),n=t.dispatchEvent,i=t.statuses,r=t.inputToken,s=t.lusdBalance,o=t.bLusdBalance,u=t.isInputTokenApprovedWithBLusdAmm,c=t.getExpectedSwapOutput,l=Object(a.useState)(),p=null!==(e=r===fe.BLUSD?o:s)&&void 0!==e?e:Qe.Decimal.ZERO,b=Object(a.useState)(Qe.Decimal.ZERO),f=Object(y.a)(b,2),m=f[0],h=f[1],j=Object(a.useState)(Qe.Decimal.ZERO),x=Object(y.a)(j,2),g=x[0],O=x[1],w=Object(a.useState)(Qe.Decimal.ZERO),_=Object(y.a)(w,2),S=_[0],k=_[1],D=Object(a.useState)(Qe.Decimal.ZERO),M=Object(y.a)(D,2),A=M[0],C=M[1],L=new Qe.Percent(A),R="PENDING"===i.APPROVE_AMM,I="PENDING"===i.SWAP,P=m.gt(p);return Object(a.useEffect)((function(){var e=!1,t=setTimeout(Object(T.a)(v.a.mark((function t(){var n,a,i,s,o,u,d;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([c(r,Ys),m.nonZero&&c(r,m)]);case 3:if(n=t.sent,a=Object(y.a)(n,2),i=a[0],s=a[1],!e){t.next=9;break}return t.abrupt("return");case 9:o=i.div(Ys),u=null===s||void 0===s?void 0:s.div(m),d=(null===u||void 0===u?void 0:u.lte(o))?o.sub(u).div(o):Qe.Decimal.ZERO,O(null!==s&&void 0!==s?s:Qe.Decimal.ZERO),k(null!==u&&void 0!==u?u:o),C(d),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),console.error("getExpectedSwapOutput() failed"),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,17]])}))),200);return function(){clearTimeout(t),e=!0}}),[r,m,c]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(d.j,{as:"h2",sx:{pt:2,pb:3,px:2},children:[Object(E.jsxs)(d.h,{sx:{justifyContent:"center"},children:[r===fe.BLUSD?Object(E.jsx)(E.Fragment,{children:"Sell"}):Object(E.jsx)(E.Fragment,{children:"Buy"})," bMSD"]}),Object(E.jsx)(d.f,{onClick:function(){n("ABORT_PRESSED")},sx:{position:"absolute",right:"24px",top:"24px"}})]}),Object(E.jsx)(jn,{label:"Sell",inputId:"swap-input-amount",amount:m.prettify(2),unit:Us[r],editingState:l,editedAmount:m.toString(),setEditedAmount:function(e){return h(Qe.Decimal.from(e))},maxAmount:p.toString(),maxedOut:m.eq(p)}),Object(E.jsx)(d.h,{sx:{justifyContent:"center",mb:3},children:Object(E.jsx)(q,{name:"arrow-down",size:"lg"})}),Object(E.jsx)(Tn,{label:"Buy",inputId:"swap-output-amount",amount:g.prettify(2),unit:Us[qs[r]]}),Object(E.jsx)(vn,{label:"Exchange rate",inputId:"swap-exchange-rate",amount:S.prettify(4),unit:"".concat(Us[r],":").concat(Us[qs[r]])}),Object(E.jsx)(vn,{label:"Price impact",inputId:"swap-price-impact",amount:L.toString(4),color:A.gte(.005)?"danger":void 0}),P&&Object(E.jsxs)(Dn,{children:["Amount exceeds your balance by"," ",Object(E.jsxs)(pn,{children:[m.sub(p).prettify(2)," ",Us[r]]})]}),Object(E.jsxs)(d.h,{variant:"layout.actions",children:[Object(E.jsx)(d.c,{variant:"cancel",onClick:function(){n("BACK_PRESSED")},disabled:R||I,children:"Back"}),u?Object(E.jsx)(d.c,{variant:"primary",onClick:function(){n("CONFIRM_PRESSED",{inputAmount:m,minOutputAmount:g.mul(.995)})},disabled:m.isZero||P||I,children:I?Object(E.jsx)(d.s,{size:"28px",sx:{color:"white"}}):Object(E.jsx)(E.Fragment,{children:"Confirm"})}):Object(E.jsx)(d.c,{variant:"primary",onClick:function(){n("APPROVE_PRESSED")},disabled:R,children:R?Object(E.jsx)(d.s,{size:"28px",sx:{color:"white"}}):Object(E.jsx)(E.Fragment,{children:"Approve"})})]})]})},Qs=function(){var e=qt().dispatchEvent;return Object(E.jsx)(Er,{onDismiss:function(){e("ABORT_PRESSED")},children:Object(E.jsx)(Gs,{})})},Ws=function(e){var t=e.symbol,n=e.children;return Object(ti.c)(ti.a,{children:[Object(ti.b)(d.t,{sx:{fontWeight:"medium"},children:n}),"\xa0",Object(ti.b)(d.t,{sx:{fontWeight:"light",opacity:.8},children:t})]})},Hs=function(){var e=qt(),t=e.lpTokenSupply,n=e.bLusdAmmBLusdBalance,a=e.bLusdAmmLusdBalance;return Object(ti.c)("details",{children:[Object(ti.b)("summary",{sx:{cursor:"pointer",mb:3},children:"Pool details"}),Object(ti.c)(d.b,{sx:{mt:3},children:[Object(ti.b)(vn,{label:"Pool balance",inputId:"deposit-pool-balance",children:Object(ti.c)(d.h,{sx:{alignItems:"center"},children:[Object(ti.b)(Ws,{symbol:"bMSD",children:(null!==n&&void 0!==n?n:Qe.Decimal.ZERO).prettify(2)}),Object(ti.b)(d.t,{sx:{fontWeight:"light",mx:"12px"},children:"+"}),Object(ti.b)(Ws,{symbol:"MSD",children:(null!==a&&void 0!==a?a:Qe.Decimal.ZERO).prettify(2)})]})}),Object(ti.b)(vn,{label:"LP token supply",inputId:"deposit-mint-lp-tokens",amount:(null!==t&&void 0!==t?t:Qe.Decimal.ZERO).prettify(2)})]})]})},Vs=function(){var e=qt(),t=e.dispatchEvent,n=e.statuses,i=e.lusdBalance,r=e.bLusdBalance,s=e.isBLusdApprovedWithBlusdAmm,o=e.isLusdApprovedWithBlusdAmm,u=e.getExpectedLpTokens,c=Object(a.useState)(),l=Object(a.useState)(Qe.Decimal.ZERO),p=Object(y.a)(l,2),b=p[0],f=p[1],m=Object(a.useState)(Qe.Decimal.ZERO),h=Object(y.a)(m,2),j=h[0],x=h[1],g=Object(a.useState)(Qe.Decimal.ZERO),O=Object(y.a)(g,2),w=O[0],_=O[1],S=null!==r&&void 0!==r?r:Qe.Decimal.ZERO,k=null!==i&&void 0!==i?i:Qe.Decimal.ZERO,D="PENDING"===n.APPROVE_AMM,M="PENDING"===n.MANAGE_LIQUIDITY,A=b.gt(S),C=j.gt(k),L=A||C,R=[b.isZero||s?[]:[fe.BLUSD],j.isZero||o?[]:[fe.LUSD]].flat(),I=0===R.length;return Object(a.useEffect)((function(){if(!b.isZero||!j.isZero){var e=!1,t=setTimeout(Object(T.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u(b,j);case 3:if(n=t.sent,!e){t.next=6;break}return t.abrupt("return");case 6:_(n),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("getExpectedLpTokens() failed"),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))),200);return function(){clearTimeout(t),e=!0}}_(Qe.Decimal.ZERO)}),[b,j,u]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(jn,{label:"Deposit #1",inputId:"deposit-blusd",amount:b.prettify(2),unit:"bMSD",editingState:c,editedAmount:b.toString(),setEditedAmount:function(e){return f(Qe.Decimal.from(e))},maxAmount:S.toString(),maxedOut:b.eq(S)}),Object(E.jsx)(jn,{label:"Deposit #2",inputId:"deposit-lusd",amount:j.prettify(2),unit:"MSD",editingState:c,editedAmount:j.toString(),setEditedAmount:function(e){return x(Qe.Decimal.from(e))},maxAmount:k.toString(),maxedOut:j.eq(k)}),Object(E.jsx)(d.h,{sx:{justifyContent:"center",mb:3},children:Object(E.jsx)(q,{name:"arrow-down",size:"lg"})}),Object(E.jsx)(Tn,{label:"Mint LP tokens",inputId:"deposit-mint-lp-tokens",amount:w.prettify(2)}),Object(E.jsx)(Hs,{}),L&&Object(E.jsxs)(Dn,{children:["Deposit exceeds your balance by"," ",A&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(pn,{children:[b.sub(S).prettify(2)," bLUSD"]}),C&&Object(E.jsx)(E.Fragment,{children:" and "})]}),C&&Object(E.jsxs)(pn,{children:[j.sub(k).prettify(2)," LUSD"]})]}),Object(E.jsxs)(d.h,{variant:"layout.actions",children:[Object(E.jsx)(d.c,{variant:"cancel",onClick:function(){t("BACK_PRESSED")},disabled:D||M,children:"Back"}),I?Object(E.jsx)(d.c,{variant:"primary",onClick:function(){t("CONFIRM_PRESSED",{action:"addLiquidity",bLusdAmount:b,lusdAmount:j,minLpTokens:Qe.Decimal.ZERO})},disabled:b.isZero&&j.isZero||L||M,children:M?Object(E.jsx)(d.s,{size:"28px",sx:{color:"white"}}):Object(E.jsx)(E.Fragment,{children:"Confirm"})}):Object(E.jsx)(d.c,{variant:"primary",onClick:function(){t("APPROVE_PRESSED",{tokensNeedingApproval:R})},disabled:D,children:D?Object(E.jsx)(d.s,{size:"28px",sx:{color:"white"}}):Object(E.jsx)(E.Fragment,{children:"Approve"})})]})]})},Zs=new Map([[fe.BLUSD,"bMSD"],[fe.LUSD,"MSD"]]),zs=function(e){var t=e.symbol,n=e.children;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(d.t,{sx:{fontWeight:"medium"},children:n}),"\xa0",Object(E.jsx)(d.t,{sx:{fontWeight:"light",opacity:.8},children:t})]})},Ks=new Map([[fe.BLUSD,Qe.Decimal.ZERO],[fe.LUSD,Qe.Decimal.ZERO]]),Js=function(){var e=qt(),t=e.dispatchEvent,n=e.statuses,i=e.lpTokenBalance,r=e.getExpectedWithdrawal,s=Object(a.useState)(),o=Object(a.useState)(Qe.Decimal.ZERO),u=Object(y.a)(o,2),c=u[0],l=u[1],p=Object(a.useState)("both"),b=Object(y.a)(p,2),f=b[0],m=b[1],h=Object(a.useState)(Ks),j=Object(y.a)(h,2),x=j[0],g=j[1],O=null!==i&&void 0!==i?i:Qe.Decimal.ZERO,w="PENDING"===n.MANAGE_LIQUIDITY,_=c.gt(O),S=function(e){return m(function(e){if("both"===e)return"both";var t=parseInt(e);if(t===fe.BLUSD||t===fe.LUSD)return t;throw new Error('invalid output choice "'.concat(e,'"'))}(e.target.value))};return Object(a.useEffect)((function(){if(!c.isZero){var e=!1,t=setTimeout(Object(T.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r(c,f);case 3:if(n=t.sent,!e){t.next=6;break}return t.abrupt("return");case 6:g(n),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("getExpectedWithdrawal() failed"),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))),200);return function(){clearTimeout(t),e=!0}}g("both"===f?Ks:new Map([[f,Qe.Decimal.ZERO]]))}),[c,r,f]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(jn,{label:"Burn LP Tokens",inputId:"withdraw-burn-lp",amount:c.prettify(2),editingState:s,editedAmount:c.toString(),setEditedAmount:function(e){return l(Qe.Decimal.from(e))},maxAmount:O.toString(),maxedOut:c.eq(O)}),Object(E.jsx)(d.h,{sx:{justifyContent:"center",mb:3},children:Object(E.jsx)(q,{name:"arrow-down",size:"lg"})}),Object(E.jsxs)(d.h,{sx:{justifyContent:"center",mb:3},children:[Array.from(Zs.entries()).map((function(e){var t=Object(y.a)(e,2),n=t[0],a=t[1];return Object(E.jsxs)(d.m,{variant:"radioLabel",children:[Object(E.jsx)(d.q,{name:"withdraw-output-choice",value:n,checked:f===n,onChange:S}),a]},n)})),Object(E.jsxs)(d.m,{variant:"radioLabel",children:[Object(E.jsx)(d.q,{name:"withdraw-output-choice",value:"both",checked:"both"===f,onChange:S}),"Both"]},"both")]}),Object(E.jsx)(Tn,{label:"Withdraw",inputId:"withdraw-output-amount",children:Object(E.jsx)(d.h,{sx:{alignItems:"center"},children:Array.from(x.entries()).map((function(e,t){var n,a=Object(y.a)(e,2),i=a[0],r=a[1];return Object(E.jsxs)(E.Fragment,{children:[t>0&&Object(E.jsx)(d.t,{sx:{fontWeight:"light",mx:"12px"},children:"+"}),Object(E.jsx)(zs,{symbol:null!==(n=Zs.get(i))&&void 0!==n?n:"",children:r.prettify(2)})]})}))})}),Object(E.jsx)(Hs,{}),_&&Object(E.jsxs)(Dn,{children:["LP Token amount exceeds your balance by"," ",Object(E.jsx)(pn,{children:c.sub(O).prettify(2)})]}),Object(E.jsxs)(d.h,{variant:"layout.actions",children:[Object(E.jsx)(d.c,{variant:"cancel",onClick:function(){t("BACK_PRESSED")},disabled:w,children:"Back"}),Object(E.jsx)(d.c,{variant:"primary",onClick:function(){t("CONFIRM_PRESSED","both"===f?{action:"removeLiquidity",burnLpTokens:c,minBLusdAmount:Qe.Decimal.ZERO,minLusdAmount:Qe.Decimal.ZERO}:{action:"removeLiquidityOneCoin",burnLpTokens:c,output:f,minAmount:Qe.Decimal.ZERO})},disabled:c.isZero||_||w,children:w?Object(E.jsx)(d.s,{size:"28px",sx:{color:"white"}}):Object(E.jsx)(E.Fragment,{children:"Confirm"})})]})]})},Xs=function(e){var t=e.active,n=e.children,a=Object(I.a)(e,["active","children"]);return Object(E.jsx)(d.o,Object(j.a)(Object(j.a)({},a),{},{sx:Object(j.a)({cursor:"pointer"},t?{color:"primary"}:{}),children:n}))},$s=function(){var e=qt().dispatchEvent,t=Object(a.useState)("deposit"),n=Object(y.a)(t,2),i=n[0],r=n[1],s=function(){e("ABORT_PRESSED")};return Object(E.jsxs)(Er,{onDismiss:s,children:[Object(E.jsxs)(d.j,{as:"h2",sx:{pt:2,pb:3,px:2},children:[Object(E.jsx)(d.h,{sx:{justifyContent:"center"},children:"Manage liquidity"}),Object(E.jsx)(d.f,{onClick:s,sx:{position:"absolute",right:"24px",top:"24px"}})]}),Object(E.jsxs)(d.h,{as:"nav",sx:{mb:3},children:[Object(E.jsx)(Xs,{active:"deposit"===i,onClick:function(){return r("deposit")},children:"Deposit"}),Object(E.jsx)(Xs,{active:"withdraw"===i,onClick:function(){return r("withdraw")},children:"Withdraw"})]}),"deposit"===i?Object(E.jsx)(Vs,{}):Object(E.jsx)(Js,{})]})},eo=function(){var e=qt().dispatchEvent,t=function(){e("ABORT_PRESSED")};return Object(E.jsxs)(Er,{onDismiss:t,children:[Object(E.jsxs)(d.j,{as:"h2",sx:{pt:2,pb:3,px:2},children:[Object(E.jsx)(d.h,{sx:{justifyContent:"center"},children:"Add liquidity"}),Object(E.jsx)(d.f,{onClick:t,sx:{position:"absolute",right:"24px",top:"24px"}})]}),Object(E.jsx)(Vs,{})]})},to=function(){var e=qt(),t=e.view;if(!e.hasFoundContracts)return Object(E.jsx)(d.g,{sx:{position:"absolute",left:"30%",top:"40%"},children:Object(E.jsx)(Jn,{title:"Unsupported network",children:"MSD Bonds haven't been deployed to this network. Please use Ethereum mainnet."})});var n=null;switch(t){case"CANCELLING":case"CLAIMING":n=Object(E.jsx)(Yr,{});break;case"CREATING":n=Object(E.jsx)(Ns,{});break;case"SWAPPING":n=Object(E.jsx)(Qs,{});break;case"ADDING_LIQUIDITY":n=Object(E.jsx)(eo,{});break;case"MANAGING_LIQUIDITY":n=Object(E.jsx)($s,{})}return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(_r,{}),n]})},no={IDLE:"idle",PENDING:"waitingForConfirmation",FAILED:"failed",CONFIRMED:"confirmed"},ao=function(){var e=qt().statuses,t=Object.keys(e).find((function(t){return"IDLE"!==e[t]})),n=t?no[e[t]]:null;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(d.g,{variant:"columns",sx:{justifyContent:"flex-start"},children:[Object(E.jsx)(d.g,{variant:"left",sx:{width:["100%","70%"]},children:Object(E.jsx)(to,{})}),Object(E.jsx)(d.g,{variant:"right",sx:{width:["100%","30%"]},children:Object(E.jsx)(Ji,{})})]}),n&&Object(E.jsx)(oe,{state:n,style:{zIndex:9999999999}})]})},io={NONE:{OPEN_TROVE_PRESSED:"OPENING",TROVE_OPENED:"ACTIVE"},LIQUIDATED:{OPEN_TROVE_PRESSED:"OPENING",TROVE_SURPLUS_COLLATERAL_CLAIMED:"NONE",TROVE_OPENED:"ACTIVE"},REDEEMED:{OPEN_TROVE_PRESSED:"OPENING",TROVE_SURPLUS_COLLATERAL_CLAIMED:"NONE",TROVE_OPENED:"ACTIVE"},OPENING:{CANCEL_ADJUST_TROVE_PRESSED:"NONE",TROVE_OPENED:"ACTIVE"},ADJUSTING:{CANCEL_ADJUST_TROVE_PRESSED:"ACTIVE",TROVE_ADJUSTED:"ACTIVE",TROVE_CLOSED:"NONE",TROVE_LIQUIDATED:"LIQUIDATED",TROVE_REDEEMED:"REDEEMED"},CLOSING:{CANCEL_ADJUST_TROVE_PRESSED:"ACTIVE",TROVE_CLOSED:"NONE",TROVE_ADJUSTED:"ACTIVE",TROVE_LIQUIDATED:"LIQUIDATED",TROVE_REDEEMED:"REDEEMED"},ACTIVE:{ADJUST_TROVE_PRESSED:"ADJUSTING",CLOSE_TROVE_PRESSED:"CLOSING",TROVE_CLOSED:"NONE",TROVE_LIQUIDATED:"LIQUIDATED",TROVE_REDEEMED:"REDEEMED"}},ro={open:"TROVE_OPENED",closedByOwner:"TROVE_CLOSED",closedByLiquidation:"TROVE_LIQUIDATED",closedByRedemption:"TROVE_REDEEMED"},so=function(e){return e.trove.status},oo=function(e){var t=e.children,n=Object(Ze.useLiquitySelector)(so),i=Object(a.useState)(function(e){return"closedByLiquidation"===e?"LIQUIDATED":"closedByRedemption"===e?"REDEEMED":"open"===e?"ACTIVE":"NONE"}(n)),r=Object(y.a)(i,2),s=r[0],o=r[1],u=Object(a.useRef)(s),c=Object(a.useCallback)((function(e){var t=function(e,t){var n;return null!==(n=io[e][t])&&void 0!==n?n:e}(u.current,e);console.log("dispatchEvent() [current-view, event, next-view]",u.current,e,t),o(t)}),[]);Object(a.useEffect)((function(){u.current=s}),[s]),Object(a.useEffect)((function(){var e,t=null!==(e=ro[n])&&void 0!==e?e:null;null!==t&&c(t)}),[n,c]);var d={view:s,dispatchEvent:c};return Object(E.jsx)(Sn.Provider,{value:d,children:t})},uo={NONE:{DEPOSIT_PRESSED:"DEPOSITING"},DEPOSITING:{CANCEL_PRESSED:"NONE",DEPOSIT_CONFIRMED:"ACTIVE"},ACTIVE:{REWARDS_CLAIMED:"ACTIVE",ADJUST_DEPOSIT_PRESSED:"ADJUSTING",DEPOSIT_EMPTIED:"NONE"},ADJUSTING:{CANCEL_PRESSED:"ACTIVE",DEPOSIT_CONFIRMED:"ACTIVE",DEPOSIT_EMPTIED:"NONE"}},co=function(e){return e.stabilityDeposit},lo=function(e){var t=e.children,n=Object(Ze.useLiquitySelector)(co),i=Object(a.useState)(function(e){return e.isEmpty?"NONE":"ACTIVE"}(n)),r=Object(y.a)(i,2),s=r[0],o=r[1],u=Object(a.useRef)(s),c=Object(a.useCallback)((function(e){var t=function(e,t){var n;return null!==(n=uo[e][t])&&void 0!==n?n:e}(u.current,e);console.log("dispatchEvent() [current-view, event, next-view]",u.current,e,t),o(t)}),[]);Object(a.useEffect)((function(){u.current=s}),[s]),Object(a.useEffect)((function(){n.isEmpty&&c("DEPOSIT_EMPTIED")}),[n.isEmpty,c]);var d={view:s,dispatchEvent:c};return Object(E.jsx)(Oa.Provider,{value:d,children:t})},po=Object(a.createContext)(null),bo=function(e){return{lqtyStake:e.lqtyStake,changePending:!1,adjusting:!1}},yo=function(e,t){switch(t.type){case"startAdjusting":return Object(j.a)(Object(j.a)({},e),{},{adjusting:!0});case"cancelAdjusting":return Object(j.a)(Object(j.a)({},e),{},{adjusting:!1});case"startChange":return Object(j.a)(Object(j.a)({},e),{},{changePending:!0});case"abortChange":return Object(j.a)(Object(j.a)({},e),{},{changePending:!1});case"updateStore":var n=t.oldState.lqtyStake,a=t.stateChange.lqtyStake;if(a){var i=!a.stakedLQTY.eq(n.stakedLQTY)||a.collateralGain.lt(n.collateralGain)||a.lusdGain.lt(n.lusdGain);return Object(j.a)(Object(j.a)({},e),{},{lqtyStake:a,adjusting:!1,changePending:!i&&e.changePending})}}return e},fo=function(e){var t=e.children,n=le("stake"),i=Object(Ze.useLiquityReducer)(yo,bo),r=Object(y.a)(i,2),s=r[0],o=s.adjusting,u=s.changePending,c=s.lqtyStake,d=r[1];return Object(a.useEffect)((function(){"waitingForApproval"===n.type||"waitingForConfirmation"===n.type?d({type:"startChange"}):"failed"!==n.type&&"cancelled"!==n.type||d({type:"abortChange"})}),[n.type,d]),Object(E.jsx)(po.Provider,{value:{view:o?"ADJUSTING":c.isEmpty?"NONE":"ACTIVE",changePending:u,dispatch:d},children:t})},mo=function(e){var t=e.loader,n=L(),a=n.account,i=n.provider,r=n.liquity;return Object.assign(window,{account:a,provider:i,liquity:r,Trove:Qe.Trove,Decimal:Qe.Decimal,Difference:Qe.Difference,Wallet:Ge.a}),Object(E.jsxs)(Ze.LiquityStoreProvider,{loader:t,store:r.store,children:[Object(E.jsx)(He.a,{children:Object(E.jsx)(oo,{children:Object(E.jsx)(lo,{children:Object(E.jsx)(fo,{children:Object(E.jsx)(Rs,{children:Object(E.jsxs)(d.h,{sx:{flexDirection:"column",minHeight:"100%"},children:[Object(E.jsxs)(dn,{children:[Object(E.jsx)(Wt,{}),Object(E.jsx)(tn,{})]}),Object(E.jsx)(d.g,{variant:"main",sx:{display:"flex",flexGrow:1,flexDirection:"column",alignItems:"center"},children:Object(E.jsxs)(Ve.d,{children:[Object(E.jsx)(Ve.b,{path:"/",exact:!0,children:Object(E.jsx)(vi,{})}),Object(E.jsx)(Ve.b,{path:"/bonds",children:Object(E.jsx)(ao,{})}),Object(E.jsx)(Ve.b,{path:"/risky-troves",children:Object(E.jsx)(Di,{})}),Object(E.jsx)(Ve.b,{path:"/redemption",children:Object(E.jsx)(Bi,{})})]})})]})})})})})}),Object(E.jsx)(he,{})]})};if(window.ethereum&&Object.assign(window.ethereum,{autoRefreshOnNetworkChange:!1}),"true"===Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"17f50abc59a99ef867aed539ecd5e263"}).REACT_APP_DEMO_MODE){var ho=new We(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"17f50abc59a99ef867aed539ecd5e263"}).REACT_APP_RPC_URL||"http://".concat(window.location.hostname,":8545"),"0x4d5db4107d237df6a3d58ee5f70ae63d73d7658d4026f2eefd2f204c81682cb7");Object.assign(window,{ethereum:ho})}D().then((function(e){Object.assign(window,{config:e})}));var vo=function(e){var t=e.children;return Object(E.jsx)(c.a,{getLibrary:function(e){return new p.BatchedWebSocketAugmentedWeb3Provider(e)},children:t})},To=function(){return Object(E.jsxs)(d.h,{sx:{flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",textAlign:"center"},children:[Object(E.jsxs)(d.j,{sx:{mb:3},children:[Object(E.jsx)(q,{name:"exclamation-triangle"})," This app is for testing purposes only."]}),Object(E.jsx)(d.p,{sx:{mb:3},children:"Please change your network to G\xf6rli or Arbitrum."}),Object(E.jsxs)(d.p,{children:["If you'd like to use the Liquity Protocol on mainnet, please pick a frontend"," ",Object(E.jsxs)(d.n,{href:"",children:["here ",Object(E.jsx)(q,{name:"external-link-alt",size:"xs"})]}),"."]})]})},jo=function(){return Object(E.jsx)(vo,{children:Object(E.jsx)(l.a,{theme:Ue,children:Object(E.jsx)(K,{loader:Object(E.jsx)(ws,{}),children:Object(E.jsx)(C,{loader:Object(E.jsx)(ws,{}),unsupportedNetworkFallback:function(e){return Object(E.jsxs)(d.h,{sx:{flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",textAlign:"center"},children:[Object(E.jsxs)(d.j,{sx:{mb:3},children:[Object(E.jsx)(q,{name:"exclamation-triangle"})," Liquity is not yet deployed to"," ",1===e?"mainnet":"this network","."]}),"Please switch to G\xf6rli or Arbitrum."]})},unsupportedMainnetFallback:Object(E.jsx)(To,{}),children:Object(E.jsx)(ce,{children:Object(E.jsx)(mo,{loader:Object(E.jsx)(ws,{})})})})})})})};u.a.setAppElement("#root"),s.a.render(Object(E.jsx)(i.a.StrictMode,{children:Object(E.jsx)(jo,{})}),document.getElementById("root"))},7:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(212),t),i(n(125),t),i(n(386),t),i(n(387),t),i(n(388),t),i(n(389),t),i(n(390),t),i(n(391),t),i(n(392),t),i(n(393),t),i(n(394),t),i(n(395),t),i(n(396),t)}},[[571,1,2]]]);
//# sourceMappingURL=main.033f20d8.chunk.js.map